/*! form-create v1.5.3 | github https://github.com/xaboy/form-create | author xaboy */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vue"),require("iview")):"function"==typeof define&&define.amd?define("formCreate",["vue","iview"],e):"object"==typeof exports?exports.formCreate=e(require("vue"),require("iview")):t.formCreate=e(t.Vue,t.iview)}("undefined"!=typeof self?self:this,function(t,e){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.parseRule=u,e.parseArray=s,e.parseEmit=l,e.parseEvent=c,e.parseProps=f,e.parseCol=h;var r=n(2);function o(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=u(n,e);this.rule=i,this.type=i.type,this.field=i.field,this.vm=e;var o=(0,r.uniqueId)();this.id=o,this.unique="fc_"+o,this.refName="__"+this.field+o,this.key="key_"+o,this.el={},this.childrenHandlers=[],this.watch=[],this.init(),this.parseValue=this.toParseValue(this.rule.value)}return i(t,[{key:"init",value:function(){}},{key:"toParseValue",value:function(t){return t}},{key:"toTrueValue",value:function(t){return t}},{key:"setTrueValue",value:function(t){this.rule.value=t,this.vm.changeTrueData(this.field,t)}},{key:"getValue",value:function(){return this.vm.getTrueDataValue(this.field)}},{key:"setParseValue",value:function(t){this.setTrueValue(this.toTrueValue(t))}},{key:"watchTrueValue",value:function(t){this.rule.value=t,this.vm.changeFormData(this.field,this.toParseValue(t))}},{key:"watchParseValue",value:function(t){}},{key:"mounted",value:function(){var t=this;this.el=this.vm.$refs[this.refName],this.defaultValue=this.toTrueValue(this.vm.$refs["fItem"+this.refName]?this.vm.$refs["fItem"+this.refName].initialValue:(0,r.deepExtend)({},{value:this.rule.value}).value),this.childrenHandlers.length>0&&this.childrenHandlers.forEach(function(e){return o(this,t),e.mounted()}.bind(this))}}]),t}();function u(t,e){var n=t.validate,i=void 0===n?[]:n,o=t.event,a=void 0===o?{}:o,u=t.col,d=void 0===u?{}:u,p=t.emit,v=void 0===p?[]:p,y=t.props,b=void 0===y?{}:y,m=t.on,g=void 0===m?{}:m,_=t.options,k=void 0===_?[]:_,w=t.title,O=void 0===w?"":w,P=t.value,j=void 0===P?"":P,S=t.field,E=void 0===S?"":S,T=t.className,C=void 0===T?"":T;return t.col=h(d),t.props=f(b),t.emitEvent=l(E,t.emitPrefix,v,e),t.event=(0,r.extend)(c(a),t.emitEvent),t.validate=s(i),t.options=s(k),t.title=O,t.value=j,t.field=E,t.className=C,E||console.error("规则的 field 字段不能空"+(0,r.errMsg)()),Object.keys(t.emitEvent).length>0&&(0,r.extend)(g,t.emitEvent),t.on=g,t}function s(t){return Array.isArray(t)?t:[]}function l(t,e,n,i){var a=this,u={};return Array.isArray(n)?(n.forEach(function(n){o(this,a);var s=(0,r.toLine)(String(t)+"-"+String(n)).replace("_","-"),l=e?(String(e)+"-").toLowerCase()+(0,r.toLine)(n):e;u["on-"+String(n)]=u[""+String(n)]=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o(this,a),i.$emit.apply(i,[s].concat(e)),l&&s!==l&&i.$emit.apply(i,[l].concat(e))}.bind(this)}.bind(this)),u):u}function c(t){return Object.keys(t).forEach(function(e){var n=0===(0,r.toString)(e).indexOf("on-")?e:"on-"+String(e);n!==e&&(t[n]=t[e])}),t}function f(t){return(0,r.isUndef)(t.hidden)&&(t.hidden=!1),(0,r.isUndef)(t.visibility)&&(t.visibility=!1),t}function h(t){return(0,r.isNumeric)(t)?{span:t}:(void 0===t.span&&(t.span=24),t)}e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2),o=s(n(8)),a=s(n(6)),u=s(n(5));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}var c=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vm=e,this.handler=n,this.options=i,this.vNode=new o.default(e),this.vData=new a.default,this.cache=null,this.$tickEvent=[],this.init()}return i(t,[{key:"init",value:function(){}},{key:"cacheParse",value:function(){var t=this;this.cache&&"__tmp"!==this.handler.rule.type||(this.cache=this.parse());var e=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.$tickEvent));return this.$tickEvent=[],(0,r.$nt)(function(){l(this,t),e.forEach(function(e){return l(this,t),e()}.bind(this))}.bind(this)),this.cache}},{key:"sync",value:function(t){(0,r.isFunction)(t)&&this.$tickEvent.push(t),this.clearCache(),this.vm.sync()}},{key:"clearCache",value:function(){var t=this;this.cache=null,this.handler.childrenHandlers.length>0&&this.handler.childrenHandlers.forEach(function(e){return l(this,t),e.render.clearCache()}.bind(this))}},{key:"parse",value:function(){var t=this,e=this.handler,n=e.type,i=e.rule,o=e.childrenHandlers,a=e.refName,s=e.key;if("__tmp"===i.type){var c=u.default.compile(i.template,{}).render.call(i._vm||this.vm);return void 0===c.data&&(c.data={}),(0,r.extend)(c.data,i),c.key=s,[c]}i.ref=a,(0,r.isUndef)(i.key)&&(i.key="def"+(0,r.uniqueId)());var f=this.vNode.make(n,(0,r.extend)({},i),function(){l(this,t);var e=[];return o.length>0&&(e=o.map(function(e){return l(this,t),e.render.cacheParse()}.bind(this))),e}.bind(this));return f.key=s,[f]}},{key:"inputProps",value:function(){var t=this,e=this.handler,n=e.refName,i=e.unique,o=e.key,a=e.field,u=e.rule,s=u.props,c=u.event;return this.vData.props((0,r.extend)(s,{value:this.vm.cptData[a],elementId:i})).ref(n).key(o+""+(0,r.uniqueId)()).on(c).on("input",function(e){l(this,t),this.onInput(e)}.bind(this))}},{key:"onInput",value:function(t){this.vm.$set(this.vm.cptData,this.handler.field,t)}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._toString=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.$nt=function(t){r.default.nextTick(t)},e.toRawType=function(t){return o.call(t).slice(8,-1)},e.isUndef=function(t){return void 0===t||null===t},e.toString=function(t){return null==t?"":"object"===(void 0===t?"undefined":i(t))?JSON.stringify(t,null,2):String(t)},e.extend=function(t,e){for(var n in e)t[n]=e[n];return t},e.debounce=function(t,e){var n=null;return function(){for(var i=this,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];null!==n&&clearTimeout(n),n=setTimeout(function(){return function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}(this,i),t.apply(void 0,o)}.bind(this),e)}},e.isDate=function(t){return"[object Date]"===o.call(t)},e.isPlainObject=a,e.isFunction=function(t){return"[object Function]"===o.call(t)},e.isString=function(t){return"[object String]"===o.call(t)},e.isBool=function(t){return"[object Boolean]"===o.call(t)},e.toLine=function(t){var e=t.replace(/([A-Z])/g,"-$1").toLowerCase();0===e.indexOf("-")&&(e=e.substr(1));return e},e.isNumeric=function(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)},e.toArray=function(t){return Array.isArray(t)?t:[t]},e.ATS=function(t){return Array.isArray(t)?t[0]||"":t},e.isElement=function(t){return"object"===(void 0===t?"undefined":i(t))&&null!==t&&1===t.nodeType&&!a(t)},e.deepExtend=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i=!1;for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];if((i=Array.isArray(o))||a(o)){var u=void 0===e[r];i?(i=!1,u&&(e[r]=[])):u&&(e[r]={}),t(e[r],o)}else e[r]=o}return e},e.uniqueId=function(){return++u},e.dateFormat=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t},e.errMsg=function(){return"\ngithub:https://github.com/xaboy/form-create\ndocument:http://www.form-create.com"};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(5));var o=e._toString=Object.prototype.toString;function a(t){return"[object Object]"===o.call(t)}var u=0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.baseRule=u,e.creatorFactory=function(t){var e=this;return function(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a(this,e),new s(t,n,i,r,o)}.bind(this)},e.creatorTypeFactory=function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return function(o,u,l){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(this,n);var f=new s(t,o,u,l,c);return(0,r.isFunction)(e)?e(f):f.props(i,e),f}.bind(this)};var r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(n(6));function a(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function u(){return{event:{},validate:[],options:[],col:{},children:[],emit:[],template:null,emitPrefix:null}}var s=function(t){function e(t,n,i,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return u.rule=(0,r.extend)({event:{},validate:[],options:[],col:{},children:[],emit:[],template:null,emitPrefix:null},{type:t,title:n,field:i,value:o}),u.props({hidden:!1,visibility:!1}),(0,r.isPlainObject)(a)&&u.props(a),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"type",value:function(t){return this.props("type",t),this}},{key:"get",value:function(){return this._data}},{key:"getRule",value:function(){return(0,r.extend)(this.rule,this.get())}},{key:"setValue",value:function(t){return this.rule.value=t,this}}]),e}();e.default=s;["emitPrefix","className","defaultSlot"].forEach(function(t){a(void 0,void 0),s.prototype[t]=function(e){return this.rule[t]=e,this}}.bind(void 0));["event","col"].forEach(function(t){a(void 0,void 0),s.prototype[t]=function(e){return this.rule[t]=(0,r.extend)(this.rule[t],e),this}}.bind(void 0));["validate","options","children","emit"].forEach(function(t){a(void 0,void 0),s.prototype[t]=function(e){return Array.isArray(e)||(e=[e]),this.rule[t]=this.rule[t].concat(e),this}}.bind(void 0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.componentCommon=e.getGlobalApi=e.formCreateStyle=e.iviewConfig=e.iview3=e.iview2=void 0,e.getComponent=function(t,e,n){var r=(0,i.toString)(e.type).toLowerCase(),o=void 0===a.default[r]?d():a.default[r],u=new o.handler(t,e);return u.render=new o.render(t,u,n),u.noValue=o.noValue,u},e.getUdfComponent=d,e.getConfig=function(){var t=this;return{el:null,iframeHelper:!1,switchMaker:!0,form:{inline:!1,labelPosition:"right",labelWidth:125,showMessage:!0,autocomplete:"off"},row:{gutter:0,type:void 0,align:void 0,justify:void 0,className:void 0},upload:{beforeUpload:function(){l(this,t)}.bind(this),onProgress:function(e,n,i){l(this,t)}.bind(this),onSuccess:function(e,n,i){l(this,t)}.bind(this),onError:function(e,n,i){l(this,t)}.bind(this),onPreview:function(e){l(this,t)}.bind(this),onRemove:function(e,n){l(this,t)}.bind(this),onFormatError:function(e,n){l(this,t)}.bind(this),onExceededSize:function(e,n){l(this,t)}.bind(this),handleIcon:"ios-eye-outline",allowRemove:!0},submitBtn:{type:"primary",size:"large",shape:void 0,long:!0,htmlType:"button",disabled:!1,icon:h.submitBtnIcon,innerText:"提交",loading:!1,show:!0,col:void 0},resetBtn:{type:h.resetBtnType,size:"large",shape:void 0,long:!0,htmlType:"button",disabled:!1,icon:h.resetBtnIcon,innerText:"重置",loading:!1,show:!1,col:void 0},mounted:function(){l(this,t)}.bind(this),onReload:function(){l(this,t)}.bind(this),onSubmit:function(e){l(this,t)}.bind(this)}},e.toDefSlot=function(t,e,n){return[t&&(0,i.isFunction)(t)?t.call(n,e):t]},e.timeStampToDate=function(t){if((0,i.isDate)(t))return t;var e=new Date(t);return"Invalid Date"===e.toString()?t:e};var i=n(2),r=s(n(0)),o=s(n(1)),a=s(n(9)),u=s(n(11));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}var c=e.iview2={_v:2,resetBtnType:"ghost",resetBtnIcon:"refresh",submitBtnIcon:"ios-upload",fileIcon:"document-text",fileUpIcon:"folder",imgUpIcon:"image"},f=e.iview3={_v:3,resetBtnType:"default",resetBtnIcon:"md-refresh",submitBtnIcon:"ios-share",fileIcon:"md-document",fileUpIcon:"ios-folder-open",imgUpIcon:"md-images"},h=e.iviewConfig=void 0===u.default?c:u.default.version&&3==u.default.version.split(".")[0]?f:c;function d(){return{handler:r.default,render:o.default,noValue:!0}}e.formCreateStyle=".form-create{padding:25px;} .fc-upload-btn,.fc-files{display: inline-block;width: 58px;height: 58px;text-align: center;line-height: 58px;border: 1px solid #c0ccda;border-radius: 4px;overflow: hidden;background: #fff;position: relative;box-shadow: 2px 2px 5px rgba(0,0,0,.1);margin-right: 4px;box-sizing: border-box;}.__fc_h{display:none;}.__fc_v{visibility:hidden;} .fc-files>.ivu-icon{vertical-align: middle;}.fc-files img{width:100%;height:100%;display:inline-block;vertical-align: top;}.fc-upload .ivu-upload{display: inline-block;}.fc-upload-btn{border: 1px dashed #c0ccda;}.fc-upload-btn>ivu-icon{vertical-align:sub;}.fc-upload .fc-upload-cover{opacity: 0; position: absolute; top: 0; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,.6); transition: opacity .3s;}.fc-upload .fc-upload-cover i{ color: #fff; font-size: 20px; cursor: pointer; margin: 0 2px; }.fc-files:hover .fc-upload-cover{opacity: 1; }.fc-hide-btn .ivu-upload .ivu-upload{display:none;}.fc-upload .ivu-upload-list{margin-top: 0;}.fc-spin-icon-load{animation: ani-fc-spin 1s linear infinite;} @-webkit-keyframes ani-fc-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes ani-fc-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}";e.getGlobalApi=function(t){var e=this,n=this,r=t.vm;return{formData:function(){return l(this,e),Object.keys(r.trueData).reduce(function(t,n){return l(this,e),t[n]=r.trueData[n].value,t}.bind(this),{})}.bind(this),getValue:function(n){l(this,e),n=(0,i.toString)(n);var r=t.handlers[n];if(void 0===r)throw new Error(String(n)+" 字段不存在!"+(0,i.errMsg)());return r.getValue()}.bind(this),changeField:function(n,o){l(this,e),n=(0,i.toString)(n);var a=t.handlers[n];if(void 0===a)throw new Error(String(n)+" 字段不存在!"+(0,i.errMsg)());(0,i.isFunction)(o)?o(r.getTrueData(n),function(t){l(this,e),this.changeField(n,t)}.bind(this)):(a.setTrueValue(o),a.render.sync())}.bind(this),removeField:function(n){l(this,e),t.removeField((0,i.toString)(n)),r.sync()}.bind(this),validate:function(n,i){l(this,e),t.getFormRef().validate(function(t){l(this,e),!0===t?n&&n():i&&i()}.bind(this))}.bind(this),validateField:function(n,r){if(l(this,e),t.notField(n))throw new Error(String(n)+"字段不存在"+(0,i.errMsg)());t.getFormRef().validateField(n,r)}.bind(this),resetFields:function(){var e=this,n=t.handlers;Object.keys(r.trueData).forEach(function(t){l(this,e),r.$set(r.trueData[t],"value",n[t].defaultValue)}.bind(this))},destroy:function(){l(this,e),r.$el.parentNode.removeChild(r.$el),r.$destroy()}.bind(this),fields:function(){return l(this,e),t.fields()}.bind(this),append:function(n,i){l(this,e),t.append(n,i,!1)}.bind(this),prepend:function(n,i){l(this,e),t.append(n,i,!0)}.bind(this),submit:function(e,n){var r=this;this.validate(function(){l(this,r);var n=this.formData();(0,i.isFunction)(e)?e(n):t.options.onSubmit&&t.options.onSubmit(n)}.bind(this),function(){return l(this,r),n&&n()}.bind(this))},hidden:function(e){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.vm;e?Array.isArray(e)||(e=[e]):e=this.fields(),e.forEach(function(t){l(this,n),r.$set(r.trueData[t].rule.props,"hidden",!!i)}.bind(this))},visibility:function(e){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.vm;e?Array.isArray(e)||(e=[e]):e=this.fields(),e.forEach(function(t){l(this,n),r.$set(r.trueData[t].rule.props,"visibility",!!i)}.bind(this))},model:function(e){var n=this,r={};return e?Array.isArray(e)||(e=[e]):e=this.fields(),e.forEach(function(e){l(this,n);var o=t.handlers[e];if(!o)throw new Error(String(e)+"字段不存在"+(0,i.errMsg)());r[e]=o.vm.getTrueData(e)}.bind(this)),r},bind:function(e){var n=this,i={},r={},o=t.vm;return e?Array.isArray(e)||(e=[e]):e=this.fields(),e.forEach(function(t){l(this,n);var e=o.trueData[t];r[t]={get:function(){return e.value},set:function(t){e.value=t},enumerable:!0,configurable:!0}}.bind(this)),Object.defineProperties(i,r),i},submitStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e),r.changeButtonProps(t)}.bind(this),resetStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e),r.changeResetProps(t)}.bind(this),btn:{loading:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];l(this,n),r.changeButtonProps({loading:t})}.bind(this),finish:function(){this.loading(!1)},disabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];l(this,n),r.changeButtonProps({disabled:t})}.bind(this)},resetBtn:{loading:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];l(this,n),r.changeResetProps({loading:t})}.bind(this),finish:function(){this.loading(!1)},disabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];l(this,n),r.changeResetProps({disabled:t})}.bind(this)},closeModal:function(){l(this,n),r.$Modal.remove()}.bind(this),set:function(t,e,i){l(this,n),r.$set(t,e,i)}.bind(this),reload:function(e){return l(this,n),t.reload(e)}.bind(this),options:function(e){l(this,n),(0,i.deepExtend)(t.options,e),r.sync()}.bind(this),onSuccess:function(t){this.onSubmit(t)},onSubmit:function(t){this.options({onSubmit:t})},sync:function(e,r){if(l(this,n),!t.handlers[e])throw new Error(String(e)+"字段不存在"+(0,i.errMsg)());t.handlers[e].render.sync(r)}.bind(this),refresh:function(){l(this,n),r.refresh()}.bind(this)}};e.componentCommon={data:function(){return l(void 0,void 0),{rules:{},cptData:{},buttonProps:{},resetProps:{},trueData:{},jsonData:{},$f:{},isShow:!0,watchs:[],unique:1,other:{}}}.bind(void 0),methods:{changeFormData:function(t,e){-1!==Object.keys(this.cptData).indexOf(t)&&this.$set(this.cptData,t,e)},changeTrueData:function(t,e){this.$set(this.trueData[t],"value",e)},getTrueDataValue:function(t){return void 0===this.trueData[t]?void 0:this.trueData[t].value},getTrueData:function(t){return this.trueData[t]},getFormData:function(t){return this.cptData[t]},removeFormData:function(t){delete this.cptData[t],delete this.trueData[t],delete this.jsonData[t]},changeButtonProps:function(t){this.$set(this,"buttonProps",(0,i.deepExtend)(this.buttonProps,t))},changeResetProps:function(t){this.$set(this,"resetProps",(0,i.deepExtend)(this.resetProps,t))},setField:function(t){this.$set(this.cptData,t,""),this.$set(this.trueData,t,{})},init:function(){var t=this,e=this.fComponent._type;this[e].forEach(function(n,i){l(this,t);var r=this.$watch(String(e)+"."+String(i)+".value",function(e){if(l(this,t),void 0===this.trueData[n.field])return r();this.$set(this.trueData[n.field],"value",e)}.bind(this));this.watchs.push(r)}.bind(this))},unWatch:function(){var t=this;this.watchs.forEach(function(e){return l(this,t),e()}.bind(this)),this.watchs=[]},refresh:function(){this.unique+=1},sync:function(){this.fComponent.fRender.cacheUnique=this.unique+1,this.unique+=1}}}},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.defVData=a;var r=n(2);function o(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function a(){return{class:{},style:{},attrs:{},props:{},domProps:{},on:{},nativeOn:{},directives:[],scopedSlots:{},slot:void 0,key:void 0,ref:void 0}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init()}return i(t,[{key:"class",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,r.isUndef)(t)?this:(Array.isArray(t)?t.forEach(function(t){o(this,e),this._data.class[(0,r.toString)(t)]=!0}.bind(this)):(0,r.isPlainObject)(t)?this._data.class=(0,r.extend)(this._data.class,t):this._data.class[(0,r.toString)(t)]=void 0===n||n,this)}},{key:"directives",value:function(t){return(0,r.isUndef)(t)?this:(this._data.directives=this._data.directives.concat((0,r.toArray)(t)),this)}},{key:"init",value:function(){return this._data={class:{},style:{},attrs:{},props:{},domProps:{},on:{},nativeOn:{},directives:[],scopedSlots:{},slot:void 0,key:void 0,ref:void 0},this}},{key:"get",value:function(){return this._prev=this._data,this.init(),this._prev}}]),t}();e.default=u;["ref","key","slot"].forEach(function(t){o(void 0,void 0),u.prototype[t]=function(e){return this._data[t]=e,this}}.bind(void 0)),["scopedSlots","nativeOn","on","domProps","props","attrs","style"].forEach(function(t){o(void 0,void 0),u.prototype[t]=function(e,n){return(0,r.isUndef)(e)?this:((0,r.isPlainObject)(e)?this._data[t]=(0,r.extend)(this._data[t],e):this._data[t][(0,r.toString)(e)]=n,this)}}.bind(void 0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.margeGlobal=p,e.getRule=v,e.initStyle=y;var r=n(2),o=n(4),a=f(n(30)),u=f(n(31)),s=n(12),l=f(n(32)),c=f(n(5));function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}var d="form-create-style";function p(t){(0,r.isBool)(t.sumbitBtn)&&(t.sumbitBtn={show:t.sumbitBtn}),(0,r.isBool)(t.resetBtn)&&(t.resetBtn={show:t.resetBtn});var e=(0,r.deepExtend)((0,o.getConfig)(),t);return e.el=e.el?(0,r.isElement)(e.el)?e.el:document.querySelector(e.el):window.document.body,e}function v(t){return(0,r.isFunction)(t.getRule)?t.getRule():t}function y(){if(null===document.getElementById(d)){var t=document.createElement("style");t.id=d,t.innerText=o.formCreateStyle,document.getElementsByTagName("head")[0].appendChild(t)}}var b=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=p(n),this.rules=Array.isArray(e)?e:[],this.handlers={},this.fRender={},this.formData={},this.validate={},this.trueData={},this.fieldList=[],this.switchMaker=this.options.switchMaker,y()}return i(t,[{key:"init",value:function(t){var e=this;this.vm=t,this.createHandler(),this.fCreateApi=(0,o.getGlobalApi)(this),t.$set(t,"cptData",this.formData),t.$set(t,"trueData",this.trueData),t.$set(t,"buttonProps",this.options.submitBtn),t.$set(t,"resetProps",this.options.resetBtn),t.$set(t,"rules",this.rules),this.fRender=new a.default(this),this.$tick=(0,r.debounce)(function(t){return h(this,e),(0,r.$nt)(t)}.bind(this),100)}},{key:"setHandler",value:function(t){var e=t.rule,n=t.field;this.handlers[n]=t,!0!==t.noValue&&(this.formData[n]=t.parseValue,this.validate[n]=e.validate,this.trueData[n]={value:t.rule.value,rule:t.rule})}},{key:"notField",value:function(t){return-1===this.fieldList.indexOf(t)}},{key:"createHandler",value:function(){var t=this;this.rules.forEach(function(e,n){if(h(this,t),e=v(e),this.switchMaker&&(this.rules[n]=e),e.field=void 0===e.field?"":(0,r.toString)(e.field),this.notField(e.field)){var i=(0,o.getComponent)(this.vm,e,this.options);this.createChildren(i),this.setHandler(i),this.fieldList.push(i.field)}else console.error(String(e.field)+" 字段已存在"+(0,r.errMsg)())}.bind(this))}},{key:"createChildren",value:function(t){var e=this;Array.isArray(t.rule.children)&&t.rule.children.length>0&&t.rule.children.forEach(function(n,i){if(h(this,e),n=v(n),this.switchMaker&&(t.rule.children[i]=n),n.field=void 0===n.field?"":(0,r.toString)(n.field),this.notField(n.field)){var a=(0,o.getComponent)(this.vm,n,this.options);this.createChildren(a),t.childrenHandlers.push(a)}else console.error(String(n.field)+" 字段已存在"+(0,r.errMsg)())}.bind(this))}},{key:"create",value:function(t){var e=(new(t.extend(this.component()))).$mount();return this.options.el.appendChild(e.$el),e}},{key:"mounted",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.vm=t;var i=this.options,o=i.mounted,a=i.onReload;(0,r.$nt)(function(){h(this,e),Object.keys(this.handlers).forEach(function(n){h(this,e);var i=this.handlers[n];void 0!==t.cptData[n]&&this.addHandlerWatch(i),i.mounted()}.bind(this)),n&&o&&o(this.fCreateApi)}.bind(this)),a&&a(this.fCreateApi)}},{key:"component",value:function(){return(0,u.default)(this)}},{key:"append",value:function(t,e,n){var i=this;if((0,r.isFunction)(t.getRule)&&(t=t.getRule()),-1!==Object.keys(this.handlers).indexOf((0,r.toString)(t.field)))throw new Error(String(t.field)+"字段已存在"+(0,r.errMsg)());var a=(0,o.getComponent)(this.vm,t,this.options);this.createChildren(a),this.vm.setField(a.field),this.fRender.setRender(a,e||"",n),this.setHandler(a),this.addHandlerWatch(a),a.render.sync(function(){h(this,i),a.mounted()}.bind(this))}},{key:"removeField",value:function(t){var e=this;if(void 0===this.handlers[t])throw new Error(String(t)+"字段不存在"+(0,r.errMsg)());var n=this.handlers[t].watch;delete this.handlers[t],delete this.validate[t],n&&n.forEach(function(t){return h(this,e),t()}.bind(this)),this.vm.removeFormData(t),this.fRender.removeRender(t),delete this.formData[t],delete this.trueData[t]}},{key:"addHandlerWatch",value:function(t){var e=this;if(!0!==t.noValue){var n=t.field,i=this.vm.$watch("cptData."+String(n),function(r,o){if(h(this,e),void 0!==this.handlers[n]){var a=t.toTrueValue(r),u=JSON.stringify(a);this.vm.jsonData[n]!==u&&(this.vm.jsonData[n]=u,t.setTrueValue(a),t.watchParseValue(r))}else i()}.bind(this),{deep:!0}),o=this.vm.$watch("trueData."+String(n)+".value",function(i,a){if(h(this,e),void 0!==i)if(void 0!==this.handlers[n]){var u=JSON.stringify(i);this.vm.jsonData[n]!==u&&(this.vm.jsonData[n]=u,t.watchTrueValue(i),(0,r.$nt)(function(){return h(this,e),t.render.sync()}.bind(this)))}else o()}.bind(this),{deep:!0});t.watch.push(i,o);var a=(0,r.debounce)(function(r,o){h(this,e),void 0!==this.handlers[n]?this.$tick(function(){return h(this,e),t.render.sync()}.bind(this)):i()}.bind(this),100);Object.keys(this.vm.trueData[n].rule).forEach(function(i){h(this,e),"value"!==i&&t.watch.push(this.vm.$watch("trueData."+String(n)+".rule."+String(i),a,{deep:!0}))}.bind(this))}}},{key:"reload",value:function(t){var e=this;return t?(this.vm.unWatch(),Object.keys(this.handlers).forEach(function(t){return h(this,e),this.removeField(t)}.bind(this)),this.vm.isShow=!1,this.constructor(t,this.options),this.init(this.vm),this.vm.init(),(0,r.$nt)(function(){h(this,e),this.vm.isShow=!0,setTimeout(function(){return h(this,e),this.mounted(this.vm,!1)}.bind(this))}.bind(this))):this.vm.refresh(),this.vm.$f=this.fCreateApi}},{key:"getFormRef",value:function(){return this.vm.$refs[this.fRender.refName]}},{key:"fields",value:function(){return Object.keys(this.formData)}}],[{key:"create",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default,o=new t(e,(0,r.isElement)(n)?{el:n}:n);o.create(i);return o.fCreateApi}},{key:"install",value:function(e){e.prototype.$formCreate=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.create(n,i,e)},e.prototype.$formCreate.version="1.5.3",e.prototype.$formCreate.maker=l.default,e.component(s.formCreateName,(0,s.$FormCreate)())}}]),t}();e.default=b,b.maker=l.default,b.version="1.5.3"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.parseVData=o,e.getVNode=a;var r=n(2);function o(t){return(0,r.isString)(t)?t={domProps:{innerHTML:t}}:t&&(0,r.isFunction)(t.get)&&(t=t.get()),t}function a(t){return(0,r.isFunction)(t)?t():t||[]}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setVm(e)}return i(t,[{key:"setVm",value:function(t){this.vm=t,this.$h=t.$createElement}},{key:"make",value:function(t,e,n){(0,r.isString)(e)&&(e={domProps:{innerHTML:e}});var i=this.$h(t,o(e),a(n));return i.context=this.vm,i}}]),t}();e.default=u;var s={modal:"Modal",progress:"i-progress",button:"i-button",icon:"Icon",span:"span",slider:"Slider",rate:"Rate",upload:"Upload",cascader:"Cascader",colorPicker:"Color-Picker",timePicker:"Time-Picker",datePicker:"Date-Picker",switch:"i-switch",option:"i-option",select:"i-select",checkbox:"Checkbox",checkboxGroup:"Checkbox-Group",radio:"Radio",radioGroup:"Radio-Group",inputNumber:"Input-Number",input:"i-input",formItem:"Form-Item",form:"i-form",col:"i-col",row:"row",tree:"Tree",AutoComplete:"AutoComplete"};Object.keys(s).forEach(function(t){!function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}(void 0,void 0),u.prototype[t]=function(e,n){return this.make(s[t],e,n)}}.bind(void 0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=_(n(14)),r=_(n(15)),o=_(n(16)),a=_(n(17)),u=_(n(18)),s=_(n(19)),l=_(n(20)),c=_(n(21)),f=_(n(22)),h=_(n(23)),d=_(n(10)),p=_(n(24)),v=_(n(25)),y=_(n(26)),b=_(n(27)),m=_(n(28)),g=_(n(29));function _(t){return t&&t.__esModule?t:{default:t}}var k={hidden:i.default,input:r.default,radio:o.default,checkbox:a.default,switch:u.default,select:s.default,datepicker:l.default,timepicker:c.default,inputnumber:f.default,colorpicker:h.default,upload:d.default,cascader:p.default,rate:v.default,slider:y.default,frame:b.default,tree:m.default,autocomplete:g.default};e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};e.getFileName=v,e.parseValue=y;var o=c(n(0)),a=c(n(1)),u=n(2),s=n(4),l=n(3);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function v(t){return(0,u.toString)(t).split("/").pop()}function y(t){return Array.isArray(t)?t:t?[t]:[]}var b=function(t){function e(){return h(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,o.default),i(e,[{key:"init",value:function(){var t=this.rule.props;t.defaultFileList=[],(0,u.isUndef)(t.showUploadList)&&(t.showUploadList=!1),t.uploadType=t.uploadType?t.uploadType:"file",void 0===t.maxLength&&(t.maxLength=0),void 0===t.action&&(t.action=""),"file"===t.uploadType&&void 0===t.handleIcon&&(t.handleIcon=!1),this.parseValue=[],this.rule.value=y(this.rule.value)}},{key:"toParseValue",value:function(t){var e=this,n=y(t);return this.parseValue.splice(0,this.parseValue.length),n.forEach(function(t){return f(this,e),this.push(t)}.bind(this)),this.rule.props.defaultFileList=this.parseValue,this.parseValue}},{key:"mounted",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mounted",this).call(this),this.rule.props.defaultFileList=this.parseValue,this.changeParseValue(this.el.fileList)}},{key:"push",value:function(t){this.parseValue.push({url:t,name:v(t)})}},{key:"toTrueValue",value:function(t){var e=this;if((0,u.isUndef)(t))return[];var n=t.map(function(t){return f(this,e),t.url}.bind(this)).filter(function(t){return f(this,e),void 0!==t}.bind(this));return 1===this.rule.props.maxLength?n[0]||"":n}},{key:"changeParseValue",value:function(t){this.parseValue=t,this.vm.changeFormData(this.field,t)}},{key:"watchTrueValue",value:function(t){var n=this,i=!0;this.rule.props.defaultFileList.forEach(function(t){f(this,n),i=i&&(void 0===t.percentage||"finished"===t.status)}.bind(this)),i&&r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"watchTrueValue",this).call(this,t)}}]),e}(),m=function(t){function e(){return h(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,a.default),i(e,[{key:"init",value:function(){var t=this,e=this.handler;this.uploadOptions=(0,u.extend)((0,u.extend)({},this.options.upload),this.handler.rule.props),this.issetIcon=this.uploadOptions.allowRemove||this.uploadOptions.handleIcon,this.propsData=this.vData.props(this.uploadOptions).props("onSuccess",function(){return f(this,t),this.onSuccess.apply(this,arguments)}.bind(this)).props("onRemove",function(){return f(this,t),this.onRemove.apply(this,arguments)}.bind(this)).ref(e.refName).key("fip"+String(e.unique)).get()}},{key:"onRemove",value:function(){this.handler.changeParseValue(this.handler.el.fileList),this.sync(),this.uploadOptions.onRemove&&this.uploadOptions.onRemove(this.handler.el.fileList)}},{key:"onSuccess",value:function(t,e,n){var i=this.uploadOptions.onSuccess.call(null,t,e,n);if((0,u.isUndef)(i)){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}else e.url=i,e.showProgress=!1;this.handler.changeParseValue(this.handler.el.fileList)}},{key:"defaultOnHandle",value:function(t){var e=this;this.vm.$Modal.remove(),setTimeout(function(){f(this,e),this.vm.$Modal.info({title:"预览",render:function(n){return f(this,e),n("img",{attrs:{src:t},style:"width: 100%",key:"ifmd"+(0,u.uniqueId)()})}.bind(this),showCancel:!0,closable:!0,scrollable:!0})}.bind(this),301)}},{key:"onHandle",value:function(t){var e=this.uploadOptions.onHandle;if(e)return e(t);this.defaultOnHandle(t)}},{key:"parse",value:function(){var t=this,e=this.handler.unique;this.init(),!0===this.uploadOptions.handleIcon&&(this.uploadOptions.handleIcon="ios-eye-outline");var n=this.vm.cptData[this.handler.field],i=this.uploadOptions.showUploadList?[]:[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.map(function(n,i){return f(this,t),n.showProgress?this.makeProgress(n,"uppg"+String(i)+String(e)):void 0===n.status||"finished"===n.status?this.makeUploadView(n.url,"upview"+String(i)+String(e),i):void 0}.bind(this)))),r=!this.uploadOptions.maxLength||this.uploadOptions.maxLength>this.vm.cptData[this.handler.field].length;return i.push(this.makeUploadBtn(e,r)),[this.vNode.make("div",{key:"div4"+String(e),class:{"fc-upload":!0,"fc-hide-btn":!r}},i)]}},{key:"cacheParse",value:function(){return this.cache=null,r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"cacheParse",this).call(this)}},{key:"makeUploadView",value:function(t,e,n){var i=this;return this.vNode.make("div",{key:"div1"+String(e),class:{"fc-files":!0}},function(){f(this,i);var r=[];return"image"===this.handler.rule.props.uploadType?r.push(this.vNode.make("img",{key:"img"+String(e),attrs:{src:t}})):r.push(this.vNode.icon({key:"file"+String(e),props:{type:s.iviewConfig.fileIcon,size:40}})),this.issetIcon&&r.push(this.makeIcons(t,e,n)),r}.bind(this))}},{key:"makeIcons",value:function(t,e,n){var i=this;return this.vNode.make("div",{key:"div2"+String(e),class:{"fc-upload-cover":!0}},function(){f(this,i);var r=[];return this.uploadOptions.handleIcon&&r.push(this.makeHandleIcon(t,e,n)),!0===this.uploadOptions.allowRemove&&r.push(this.makeRemoveIcon(t,e,n)),r}.bind(this))}},{key:"makeProgress",value:function(t,e){return this.vNode.make("div",{key:"div3"+String(e),class:{"fc-files":!0}},[this.vNode.progress({key:"upp"+String(e),props:{percent:t.percentage,hideInfo:!0},style:{width:"90%"}})])}},{key:"makeUploadBtn",value:function(t,e){return this.vNode.upload(this.propsData,!0===e?[this.vNode.make("div",{key:"div5"+String(t),class:{"fc-upload-btn":!0}},[this.vNode.icon({key:"upi"+String(t),props:{type:"file"===this.handler.rule.props.uploadType?"ios-cloud-upload-outline":s.iviewConfig.imgUpIcon,size:20}})])]:[])}},{key:"makeRemoveIcon",value:function(t,e,n){var i=this;return this.vNode.icon({key:"upri"+String(e)+String(n),props:{type:"ios-trash-outline"},nativeOn:{click:function(){f(this,i),this.handler.el.fileList.splice(n,1),this.onRemove()}.bind(this)}})}},{key:"makeHandleIcon",value:function(t,e,n){var i=this;return this.vNode.icon({key:"uphi"+String(e)+String(n),props:{type:(0,u.toString)(this.uploadOptions.handleIcon)},nativeOn:{click:function(){f(this,i),this.onHandle(t)}.bind(this)}})}}]),e}(),g={image:["image",0],file:["file",0],uploadFileOne:["file",1],uploadImageOne:["image",1]},_=Object.keys(g).reduce(function(t,e){return f(void 0,void 0),t[e]=(0,l.creatorTypeFactory)("upload",function(t){return f(void 0,void 0),t.props({uploadType:g[e][0],maxLength:g[e][1]})}.bind(void 0)),t}.bind(void 0),{});_.uploadImage=_.image,_.uploadFile=_.file,e.default={handler:b,render:m,maker:_,name:"upload"}},function(t,n){t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formCreateName=e.$FormCreate=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(7)),r=n(4);function o(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}var a=function(){return o(void 0,void 0),{name:"FormCreate",render:function(){return this.fComponent.fRender.parse(this.fComponent.vm)},props:{rule:{type:Array,required:!0,default:function(){return o(void 0,void 0),{}}.bind(void 0)},option:{type:Object,default:function(){return o(void 0,void 0),{}}.bind(void 0),required:!1},value:Object},data:r.componentCommon.data,methods:r.componentCommon.methods,created:function(){this.fComponent=new i.default(this.rule,this.option),this.fComponent._type="rule",this.fComponent.init(this),this.$emit("input",this.fComponent.fCreateApi)},mounted:function(){var t=this;this.fComponent.mounted(this),this.$f=this.fComponent.fCreateApi,this.$watch("rule",function(e){o(this,t),this.fComponent.reload(e),this.$emit("input",this.$f)}.bind(this)),this.$emit("input",this.$f),this.init()}}}.bind(void 0);e.$FormCreate=a,e.formCreateName="FormCreate"},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(7));"undefined"!=typeof window&&window.Vue&&window.Vue.use(i.default),t.exports.default=t.exports=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(0)),o=u(n(1)),a=n(3);function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,r.default),e}(),h=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,o.default),i(e,[{key:"parse",value:function(){return[]}}]),e}(),d=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},"hidden",function(t,e){return function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}(void 0,void 0),(0,a.creatorFactory)("hidden")("",t,e)}.bind(void 0));e.default={handler:f,render:h,name:"hidden",maker:d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=e.handler=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n(0)),o=s(n(1)),a=n(3),u=n(2);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=e.handler=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,r.default),i(e,[{key:"init",value:function(){var t=this.rule.props;t.autosize&&t.autosize.minRows&&(t.rows=t.autosize.minRows||2)}},{key:"toParseValue",value:function(t){return(0,u.toString)(t)}}]),e}(),d=e.render=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,o.default),i(e,[{key:"parse",value:function(){return[this.vNode.input(this.inputProps().get())]}}]),e}(),p=["password","url","email","text"].reduce(function(t,e){return function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}(void 0,void 0),t[e]=(0,a.creatorTypeFactory)("input",e),t}.bind(void 0),{});p.idate=(0,a.creatorTypeFactory)("input","date"),e.default={render:d,handler:h,name:"input",maker:p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(0)),o=u(n(1)),a=n(2);function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,r.default),i(e,[{key:"toParseValue",value:function(t){var e=this;return this.rule.options.filter(function(n){return s(this,e),n.value===t}.bind(this)).reduce(function(t,n){return s(this,e),n.label}.bind(this),"")}},{key:"toTrueValue",value:function(t){var e=this;return this.rule.options.filter(function(n){return s(this,e),n.label===t}.bind(this)).reduce(function(t,n){return s(this,e),n.value}.bind(this),"")}}]),e}(),d=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,o.default),i(e,[{key:"parse",value:function(){var t=this,e=this.handler,n=e.unique,i=e.rule.options;return[this.vNode.radioGroup(this.inputProps().get(),function(){return s(this,t),i.map(function(e,i){s(this,t);var r=(0,a.extend)({},e);return delete r.value,this.vNode.radio({props:r,key:"ropt"+String(i)+String(n)})}.bind(this))}.bind(this))]}}]),e}();e.default={handler:h,render:d,name:"radio"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(0)),o=u(n(1)),a=n(2);function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,r.default),i(e,[{key:"toParseValue",value:function(t){var e=this;return t?Array.isArray(t)||(t=[t]):t=[],this.rule.options.filter(function(n){return s(this,e),-1!==t.indexOf(n.value)}.bind(this)).map(function(t){return s(this,e),t.label}.bind(this))}},{key:"toTrueValue",value:function(t){var e=this,n=this.rule.options.filter(function(n){return s(this,e),-1!==t.indexOf(n.label)}.bind(this)).map(function(t){return s(this,e),t.value}.bind(this));return 1===this.rule.options.length?void 0===n[0]?"":n[0]:n}},{key:"watchParseValue",value:function(t){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"watchParseValue",this).call(this,t),this.render.sync()}}]),e}(),d=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,o.default),i(e,[{key:"parse",value:function(){var t=this,e=this.handler,n=e.unique,i=e.rule.options,r=e.key;return[this.vNode.checkboxGroup(this.inputProps().key(r).get(),function(){return s(this,t),i.map(function(e,i){s(this,t);var r=(0,a.extend)({},e);return delete r.value,this.vNode.checkbox({props:r,key:"copt"+String(i)+String(n)})}.bind(this))}.bind(this))]}}]),e}();e.default={handler:h,render:d,name:"checkbox"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(0)),o=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,r.default),i(e,[{key:"init",value:function(){void 0===this.rule.slot&&(this.rule.slot={})}}]),e}(),h=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,o.default),i(e,[{key:"parse",value:function(){var t=this,e=this.handler.rule.slot;return this.propsData=this.inputProps().scopedSlots({open:function(){return u(this,t),e.open}.bind(this),close:function(){return u(this,t),e.close}.bind(this)}).get(),[this.vNode.switch(this.propsData)]}}]),e}();e.default={handler:f,render:h,name:"switch"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n(0)),o=s(n(1)),a=n(3),u=n(4);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return c(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,r.default),i(e,[{key:"toParseValue",value:function(t){var e=Array.isArray(t);return!0===this.rule.props.multiple?!0===e?t:[t]:!0===e?t[0]||"":t}}]),e}(),p=function(t){function e(){return c(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,o.default),i(e,[{key:"parse",value:function(){var t=this,e=this.handler,n=e.unique,i=e.rule;return[this.vNode.select(this.inputProps().get(),function(){return l(this,t),i.options.map(function(e,r){return l(this,t),this.vNode.option({props:e,key:"sopt"+String(r)+String(n)},(0,u.toDefSlot)(e.slot,this.vm.$createElement,i))}.bind(this))}.bind(this))]}}]),e}(),v={selectMultiple:(0,a.creatorTypeFactory)("select",!0,"multiple"),selectOne:(0,a.creatorTypeFactory)("select",!1,"multiple")};e.default={handler:d,render:p,name:"select",maker:v}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=l(n(0)),o=l(n(1)),a=n(4),u=n(3),s=n(2);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return f(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,r.default),i(e,[{key:"init",value:function(){var t=this.rule.props;t.type=t.type?(0,s.toString)(t.type).toLowerCase():"date",(0,s.isUndef)(t.startDate)&&(t.startDate=(0,a.timeStampToDate)(t.startDate))}},{key:"toParseValue",value:function(t){var e=this,n=Array.isArray(t),i=this.rule.props,r=void 0;return r=-1!==["daterange","datetimerange"].indexOf(i.type)?n?t.map(function(t){return c(this,e),t?(0,a.timeStampToDate)(t):""}.bind(this)):["",""]:"date"===i.type&&!0===i.multiple?(0,s.toString)(t):(r=n?t[0]||"":t)?(0,a.timeStampToDate)(r):""}},{key:"toTrueValue",value:function(){return this.el.publicStringValue}},{key:"mounted",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mounted",this).call(this),this.rule.value=this.el.publicStringValue,this.vm.changeFormData(this.field,this.toParseValue(this.el.publicStringValue))}}]),e}(),v=function(t){function e(){return f(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,o.default),i(e,[{key:"parse",value:function(){var t=this.handler,e=t.key,n=t.rule,i=t.vm;return[this.vNode.datePicker(this.inputProps().key(e).get(),(0,a.toDefSlot)(n.defaultSlot,i.$createElement,n))]}}]),e}(),y=["date","dateRange","dateTime","dateTimeRange","year","month"].reduce(function(t,e){return c(void 0,void 0),t[e]=(0,u.creatorTypeFactory)("datePicker",e.toLowerCase()),t}.bind(void 0),{});e.default={handler:p,render:v,name:"datePicker",maker:y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.getTime=p;var r=l(n(0)),o=l(n(1)),a=n(2),u=n(4),s=n(3);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d="timePicker";function p(t){return(0,a.isDate)(t)?(0,a.dateFormat)("hh:mm:ss",t):t}var v=function(t){function e(){return c(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,r.default),i(e,[{key:"init",value:function(){var t=this.rule.props;t.type||(t.type="time"),(0,a.isUndef)(t.confirm)&&(t.confirm=!0)}},{key:"toParseValue",value:function(t){var e=this,n=void 0,i=Array.isArray(t);return"timerange"===this.rule.props.type?n=i?t.map(function(t){return function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}(this,e),t?p((0,u.timeStampToDate)(t)):""}.bind(this)):["",""]:(i&&(t=t[0]),n=t?p((0,u.timeStampToDate)(t)):""),n}},{key:"mounted",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mounted",this).call(this),this.rule.value=this.el.publicStringValue,this.vm.changeFormData(this.field,this.toParseValue(this.el.publicStringValue))}}]),e}(),y=function(t){function e(){return c(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,o.default),i(e,[{key:"parse",value:function(){var t=this.handler,e=t.key,n=t.rule,i=t.vm;return[this.vNode.timePicker(this.inputProps().key(e).get(),(0,u.toDefSlot)(n.defaultSlot,i.$createElement,n))]}}]),e}(),b={time:(0,s.creatorTypeFactory)(d,"time"),timeRange:(0,s.creatorTypeFactory)(d,"timerange")};e.default={handler:v,render:y,maker:b,name:d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(0)),o=u(n(1)),a=n(3);function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,r.default),i(e,[{key:"toParseValue",value:function(t){var e=parseFloat(t);return Number.isNaN(e)&&(e=0),e}}]),e}(),h=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,o.default),i(e,[{key:"parse",value:function(){return[this.vNode.inputNumber(this.inputProps().get())]}}]),e}(),d={number:(0,a.creatorFactory)("inputNumber")};e.default={handler:f,render:h,name:"inputNumber",maker:d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(0)),o=u(n(1)),a=n(3);function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,r.default),i(e,[{key:"watchParseValue",value:function(t){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"watchParseValue",this).call(this,t),this.render.sync()}}]),e}(),h=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,o.default),i(e,[{key:"parse",value:function(){return[this.vNode.colorPicker(this.inputProps().key(this.handler.key).get())]}}]),e}(),d={color:(0,a.creatorFactory)("colorPicker")};e.default={handler:f,render:h,name:"colorPicker",maker:d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(0)),o=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return u(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,r.default),i(e,[{key:"init",value:function(){var t=this.rule;t.props.data||(t.props.data=[]),Array.isArray(this.rule.value)||(this.rule.value=[])}},{key:"toParseValue",value:function(t){return Array.isArray(t)?t:[]}},{key:"mounted",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mounted",this).call(this),this.vm.changeFormData(this.field,this.toParseValue(this.el.value))}}]),e}(),f=function(t){function e(){return u(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,o.default),i(e,[{key:"parse",value:function(){return[this.vNode.cascader(this.inputProps().get())]}}]),e}();e.default={handler:c,render:f,name:"cascader"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(0)),o=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return u(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,r.default),i(e,[{key:"toParseValue",value:function(t){var e=parseFloat(t);return Number.isNaN(e)&&(e=0),e}}]),e}(),f=function(t){function e(){return u(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,o.default),i(e,[{key:"parse",value:function(){return[this.vNode.rate(this.inputProps().get())]}}]),e}();e.default={handler:c,render:f,name:"rate"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(0)),o=u(n(1)),a=n(3);function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,r.default),i(e,[{key:"init",value:function(){var t=this.rule;t.props.min=void 0===t.props.min?0:parseFloat(t.props.min)||0}},{key:"toParseValue",value:function(t){var e=this.rule,n=Array.isArray(t),i=e.props,r=i.min;return!0===i.range?n?t:[r,parseFloat(t)||r]:n?parseFloat(t[0])||r:parseFloat(t)}}]),e}(),h=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,o.default),i(e,[{key:"parse",value:function(){return[this.vNode.slider(this.inputProps().get())]}}]),e}(),d={sliderRange:(0,a.creatorTypeFactory)("slider",!0,"range")};e.default={handler:f,render:h,name:"slider",maker:d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};e.parseRule=b;var o=h(n(0)),a=h(n(1)),u=n(2),s=h(n(10)),l=n(4),c=n(3),f=h(n(11));function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(t){var e=t.props;e.type||(e.type="input"),e.icon||(e.icon=l.iviewConfig.fileUpIcon),e.width||(e.width="500px"),e.height||(e.height="370px"),void 0===e.spin&&(e.spin=!0),e.title||(e.title="请选择"+t.title),e.maxLength||(e.maxLength=0),e.multiple=1!=e.maxLength,"file"===e.type&&void 0===e.handleIcon?e.handleIcon=!1:e.handleIcon=!0===e.handleIcon||void 0===e.handleIcon?"ios-eye-outline":e.handleIcon,void 0===e.allowRemove&&(e.allowRemove=!0)}var m=function(t){function e(){return p(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return y(e,o.default),i(e,[{key:"init",value:function(){b(this.rule)}},{key:"toParseValue",value:function(t){var e=void 0,n=t,i=Array.isArray(n);return e=""===n?[]:i?n:[n],this.parseValue=e,e}},{key:"toTrueValue",value:function(t){return!0===this.rule.props.multiple?t:void 0===t[0]?"":t[0]}},{key:"watchTrueValue",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"watchTrueValue",this).call(this,t),this.render.sync()}},{key:"watchParseValue",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"watchParseValue",this).call(this,t),this.parseValue=t,this.render.sync()}}]),e}(),g={onOpen:"on-open",onChange:"on-change",onCancel:"on-cancel",onOk:"on-ok"},_=function(t){function e(){return p(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return y(e,a.default),i(e,[{key:"init",value:function(){var t=this,e=this.handler.field;this.handler.watch.push(this.vm.$watch("cptData."+String(e),function(){d(this,t),this.onChange()}.bind(this),{deep:!0})),this._props=this.handler.rule.props,this.issetIcon=!1!==this._props.handleIcon||!0===this._props.allowRemove}},{key:"parse",value:function(){var t=this._props.type;return"image"===t?this.makeGroup(this.makeImage()):"file"===t?this.makeGroup(this.makeFile()):this.makeInput()}},{key:"makeInput",value:function(t){var e=this,n=this.handler.unique,i=this.inputProps().props({type:"text",value:this.handler.parseValue.toString(),icon:this._props.icon,readonly:!0,clearable:!0}).on("on-click",function(){d(this,e),this.showModel()}.bind(this)).key("ifit"+n).style({display:!0===t?"none":"inline-block"}).get();return[this.vNode.input(i)]}},{key:"makeGroup",value:function(t){var e=this.handler.unique,n=this.handler.field;return[this.vNode.make("div",{key:"ifgp1"+String(e),class:{"fc-upload fc-frame":!0},ref:this.handler.refName,props:{value:this.vm.cptData[n]}},t),this.makeInput(!0)]}},{key:"makeImage",value:function(){var t=this,e=this.handler.unique,n=this.handler.parseValue.map(function(n,i){return d(this,t),this.vNode.make("div",{key:"ifid1"+String(e)+String(i),class:{"fc-files":!0}},[this.vNode.make("img",{key:"ifim"+String(e)+String(i),attrs:{src:n}}),this.makeIcons(n,e,i)])}.bind(this));return n.push(this.makeBtn()),n}},{key:"makeFile",value:function(){var t=this,e=this.handler.unique,n=this.handler.parseValue.map(function(n,i){return d(this,t),this.vNode.make("div",{key:"iffd2"+String(e)+String(i),class:{"fc-files":!0}},[this.vNode.icon({key:"iff"+String(e)+String(i),props:{type:l.iviewConfig.fileIcon,size:40}}),this.makeIcons(n,e,i)])}.bind(this));return n.push(this.makeBtn()),n}},{key:"makeBtn",value:function(){var t=this,e=this.handler.rule.props;if(!(e.maxLength>0&&this.handler.parseValue.length>=e.maxLength)){var n=this.handler.unique;return this.vNode.make("div",{key:"ifbd3"+String(n),class:{"fc-upload-btn":!0},on:{click:function(){d(this,t),this.showModel()}.bind(this)}},[this.vNode.icon({key:"ifbi3"+String(n),props:{type:this._props.icon,size:20}})])}}},{key:"makeSpin",value:function(){if(!0===this._props.spin){var t=this.handler.unique;return this.vNode.make("Spin",{props:{fix:!0},key:"ifsp"+t,class:{"fc-spin":!0}},[this.vNode.icon({props:{type:"load-c",size:18},class:{"fc-spin-icon-load":!0},key:"ifspi"+t}),this.vNode.make("div",{domProps:{innerHTML:"加载中..."},key:"ifspd"+t})])}}},{key:"makeIcons",value:function(t,e,n){var i=this;if(!0===this.issetIcon)return this.vNode.make("div",{key:"ifis"+String(e)+String(n),class:{"fc-upload-cover":!0}},function(){d(this,i);var r=[];return!1!==this._props.handleIcon&&r.push(this.makeHandleIcon(t,e,n)),!0===this._props.allowRemove&&r.push(this.makeRemoveIcon(t,e,n)),r}.bind(this))}},{key:"makeRemoveIcon",value:function(t,e,n){var i=this;return this.vNode.icon({key:"ifri"+String(e)+String(n),props:{type:"ios-trash-outline"},nativeOn:{click:function(){d(this,i),!1!==this.onRemove(t)&&(this.handler.parseValue.splice(n,1),this.sync())}.bind(this)}})}},{key:"makeHandleIcon",value:function(t,e,n){var i=this,r=this._props;return this.vNode.icon({key:"ifhi"+String(e)+String(n),props:{type:toString(r.handleIcon)},nativeOn:{click:function(){d(this,i),this.onHandle(t)}.bind(this)}})}},{key:"onRemove",value:function(t){var e=this.handler.rule.event["on-remove"];if(e)return e(t,this.handler.getValue())}},{key:"onHandle",value:function(t){var e=this.handler.rule.event["on-handle"];if(e)return e(t);this.defaultOnHandle(t)}},{key:"valid",value:function(t){if(t!==this.handler.field)throw new Error("无效的表单字段"+(0,u.errMsg)())}},{key:"showModel",value:function(){var t=this,e=!1!==this.onOpen(),n=this._props,i=n.width,r=n.height,o=n.src,a=n.title;e&&(this.vm.$Modal.remove(),setTimeout(function(){d(this,t),this.vm.$Modal.confirm({title:a,render:function(){return d(this,t),[this.makeSpin(),this.vNode.make("iframe",{attrs:{src:o},style:{height:r,border:"0 none",width:"100%"},on:{load:function(e){if(d(this,t),!0===this._props.spin){var n=document.getElementsByClassName("fc-spin")[0];n&&n.parentNode.removeChild(n)}try{if(!0===this.options.iframeHelper){var i=e.path[0].contentWindow;i[String(this.handler.field)+"_change"]=function(e){d(this,t),this.handler.setParseValue(e)}.bind(this),i.form_create_helper={close:function(e){d(this,t),this.valid(e),f.default.Modal.remove()}.bind(this),set:function(e,n){d(this,t),this.valid(e),i[String(e)+"_change"](n)}.bind(this),get:function(e){return d(this,t),this.valid(e),this.handler.rule.value}.bind(this)}}}catch(e){}}.bind(this)},key:"ifmd"+(0,u.uniqueId)()})]}.bind(this),onOk:function(){return d(this,t),this.onOk()}.bind(this),onCancel:function(){return d(this,t),this.onCancel()}.bind(this),showCancel:!0,closable:!0,scrollable:!0,width:i})}.bind(this),301))}}]),e}();_.prototype.defaultOnHandle=s.default.render.prototype.defaultOnHandle,Object.keys(g).forEach(function(t){d(void 0,void 0),_.prototype[t]=function(){var e=this.handler.rule.event[g[t]];if(e)return e(this.handler.getValue())}}.bind(void 0));var k={frameInputs:["input",0],frameFiles:["file",0],frameImages:["image",0],frameInputOne:["input",1],frameFileOne:["file",1],frameImageOne:["image",1]},w=Object.keys(k).reduce(function(t,e){return d(void 0,void 0),t[e]=(0,c.creatorTypeFactory)("frame",function(t){return d(void 0,void 0),t.props({type:k[e][0],maxLength:k[e][1]})}.bind(void 0)),t}.bind(void 0),{});w.frameInput=w.frameInputs,w.frameFile=w.frameFiles,w.frameImage=w.frameImages,e.default={handler:m,render:_,name:"frame",maker:w}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.parseRule=p,e.isMultiple=v;var r=s(n(0)),o=s(n(1)),a=n(2),u=n(3);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function p(t){var e=t.props;return void 0===e.data&&(e.data=[]),void 0===e.type&&(e.type="checked"),void 0===e.multiple&&(e.multiple=!1),v(t)&&Array.isArray(t.value)&&(t.value=this.rule.value[0]||""),t.value=(0,a.toArray)(t.value),t}function v(t){return!t.props.multiple&&"selected"===t.props.type}var y=function(t){function e(){return f(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,r.default),i(e,[{key:"init",value:function(){p(this.rule),this._data={},this.data(this.rule.props.data),this._parseValue()}},{key:"_parseValue",value:function(){var t=this;this.rule.value.forEach("selected"===this.rule.props.type?function(e){return c(this,t),this.selected(e)}.bind(this):function(e){return c(this,t),this.checked(e)}.bind(this));var e=[];"selected"===this.rule.props.type?Object.keys(this._data).forEach(function(n){c(this,t);var i=this._data[n];!0===i.selected&&e.push(i.id)}.bind(this)):Object.keys(this._data).forEach(function(n){c(this,t);var i=this._data[n];!0===i.checked&&e.push(i.id)}.bind(this)),this.rule.value=e}},{key:"toParseValue",value:function(t){return t=(0,a.toArray)(t),this.choose(t),this.parseValue=t,t}},{key:"choose",value:function(t){var e=this,n=this.rule,i=this._data;"selected"===n.props.type?Object.keys(i).forEach(function(n){c(this,e),this.vm.$set(i[n],"selected",-1!==t.indexOf(i[n].id))}.bind(this)):Object.keys(i).forEach(function(n){c(this,e),this.vm.$set(i[n],"checked",-1!==t.indexOf(i[n].id))}.bind(this))}},{key:"checked",value:function(t){void 0!==this._data[t]&&this.vm.$set(this._data[t],"checked",!0)}},{key:"selected",value:function(t){void 0!==this._data[t]&&this.vm.$set(this._data[t],"selected",!0)}},{key:"toTrueValue",value:function(t){var e=t;return v(this.rule)?e[0]||"":e}},{key:"watchParseValue",value:function(t){this.choose(t)}},{key:"selectedNodeToValue",value:function(t){var e=this,n=[];return t.forEach(function(t){c(this,e),!0===t.selected&&n.push(t.id)}.bind(this)),n}},{key:"checkedNodeToValue",value:function(t){var e=this,n=[];return t.forEach(function(t){c(this,e),!0===t.checked&&n.push(t.id)}.bind(this)),n}},{key:"toValue",value:function(){return"selected"===this.rule.props.type?this.selectedNodeToValue(this.el.getSelectedNodes()):this.checkedNodeToValue(this.el.getCheckedNodes())}},{key:"data",value:function(t){var e=this;t.forEach(function(t){c(this,e),this._data[t.id]=t,void 0!==t.children&&Array.isArray(t.children)&&this.data(t.children)}.bind(this))}}]),e}(),b="on-select-change",m="on-check-change",g=function(t){function e(){return f(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,o.default),i(e,[{key:"parse",value:function(){var t,e=this,n=this.handler,i=n.rule,r=n.refName,o=n.field,a=n.unique,u=this.vData.on(i.event).on((t={},l(t,b,function(t){c(this,e),this.vm.changeFormData(o,this.handler.toValue()),i.event[b]&&i.event[b](t)}.bind(this)),l(t,m,function(t){c(this,e),this.vm.changeFormData(o,this.handler.toValue()),i.event[m]&&i.event[m](t)}.bind(this)),t)).props(i.props).ref(r).key("fip"+String(a)).get(),s=this.inputProps().props({type:"text",value:this.handler.parseValue.toString(),disable:!0}).key("fipit"+a).style({display:"none"}).ref(String(r)+"it").get();return[this.vNode.tree(u),this.vNode.input(s)]}}]),e}(),_={treeSelected:"selected",treeChecked:"checked"},k=Object.keys(_).reduce(function(t,e){return c(void 0,void 0),t[e]=(0,u.creatorTypeFactory)("tree",_[e]),t}.bind(void 0),{});e.default={handler:y,render:g,name:"tree",maker:k}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handler=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(0)),o=u(n(1)),a=n(3);function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=e.handler=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,r.default),i(e,[{key:"init",value:function(){var t=this.rule;Array.isArray(t.data)||(t.data=[])}}]),e}(),h=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,o.default),i(e,[{key:"parse",value:function(){return[this.vNode.AutoComplete(this.inputProps().key(this.handler.key).get())]}}]),e}(),d={auto:(0,a.creatorFactory)("autoComplete")};e.default={handler:f,render:h,name:"autoComplete",maker:d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.getRenders=l,e.preventDefault=c;var r=n(2),o=u(n(8)),a=u(n(6));function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function l(t,e){var n=this;return e.reduce(function(e,i){return s(this,n),e[i]=t[i].render,e}.bind(this),{})}function c(t){t.preventDefault()}var f=function(){function t(e){var n=e.vm,i=e.options,u=e.fieldList,s=e.handlers,c=e.formData,f=e.validate,h=e.fCreateApi;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vm=n,this.options=i,this.handlers=s,this.renderSort=u,this.renders=l(s,u),this.form={model:c,rules:f,key:"form"+(0,r.uniqueId)()},this.fCreateApi=h,this.vNode=new o.default(n),this.vData=new a.default,this.unique=(0,r.uniqueId)(),this.refName="cForm"+String(this.unique),this.cacheUnique=0}return i(t,[{key:"parse",value:function(t){var e=this;if(this.vNode.setVm(t),t.isShow){this.cacheUnique!==t.unique&&(this.renderSort.forEach(function(t){s(this,e),this.renders[t].clearCache()}.bind(this)),this.cacheUnique=t.unique);var n=this.unique,i=this.vData.props(this.options.form).props(this.form).ref(this.refName).nativeOn({submit:c}).class("form-create",!0).key(n).get(),o=this.renderSort.map(function(t){s(this,e);var i=this.renders[t],r=i.handler,o=r.key;if("hidden"!==r.type)return this.makeFormItem(i.handler,i.cacheParse(),"fItem"+String(o)+String(n))}.bind(this));return o.length>0&&o.push(this.makeFormBtn(n)),this.vNode.form(i,[this.vNode.row((0,r.extend)({props:this.options.row||{}},{key:"row"+n}),o)])}}},{key:"makeFormItem",value:function(t,e,n){var i=t.rule,r=t.unique,o=t.field,a=t.refName,u=i.className,s=this.vData.props({prop:o,label:i.title,labelFor:r,rules:i.validate,labelWidth:i.col.labelWidth,required:i.props.required}).key(n).ref("fItem"+a).class(u).get();return this.vNode.col({props:i.col,class:{__fc_h:!0===i.props.hidden,__fc_v:!0===i.props.visibility},key:String(n)+"col1"},[this.vNode.formItem(s,e)])}},{key:"makeFormBtn",value:function(t){var e=[],n=!1!==this.vm.buttonProps&&!1!==this.vm.buttonProps.show,i=!1!==this.vm.resetProps&&!1!==this.vm.resetProps.show;return n&&e.push(this.makeSubmitBtn(t,i?19:24)),i&&e.push(this.makeResetBtn(t,4)),this.vNode.col({props:{span:24},key:String(this.unique)+"col2"},e)}},{key:"makeResetBtn",value:function(t,e){var n=this,i=(0,r.isUndef)(this.options.resetBtn.col)?{span:e,push:1}:this.options.resetBtn.col;return this.vNode.col({props:i,key:String(this.unique)+"col3"},[this.vNode.button({key:"frsbtn"+String(t),props:this.vm.resetProps,on:{click:function(){s(this,n),this.fCreateApi.resetFields()}.bind(this)}},[this.vm.resetProps.innerText])])}},{key:"makeSubmitBtn",value:function(t,e){var n=this,i=(0,r.isUndef)(this.options.submitBtn.col)?{span:e}:this.options.submitBtn.col;return this.vNode.col({props:i,key:String(this.unique)+"col4"},[this.vNode.button({key:"fbtn"+String(t),props:this.vm.buttonProps,on:{click:function(){s(this,n),this.fCreateApi.submit()}.bind(this)}},[this.vm.buttonProps.innerText])])}},{key:"removeRender",value:function(t){delete this.renders[t],this.renderSort.splice(this.renderSort.indexOf(t),1)}},{key:"setRender",value:function(t,e,n){this.renders[t.field]=t.render,void 0!==e&&this.changeSort(t.field,e,n)}},{key:"changeSort",value:function(t,e,n){var i=this.renderSort.indexOf((0,r.toString)(e));-1!==i?this.renderSort.splice(!1===n?i+1:i,0,t):n?this.renderSort.unshift(t):this.renderSort.push(t)}}]),t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=this;return{name:String(i.formCreateName)+"Core",data:r.componentCommon.data,render:function(){return o(this,e),t.fRender.parse(t.vm)}.bind(this),methods:r.componentCommon.methods,created:function(){this.fComponent=t,this.fComponent._type="rules",t.init(this)},mounted:function(){var e=this;t.mounted(this),this.$f=t.fCreateApi,this.init(),this.$watch("rules",function(t){o(this,e),this.fComponent.reload(t)}.bind(this))}}};var i=n(12),r=n(4);function o(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=function(t){return t&&t.__esModule?t:{default:t}}(n(9)),o=n(2);function a(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}var u=function(){a(void 0,void 0);var t={};Object.keys(r.default).forEach(function(e){a(void 0,void 0);var n=r.default[e],u=(0,o.isUndef)(n.maker);(u||void 0===n.maker[n.name])&&(t[n.name]=(0,i.creatorFactory)(n.name)),u||(0,o.extend)(t,n.maker)}.bind(void 0));var e=(0,i.creatorFactory)("");return(0,o.extend)(t,{create:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tmp"+(0,o.uniqueId)(),i=e("",n);return i.rule.type=t,i.col({labelWidth:1}),i},createTmp:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tmp"+(0,o.uniqueId)(),r=e("",i);return r.rule.type="__tmp",r.rule.template=t,r.rule._vm=n,r.col({labelWidth:1}),r}}),t.template=t.createTmp,t}.bind(void 0)();e.default=u}])});