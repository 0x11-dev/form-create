/*! form-create v1.2 | github https://github.com/xaboy/form-create | author xaboy */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var r=n(1),i=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=a();return s.type=e,s.title=n,s.field=r,s.value=i,new o(s,t)}},a=function(){return{props:{},event:{},validate:[],options:[],slot:{}}},o=function(e,t){var n=this;this.rule=e,t.forEach(function(e){n[e]=s[e]})},s={};["props","event","slot"].forEach(function(e){s[e]=function(t){return this.rule[e]=Object.assign(this.rule[e],t),this}}),["validate","options"].forEach(function(e){s[e]=function(t){return(0,r.isArray)(t)||(t=[t]),this.rule[e]=this.rule[e].concat(t),this}}),o.prototype.getRule=function(){return this.rule},t.default=i,t.make=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=[].concat,a=Object.assign,o=Object.prototype.toString,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Missing parameter";throw new Error(e)},u=function(e){return"[object Date]"===o.call(e)},l=function(e){return"[object Object]"===o.call(e)},d=function(e){return"[object Function]"===o.call(e)},c=function(e){return"[object String]"===o.call(e)},h=Array.isArray,p=function(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e&&1===e.nodeType&&!l(e)},f=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!1;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var a=n[i];if((r=h(a))||l(a)){var o=void 0===t[i];r?(r=!1,o&&(t[i]=[])):o&&(t[i]={}),e(t[i],a)}else t[i]=a}return t},v=function(){var e=0;return function(){return e++}}();t.concat=i,t.assign=a,t.toString=o,t.throwIfMissing=s,t.isPlainObject=l,t.isDate=u,t.isFunction=d,t.isString=c,t.isArray=h,t.deepExtend=f,t.isElement=p,t.uniqueId=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handlerFactory=void 0;var r=n(1),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e,t){a.call(this,e,t)};return t.prototype=Object.create(a.prototype),Object.assign(t.prototype,e),t.prototype.constructor=t,t},a=function(e,t){var n=t.field,i=t.type,a=t.title,o=void 0===a?"":a,s=t.options,u=void 0===s?[]:s,l=t.props,d=void 0===l?{}:l,c=t.validate,h=void 0===c?[]:c,p=t.event,f=void 0===p?{}:p,v=t.value,m=void 0===v?"":v,g=t.slot,y=void 0===g?{}:g;n=n.toString(),this.rule={field:n,type:i,title:o,options:u,props:d,slot:y,value:(0,r.deepExtend)(Object.create(null),{value:m}).value,validate:(0,r.isArray)(h)?h:[h],event:Object.keys(f).reduce(function(e,t){return e["on-"+t]=f[t],e},{})},this.vm=e,this.unique=(0,r.uniqueId)(),this.refName=n+""+this.unique,this.el={},this.verify(),this.handle()};a.prototype={handle:function(){this.changeParseValue(this.rule.value)},verify:function(){},getField:function(){return this.rule.field},getValidate:function(){return this.rule.validate},getValue:function(){return this.parseValue},changeValue:function(e){this.rule.value=e,this.handle()},getRule:function(){return this.rule},getParseValue:function(){return this.parseValue},changeParseValue:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vm.changeFormData(this.rule.field,e),this.parseValue=e},mounted:function(){this.el=this.vm.$refs[this.refName]}},t.handlerFactory=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderFactory=void 0;var i=n(5),a=r(i),o=n(6),s=r(o),u=function(e){var t=function(e,t,n){l.call(this,e,t,n)};return t.prototype=Object.create(l.prototype),Object.assign(t.prototype,e),t.prototype.constructor=t,t},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.handler=t,this.options=n,this.vm=e,this.cvm=a.default.instance(e.$createElement),this.event=t.rule.event,this.init()};l.prototype={props:s.default.instance(),init:function(){},parse:function(){throw new Error("请实现parse方法")},inputProps:function(){var e=this,t=this.handler,n=t.refName,r=t.unique,i=t.rule,a=i.props,o=i.field;return this.props.props(Object.assign(a,{model:"formData."+o,value:this.vm.formData[o],elementId:n})).ref(n).key("fip"+r).on(this.event).on("input",function(t){e.vm.$emit("input",t),e.vm.$set(e.vm.formData,o,t)})}},t.renderFactory=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getMaker=t.timeStampToDate=t.getGlobalApi=t.createHandler=t.formCreateStyle=t.getConfig=t.getComponent=void 0;var i=n(1),a=n(9),o=r(a),s=n(10),u=r(s),l=n(11),d=r(l),c=n(12),h=r(c),p=n(13),f=r(p),v=n(14),m=r(v),g=n(15),y=r(g),k=n(16),b=r(k),_=n(17),P=r(_),w=n(18),O=r(w),x=n(19),F=r(x),S=n(20),M=r(S),V=n(21),j=r(V),D=n(22),I=r(D),E=n(23),R=r(E),A={hidden:F.default,input:f.default,radio:y.default,checkbox:u.default,switch:P.default,select:b.default,datepicker:h.default,timepicker:O.default,inputnumber:m.default,colorpicker:d.default,upload:M.default,cascader:o.default,rate:j.default,slider:I.default,frame:R.default},$=function(e){if(void 0===A[e])throw new Error(e+" 表单类型不存在");return A[e]},C=function(e){var t=new e;return{el:null,form:{inline:!1,labelPosition:"right",labelWidth:125,showMessage:!0,autocomplete:"off"},upload:{beforeUpload:function(){},onProgress:function(e,t,n){},onSuccess:function(e,t,n){},onError:function(e,t,n){},onPreview:function(e){},onRemove:function(e,t){},onFormatError:function(e,t){},onExceededSize:function(e,t){},handleIcon:"ios-eye-outline",onHandle:function(e){t.$Modal.info({title:"预览",render:function(t){return t("img",{attrs:{src:e},style:"width: 100%"})}})},allowRemove:!0},onSubmit:function(e){},submitBtn:{type:"primary",size:"large",shape:void 0,long:!0,htmlType:"button",disabled:!1,icon:"ios-upload",innerText:"提交",loading:!1}}},N=function(e,t,n){var r=$(t.type),i=new r.handler(e,t);return i.render=new r.render(e,i,n),i},L=function(e){return{formData:function(){var t={};return e.fields().map(function(n){n=n.toString(),t[n]=e.handlers[n].getValue()}),t},getValue:function(t){t=t.toString();var n=e.handlers[t];if(void 0!==n)return n.getValue();console.error(t+" 字段不存在!")},changeField:function(t,n){t=t.toString();var r=e.handlers[t];void 0===r?console.error(t+" 字段不存在!"):(0,i.isFunction)(n)?n(r.getValue(),function(e){r.changeValue(e)}):r.changeValue(n)},removeField:function(t){t=t.toString(),e.removeField(t)},validate:function(t,n){e.getFormRef().validate(function(e){!0===e?t&&t():n&&n()})},validateField:function(t,n){t=t.toString(),e.getFormRef().validateField(t,n)},resetFields:function(){e.getFormRef().resetFields()},destroy:function(){e.vm.$el.remove(),e.vm.$destroy()},fields:function(){return e.fields()},append:function(t,n){e.append(t,n,!1)},prepend:function(t,n){e.append(t,n,!0)},submit:function(t){var n=this;this.validate(function(){var r=n.formData();(0,i.isFunction)(t)?t(r):e.options.onSubmit&&e.options.onSubmit(r)})},submitStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.deepExtend)(Object.create(null),t);e.vm.changeButtonProps(n)},btn:{loading:function(){e.vm.changeButtonProps({loading:!0})},finish:function(){e.vm.changeButtonProps({loading:!1})}},closeModal:function(){e.vm.$Modal.remove()}}},q=function(e){if((0,i.isDate)(e))return e;var t=new Date(e);return"Invalid Date"===t.toString()?e:t},T=function(){var e=Object.keys(A).reduce(function(e,t){return e[t]=A[t].make,e},{});return e.number=A.inputnumber.make,e.time=A.timepicker.make,e.date=A.datepicker.make,e.color=A.colorpicker.make,e};t.getComponent=$,t.getConfig=C,t.formCreateStyle=".form-create{padding:25px;} .fc-files{display: inline-block;width: 58px;height: 58px;text-align: center;line-height: 60px;border: 1px solid transparent;border-radius: 4px;overflow: hidden;background: #fff;position: relative;box-shadow: 0 1px 1px rgba(0,0,0,.2);margin-right: 4px;box-sizing: border-box;} .fc-files>.ivu-icon{transform: translateY(20%);}.fc-files img{width:100%;height:100%;display:block;}.fc-upload .ivu-upload{display: inline-block;}.fc-upload-btn i{font-size: 20px;}.fc-upload .fc-upload-cover{ display: none; position: absolute; top: 0; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,.6); }.fc-upload .fc-upload-cover i{ color: #fff; font-size: 20px; cursor: pointer; margin: 0 2px; }.fc-files:hover .fc-upload-cover{ display: block; }.fc-upload .ivu-upload-list-file{ display: inline-block;float: left; }.fc-upload .ivu-upload-list{ position: absolute;left: 0; }.fc-upload-btn{ width: 58px;height: 58px;line-height: 58px;display:inline-block;background: #fff;border: 1px dashed #dddee1;border-radius: 4px;text-align: center;cursor: pointer;position: relative;overflow: hidden;transition: border-color .2s ease; } .fc-spin-icon-load{animation: ani-fc-spin 1s linear infinite;} @-webkit-keyframes ani-fc-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes ani-fc-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",t.createHandler=N,t.getGlobalApi=L,t.timeStampToDate=q,t.getMaker=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:createElement");this.$h=e},a=null,o=null;i.instance=function(e){return!1==a instanceof i&&(a=new i(e)),a},i.setVm=function(e){o=e},i.clearVm=function(){o=null},i.prototype={form:function(e,t){return this.make("i-form",e,t)},formItem:function(e,t){return this.make("form-Item",e,t)},input:function(e,t){return this.make("i-input",e,t)},inputNumber:function(e,t){return this.make("Input-Number",e,t)},radioGroup:function(e,t){return this.make("Radio-Group",e,t)},radio:function(e,t){return this.make("Radio",e,t)},checkboxGroup:function(e,t){return this.make("Checkbox-Group",e,t)},checkbox:function(e,t){return this.make("Checkbox",e,t)},select:function(e,t){return this.make("i-select",e,t)},option:function(e,t){return this.make("i-option",e,t)},switch:function(e,t){return this.make("i-switch",e,t)},datePicker:function(e,t){return this.make("Date-Picker",e,t)},timePicker:function(e,t){return this.make("Time-Picker",e,t)},colorPicker:function(e,t){return this.make("Color-Picker",e,t)},cascader:function(e,t){return this.make("Cascader",e,t)},upload:function(e,t){return this.make("Upload",e,t)},rate:function(e,t){return this.make("Rate",e,t)},slider:function(e,t){return this.make("Slider",e,t)},span:function(e,t){return this.make("span",e,t)},icon:function(e,t){return this.make("Icon",e,t)},button:function(e,t){return this.make("i-button",e,t)},progress:function(e,t){return this.make("i-progress",e,t)},modal:function(e,t){return this.make("Modal",e,t)},make:function(e,t,n){(0,r.isString)(t)&&(t={domProps:{innerHTML:t}});var i=this.$h(e,t,this.getVNode(n));return null!==o&&(i.context=o),i},getVNode:function(e){return(0,r.isFunction)(e)?e():e}},t.default=i},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(){this._data=this._initData(),this._prev=null},o=null;a.instance=function(){return!1==o instanceof a&&(o=new a),o},a.prototype={_initData:function(){return{class:{},style:{},attrs:{},props:{},domProps:{},on:{},nativeOn:{},directives:[],scopedSlots:{},slot:void 0,key:void 0,ref:void 0}},class:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:classList"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,i.isArray)(t)?t.map(function(t){e._data.class[t.toString()]=!0}):(0,i.isPlainObject)(t)?this._data.class=(0,i.assign)({},this._data.class,t):this._data.class[t.toString()]=void 0===n||n,this},style:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:style"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,i.isPlainObject)(e)?this._data.style=(0,i.assign)({},this._data.style,e):void 0!==t&&(this._data.style[e.toString()]=t),this},attrs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:attrs"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,i.isPlainObject)(e)?this._data.attrs=(0,i.assign)({},this._data.attrs,e):this._data.attrs[e.toString()]=t,this},props:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:props"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,i.isPlainObject)(e)?this._data.props=(0,i.assign)({},this._data.props,e):this._data.props[e.toString()]=t,this},domProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:domProps"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,i.isPlainObject)(e)?this._data.domProps=(0,i.assign)({},this._data.domProps,e):this._data.domProps[e.toString()]=t,this},on:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:onType"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,i.isPlainObject)(e)?this._data.on=(0,i.assign)({},this._data.on,e):this._data.on[e.toString()]=t,this},nativeOn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:onType"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,i.isPlainObject)(e)?this._data.nativeOn=(0,i.assign)({},this._data.nativeOn,e):this._data.nativeOn[e.toString()]=t,this},directives:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:directives");return this._data.directives=i.concat.call.apply(i.concat,r(this._data.directives).concat(r(e))),this},scopedSlots:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:scopedSlot"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,i.isPlainObject)(e)?this._data.scopedSlots=(0,i.assign)({},this._data.scopedSlots,e):this._data.scopedSlots[e.toString()]=t,this},slot:function(e){return this._data.slot=e,this},key:function(e){return this._data.key=e,this},ref:function(e){return this._data.ref=e,this},init:function(){this._data=this._initData()},get:function(){return this._prev=this._data,this.init(),this._prev},getPrev:function(){return this._prev}},t.default=a},function(e,t,n){"use strict";var r=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(r);"undefined"!=typeof window&&(window.formCreate=i.default,window.Vue&&(window.iview||window.iView)&&window.Vue.use(i.default)),e.exports.default=e.exports=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),o=n(24),s=r(o),u=n(25),l=r(u),d=n(0),c=(0,a.getMaker)(),h=function e(t,n){!this instanceof e&&throwIfMissing("formCreate is a constructor and should be called with the `new` keyword"),this.rules=Array.isArray(t)?t:[],this.handlers={},this.fRender={},this.formData={},this.validate={},this.fieldList=[],n.el=n.el?(0,i.isElement)(n.el)?n.el:document.querySelector(n.el):window.document.body,this.options=n};h.createStyle=function(){if(null===document.getElementById("form-create-style")){var e=document.createElement("style");e.id="form-create-style",e.innerText=a.formCreateStyle,document.getElementsByTagName("head")[0].appendChild(e)}},h.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.createStyle();var n=(0,i.deepExtend)((0,i.deepExtend)(Object.create(null),(0,a.getConfig)(e)),t);e.prototype.$formCreate=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,i.isElement)(r)?{el:r}:r,o=new h(t,(0,i.deepExtend)((0,i.deepExtend)(Object.create(null),n),a));o.create(e);return o.fCreateApi},e.prototype.$formCreate.version="1.2.3",e.prototype.$formCreate.maker=c},h.prototype={checkRule:function(e){return e.type=void 0===e.type?"hidden":e.type.toLowerCase(),e.field||(e.field=""),e},setHandler:function(e){var t=e.rule.field;this.handlers[t]=e,this.formData[t]=e.getParseValue(),this.validate[t]=e.getValidate()},init:function(e){var t=this;this.vm=e,this.rules.forEach(function(e,n){e instanceof d.make&&(t.rules[n]=e.getRule())}),this.rules.filter(function(e){return void 0!==e.field}).forEach(function(e){e=t.checkRule(e);var n=(0,a.createHandler)(t.vm,e,t.options);-1===t.fieldList.indexOf(n.rule.field)?(t.setHandler(n),t.fieldList.push(n.rule.field)):console.error(n.rule.field+" 字段已存在")}),this.fCreateApi=(0,a.getGlobalApi)(this),e.$set(e,"formData",this.formData),e.$set(e,"buttonProps",this.options.submitBtn),this.fRender=new s.default(this)},create:function(e){var t=e.extend(this.component()),n=(new t).$mount();return this.options.el.appendChild(n.$el),n},component:function(){return(0,l.default)(this)},append:function(e,t,n){e instanceof d.make&&(e=e.getRule());var r=(0,i.deepExtend)(Object.create(null),this.checkRule(e)),o=(0,a.createHandler)(this.vm,r,this.options);if(-1!==Object.keys(this.handlers).indexOf(o.rule.field))throw new Error(r.field+"字段已存在");this.fRender.setRender(o,t,n),this.setHandler(o),this.vm.setField(o.rule.field,o.getParseValue()),this.addHandlerWatch(o),this.vm.$nextTick(function(){o.mounted()})},removeField:function(e){if(void 0===this.handlers[e])throw new Error(e+"字段不存在");this.vm.removeFormData(e),delete this.handlers[e],delete this.validate[e],this.fRender.removeRender(e),delete this.formData[e]},addHandlerWatch:function(e){var t=this.vm.$watch("formData."+e.rule.field,function(n,r){void 0!==e?e.changeParseValue(n,!1):t()})},getFormRef:function(){return this.vm.$refs[this.fRender.refName]},fields:function(){return Object.keys(this.formData)}},t.default={install:h.install,default:h,maker:c,version:"1.2.3"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(1),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=(0,r.handlerFactory)({verify:function(){this.rule.props.data||(this.rule.props.data=[]),(0,a.isArray)(this.rule.value)||(this.rule.value=[])},getValue:function(){return this.el.value}}),l=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.cascader(this.propsData)]}}),d=(0,s.default)("cascader",["props","event","validate"]),c={handler:u,render:l,make:d};t.default=c,t.handler=u,t.render=l,t.make=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(1),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=(0,r.handlerFactory)({handle:function(){var e=this,t=[];!1===(0,a.isArray)(this.rule.value)&&(this.rule.value=[this.rule.value]),this.rule.value.forEach(function(n){e.rule.options.forEach(function(e){e.value===n&&t.push(e.label)})}),this.changeParseValue(t)},getValue:function(){var e=this,t=[];return this.parseValue.forEach(function(n){e.rule.options.forEach(function(e){e.label===n&&t.push(e.value)})}),t=1===this.rule.options.length?void 0===t[0]?"":t[0]:t}}),l=(0,i.renderFactory)({parse:function(){var e=this;this.propsData=this.inputProps().get();var t=this.handler,n=t.unique,r=t.rule.options;return[this.cvm.checkboxGroup(this.propsData,function(){return r.map(function(t,r){return e.cvm.checkbox({props:t,key:"copt"+r+n})})})]}}),d=(0,s.default)("checkbox",["options","props","event","validate"]),c={handler:u,render:l,make:d};t.default=c,t.handler=u,t.render=l,t.make=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=(0,r.handlerFactory)({}),u=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.colorPicker(this.propsData)]}}),l=(0,o.default)("colorpicker",["props","event","validate"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(1),o=n(4),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(0,r.handlerFactory)({verify:function(){this.rule.props.type=this.rule.props.type?this.rule.props.type:"date"},handle:function(){var e=this.rule.value;-1!==["daterange","datetimerange"].indexOf(this.rule.props.type)?((0,a.isArray)(e)||(e=["",""]),e=e.map(function(e){return e?(0,o.timeStampToDate)(e):""})):((0,a.isArray)(e)&&(e=e[0]),e=e?(0,o.timeStampToDate)(e):""),this.changeParseValue(e)},getValue:function(){return this.el.publicStringValue}}),d=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.datePicker(this.propsData)]}}),c=(0,u.default)("datepicker",["props","event","validate"]),h={handler:l,render:d,make:c};t.default=h,t.handler=l,t.render=d,t.make=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=(0,r.handlerFactory)({}),u=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.input(this.propsData)]}}),l=(0,o.default)("input",["props","event","validate","slot"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=(0,r.handlerFactory)({handle:function(){var e=parseFloat(this.rule.value);Number.isNaN(e)&&(e=""),this.changeParseValue(e)}}),u=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.inputNumber(this.propsData)]}}),l=(0,o.default)("inputnumber",["props","event","validate"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=(0,r.handlerFactory)({handle:function(){var e=this,t="";this.rule.options.forEach(function(n){n.value===e.rule.value&&(t=n.label)}),this.changeParseValue(t)},getValue:function(){var e=this,t="";return this.rule.options.forEach(function(n){n.label===e.parseValue&&(t=n.value)}),t}}),u=(0,i.renderFactory)({parse:function(){var e=this;this.propsData=this.inputProps().get();var t=this.handler,n=t.unique,r=t.rule.options;return[this.cvm.radioGroup(this.propsData,function(){return r.map(function(t,r){return e.cvm.radio({props:t,key:"ropt"+r+n})})})]}}),l=(0,o.default)("radio",["options","props","event","validate"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(1),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=(0,r.handlerFactory)({handle:function(){var e=(0,a.isArray)(this.rule.value),t=void 0;t=this.rule.props&&!0===this.rule.props.multiple?!0===e?this.rule.value:[this.rule.value]:!0===e?this.rule.value[0]:this.rule.value,this.changeParseValue(t)}}),l=(0,i.renderFactory)({parse:function(){var e=this;this.propsData=this.inputProps().get();var t=this.handler,n=t.unique,r=t.rule.options;return[this.cvm.select(this.propsData,function(){return r.map(function(t,r){return e.cvm.option({props:t,key:"sopt"+r+n})})})]}}),d=(0,s.default)("select",["options","props","event","validate"]),c={handler:u,render:l,make:d};t.default=c,t.handler=u,t.render=l,t.make=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=(0,r.handlerFactory)({verify:function(){void 0===this.rule.slot&&(this.rule.slot={})}}),u=(0,i.renderFactory)({parse:function(){var e=this.handler.rule.slot;return this.propsData=this.inputProps().scopedSlots({open:function(){return e.open},close:function(){return e.close}}).get(),[this.cvm.switch(this.propsData)]}}),l=(0,o.default)("switch",["slot","props","event","validate"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(1),o=n(4),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(0,r.handlerFactory)({verify:function(){this.rule.props.type=this.rule.props.type?this.rule.props.type:"time"},handle:function(){var e=this.rule.value;"timerange"===this.rule.props.type?((0,a.isArray)(e)||(e=["",""]),e=e.map(function(e){return e?(0,o.timeStampToDate)(e):""})):((0,a.isArray)(e)&&(e=e[0]),e=e?(0,o.timeStampToDate)(e):""),this.changeParseValue(e)},getValue:function(){return this.el.publicStringValue}}),d=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.timePicker(this.propsData)]}}),c=(0,u.default)("timepicker",["props","event","validate"]),h={handler:l,render:d,make:c};t.default=h,t.handler=l,t.render=d,t.make=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=(0,r.handlerFactory)({}),u=(0,i.renderFactory)({parse:function(){return[]}}),l=function(){var e=(0,o.default)("hidden",[]);return e.bind(e,"")}(),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var i=n(2),a=n(3),o=n(1),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(0,i.handlerFactory)({verify:function(){var e=this.rule.props;e.defaultFileList=[],e.showUploadList=!1,e.uploadType=e.uploadType?e.uploadType:"file","file"===e.uploadType&&void 0===e.handleIcon&&(e.handleIcon=!1),this.parseValue=[]},handle:function(){var e=this,t=(0,o.isArray)(this.rule.value)?this.rule.value:this.rule.value?[this.rule.value]:[];this.parseValue.splice(0,this.parseValue.length),t.forEach(function(t){return e.push(t)}),this.rule.props.defaultFileList=this.parseValue},mounted:function(){this.el=this.vm.$refs[this.refName],this.changeParseValue(this.el.fileList)},push:function(e){this.parseValue.push({url:e,name:this.getFileName(e)}),this.changeParseValue(this.parseValue)},getValue:function(){var e=this.parseValue.map(function(e){return e.url});return this.rule.props.maxLength<=1?e[0]||"":e},changeParseValue:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vm.changeFormData(this.rule.field,e),this.parseValue=e,this.el.fileList=e},getFileName:function(e){var t=e.split("/"),n=t[t.length-1],r=n.indexOf(".");return-1===r?n:n.substr(0,r)}}),d=["beforeUpload","onProgress","onPreview","onRemove","onFormatError","onExceededSize","onError"],c=(0,a.renderFactory)({init:function(){var e=this;this.uploadOptions=Object.assign(Object.create(null),this.options.upload,this.handler.rule.props),this.issetIcon=this.uploadOptions.allowRemove||this.uploadOptions.handleIcon;var t=d.reduce(function(t,n){return t[n]=function(){for(var t,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];if(e.uploadOptions[n])return(t=e.uploadOptions[n]).call.apply(t,[null].concat(i))},t},{});this.propsData=this.props.props(this.uploadOptions).props("onSuccess",function(t,n,r){var i=e.uploadOptions.onSuccess.call(null,t,n,r);i&&(n.url=i,n.name=e.handler.getFileName(i)),e.handler.changeParseValue(e.handler.el.fileList)}).props(t).ref(this.handler.refName).key("fip"+this.handler.unique).get()},parse:function(){var e=this,t=this.handler,n=t.rule,i=t.unique,a=this.vm.formData[n.field],o=[].concat(r(a.map(function(t,n){return void 0===t.status||"finished"===t.status?e.makeUploadView(t.url,""+n+i,n):t.showProgress?e.makeProgress(t,""+n+i):void 0})));return o.push(this.makeUploadBtn(i,!this.uploadOptions.maxLength||this.uploadOptions.maxLength>this.vm.formData[n.field].length)),[this.cvm.make("div",{key:"div4"+i,class:{"fc-upload":!0}},o)]},makeUploadView:function(e,t,n){var r=this;return this.cvm.make("div",{key:"div1"+t,class:{"fc-files":!0}},function(){var i=[];return"image"===r.uploadOptions.uploadType?i.push(r.cvm.make("img",{key:"img"+t,attrs:{src:e}})):i.push(r.cvm.icon({key:"file"+t,props:{type:"document-text",size:40}})),r.issetIcon&&i.push(r.makeIcons(e,t,n)),i})},makeIcons:function(e,t,n){var r=this;return this.cvm.make("div",{key:"div2"+t,class:{"fc-upload-cover":!0}},function(){var i=[];return r.uploadOptions.handleIcon&&i.push(r.makeHandleIcon(e,t,n)),!0===r.uploadOptions.allowRemove&&i.push(r.makeRemoveIcon(e,t,n)),i})},makeProgress:function(e,t){return this.cvm.make("div",{key:"div3"+t,class:{"fc-files":!0}},[this.cvm.progress({key:"upp"+t,props:{percent:e.percentage,hideInfo:!0}})])},makeUploadBtn:function(e,t){return this.cvm.upload(this.propsData,!0===t?[this.cvm.make("div",{key:"div5"+e,class:{"fc-upload-btn":!0}},[this.cvm.icon({key:"upi"+e,props:{type:"camera",size:20}})])]:[])},makeRemoveIcon:function(e,t,n){var r=this;return this.cvm.icon({key:"upri"+t+n,props:{type:"ios-trash-outline"},nativeOn:{click:function(){r.handler.el.fileList.splice(n,1)}}})},makeHandleIcon:function(e,t,n){var r=this;return this.cvm.icon({key:"uphi"+t+n,props:{type:this.uploadOptions.handleIcon.toString()},nativeOn:{click:function(){r.uploadOptions.onHandle(e)}}})}}),h=(0,u.default)("upload",["props","validate"]),p={handler:l,render:c,make:h};t.default=p,t.handler=l,t.render=c,t.make=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=(0,r.handlerFactory)({handle:function(){var e=parseFloat(this.rule.value);Number.isNaN(e)&&(e=0),this.changeParseValue(e)}}),u=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.rate(this.propsData)]}}),l=(0,o.default)("rate",["props","event","validate"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(1),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=(0,r.handlerFactory)({verify:function(){this.rule.props.min=void 0===this.rule.props.min?0:parseFloat(this.rule.props.min)},handle:function(){var e=(0,a.isArray)(this.rule.value),t=this.rule.props.min,n=void 0;n=!0===this.rule.props.range?e?this.rule.value:[t,parseFloat(this.rule.value)||t]:e?parseFloat(this.rule.value[0])||t:parseFloat(this.rule.value),this.changeParseValue(n)}}),l=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.slider(this.propsData)]}}),d=(0,s.default)("slider",["props","event","validate"]),c={handler:u,render:l,make:d};t.default=c,t.handler=u,t.render=l,t.make=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var r=n(2),i=n(3),a=n(1),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=(0,r.handlerFactory)({verify:function(){var e=this,t=this.rule.props;t.type||(t.type="input"),t.icon||(t.icon="folder"),t.width||(t.width="500px"),t.height||(t.height="370px"),void 0===t.spin&&(t.spin=!0),t.title||(t.title="请选择"+this.rule.title),t.maxLength||(t.maxLength=0),t.multiple=!t.maxLength||t.maxLength>1,"file"===t.type&&void 0===t.handleIcon?t.handleIcon=!1:t.handleIcon=!0===t.handleIcon||void 0===t.handleIcon?"ios-eye-outline":t.handleIcon,void 0===t.onHandle&&(t.onHandle=function(t){e.vm.$Modal.info({title:"预览",render:function(e){return e("img",{attrs:{src:t},style:"width: 100%"})}})}),void 0===t.allowRemove&&(t.allowRemove=!0),void 0===t.onRemove&&(t.onRemove=function(e){})},handle:function(){var e=void 0,t=this.rule.value,n=(0,a.isArray)(t);e=""===t?[]:n?t:[t],this.changeParseValue(e)},getValue:function(){return!0===this.rule.props.multiple?this.parseValue:void 0===this.parseValue[0]?"":this.parseValue[0]}}),l=(0,i.renderFactory)({init:function(){var e=this,t=this.handler.rule.field,n=!1;this.vm.$watch("formData."+t,function(){!0===n&&e.onChange(),n=!0}),this._props=this.handler.rule.props,this.issetIcon=!1!==this._props.handleIcon||!0===this._props.allowRemove},parse:function(){var e=this._props.type;return"image"===e?this.makeGroup(this.makeImage()):"file"===e?this.makeGroup(this.makeFile()):this.makeInput()},makeInput:function(e){var t=this,n=this.handler.unique,r=this.inputProps().props({type:"text",value:this.handler.parseValue,icon:this._props.icon,readonly:!0}).on("on-click",function(){t.showModel()}).key("ifit"+n).style({display:!0===e?"none":"inline-block"}).get();return[this.cvm.input(r)]},makeGroup:function(e){var t=this.handler.unique,n=this.handler.rule.field;return[this.cvm.make("div",{key:"ifgp1"+t,class:{"fc-upload":!0},ref:this.handler.refName,props:{value:this.vm.formData[n]}},e),this.makeInput(!0)]},makeImage:function(){var e=this,t=this.handler.unique,n=this.handler.parseValue.map(function(n,r){return e.cvm.make("div",{key:"ifid1"+t,class:{"fc-files":!0}},[e.cvm.make("img",{key:"ifim"+t,attrs:{src:n}}),e.makeIcons(n,t,r)])});return n.push(this.makeBtn()),n},makeFile:function(){var e=this,t=this.handler.unique,n=this.handler.parseValue.map(function(n,r){return e.cvm.make("div",{key:"iffd2"+t,class:{"fc-files":!0}},[e.cvm.icon({key:"iff"+t,props:{type:"document-text",size:40}}),e.makeIcons(n,t,r)])});return n.push(this.makeBtn()),n},makeBtn:function(){var e=this,t=this.handler.rule.props;if(!(t.maxLength>0&&this.handler.parseValue.length>=t.maxLength)){var n=this.handler.unique;return this.cvm.make("div",{key:"ifbd3"+n,class:{"fc-upload-btn":!0},on:{click:function(){e.showModel()}}},[this.cvm.icon({key:"ifbi"+n,props:{type:this._props.icon,size:20}})])}},makeSpin:function(){if(!0===this._props.spin){var e=this.handler.unique;return this.cvm.make("Spin",{props:{fix:!0},key:"ifsp"+e,class:{"fc-spin":!0}},[this.cvm.icon({props:{type:"load-c",size:18},class:{"fc-spin-icon-load":!0},key:"ifspi"+e}),this.cvm.make("div",{domProps:{innerHTML:"加载中..."},key:"ifspd"+e})])}},makeIcons:function(e,t,n){var r=this;if(!0===this.issetIcon)return this.cvm.make("div",{key:"ifis"+t,class:{"fc-upload-cover":!0}},function(){var i=[];return!1!==r._props.handleIcon&&i.push(r.makeHandleIcon(e,t,n)),!0===r._props.allowRemove&&i.push(r.makeRemoveIcon(e,t,n)),i})},makeRemoveIcon:function(e,t,n){var r=this;return this.cvm.icon({key:"ifri"+t+n,props:{type:"ios-trash-outline"},nativeOn:{click:function(){!1!==r._props.onRemove()&&r.handler.parseValue.splice(n,1)}}})},makeHandleIcon:function(e,t,n){var r=this._props;return this.cvm.icon({key:"ifhi"+t+n,props:{type:r.handleIcon.toString()},nativeOn:{click:function(){r.onHandle(e)}}})},onOpen:function(){var e=this.handler.rule.event["on-open"];if(e)return e(this.handler.getValue())},onChange:function(){var e=this.handler.rule.event["on-change"];if(e)return e(this.handler.getValue())},onOk:function(){var e=this.handler.rule.event["on-ok"];if(e)return e(this.handler.getValue())},showModel:function(){var e=this,t=!1!==this.onOpen(),n=this._props,r=n.width,i=n.height,o=n.src,s=n.title;t&&this.vm.$Modal.info({title:s,render:function(){return[e.makeSpin(),e.cvm.make("iframe",{attrs:{src:o},style:{height:i,border:"0 none",width:"100%"},on:{load:function(){!0===e._props.spin&&document.getElementsByClassName("fc-spin")[0].remove()}},key:"ifmd"+(0,a.uniqueId)()})]},onOk:function(){e.onOk()},width:r})}}),d=(0,s.default)("frame",["props","event","validate"]),c={handler:u,render:l,make:d};t.default=c,t.handler=u,t.render=l,t.make=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=r(i),o=n(6),s=r(o),u=n(1),l=function(e){var t=e.vm,n=e.options,r=e.fieldList,i=e.handlers,o=e.formData,l=e.validate,d=e.fCreateApi;this.vm=t,this.options=n,this.handlers=i,this.renderSort=r,this.renders=this.renderSort.reduce(function(e,t){return e[t]=i[t].render,e},{}),this.form={model:o,rules:l},this.fCreateApi=d,this.cvm=a.default.instance(t.$createElement),this.props=s.default.instance(),this.unique=(0,u.uniqueId)(),this.refName="cForm"+this.unique};l.prototype={parse:function(e){var t=this;a.default.setVm(e);var n=this.unique,r=this.props.props(Object.assign({},this.options.form,this.form)).ref(this.refName).class("form-create",!0).key(n).get(),i=this.renderSort.map(function(e){var r=t.renders[e],i=r.handler,a=i.key;if("hidden"!==i.rule.type)return t.makeFormItem(r.handler,r.parse(),"fItem"+a+n)});return!1!==this.options.submitBtn&&i.push(this.makeSubmitBtn(n)),this.cvm.form(r,i)},makeFormItem:function(e,t){var n=e.rule,r=e.refName,i=e.unique,a=this.props.props({prop:n.field,label:n.title,labelFor:r,rules:n.validate}).key(i).get();return this.cvm.formItem(a,t)},makeSubmitBtn:function(e){var t=this;return this.cvm.button({key:"fbtn"+e,props:this.vm.buttonProps,on:{click:function(){t.fCreateApi.submit()}}},[this.cvm.span(this.options.submitBtn.innerText)])},removeRender:function(e){delete this.renders[e],this.renderSort.splice(this.renderSort.indexOf(e),1)},setRender:function(e,t,n){this.renders[e.rule.field]=e.render,void 0!==t&&this.changeSort(e.rule.field,t,n)},changeSort:function(e,t,n){var r=this.renderSort.indexOf(t.toString());-1!==r?this.renderSort.splice(!1===n?r+1:r,0,e):n?this.renderSort.unshift(e):this.renderSort.push(e)}},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return{name:"form-create",data:function(){return{formData:{},buttonProps:{}}},render:function(){return e.fRender.parse(e.vm)},created:function(){e.init(this)},methods:{changeFormData:function(e,t){this.$set(this.formData,e,t)},removeFormData:function(e){this.$delete(this.formData,e)},changeButtonProps:function(e){this.$set(this,"buttonProps",Object.assign(this.buttonProps,e))},setField:function(e,t){this.$set(this.formData,e,t)}},mounted:function(){Object.keys(this.formData).map(function(t){e.addHandlerWatch(e.handlers[t]),e.handlers[t].mounted()})}}};t.default=r}])});