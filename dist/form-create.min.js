/*! form-create v1.4 | github https://github.com/xaboy/form-create | author xaboy */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("formCreate",[],e):"object"==typeof exports?exports.formCreate=e():t.formCreate=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=68)}([function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(40));e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}},function(t,e,n){t.exports={default:n(108),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._toString=void 0;var i=u(n(2)),r=u(n(50)),o=u(n(41));function u(t){return t&&t.__esModule?t:{default:t}}e.toRawType=function(t){return a.call(t).slice(8,-1)},e.isUndef=function(t){return void 0===t||null===t},e.toString=function(t){return null==t?"":"object"===(void 0===t?"undefined":(0,o.default)(t))?(0,r.default)(t,null,2):String(t)},e.extend=function(t,e){for(var n in e)t[n]=e[n];return t},e.debounce=function(t,e){var n=null;return function(){for(var r=this,o=arguments.length,u=Array(o),a=0;a<o;a++)u[a]=arguments[a];null!==n&&clearTimeout(n),n=setTimeout(function(){return(0,i.default)(this,r),t.apply(void 0,u)}.bind(this),e)}},e.isDate=function(t){return"[object Date]"===a.call(t)},e.isPlainObject=s,e.isFunction=function(t){return"[object Function]"===a.call(t)},e.isString=function(t){return"[object String]"===a.call(t)},e.isBool=function(t){return"[object Boolean]"===a.call(t)},e.toLine=function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()},e.isNumeric=function(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)},e.toArray=function(t){return Array.isArray(t)?t:[t]},e.ATS=function(t){return Array.isArray(t)?t[0]||"":t},e.isElement=function(t){return"object"===(void 0===t?"undefined":(0,o.default)(t))&&null!==t&&1===t.nodeType&&!s(t)},e.deepExtend=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i=!1;for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];if((i=Array.isArray(o))||s(o)){var u=void 0===e[r];i?(i=!1,u&&(e[r]=[])):u&&(e[r]={}),t(e[r],o)}else e[r]=o}return e},e.uniqueId=function(){return++l},e.dateFormat=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t};var a=e._toString=Object.prototype.toString;function s(t){return"[object Object]"===a.call(t)}var l=0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(2)),r=s(n(15)),o=s(n(0)),u=s(n(1));e.parseRule=f,e.parseArray=d,e.parseEmit=c,e.parseEvent=h,e.parseProps=p,e.parseCol=v;var a=n(4);function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,t);var i=f(n,e);this.rule=i,this.type=i.type,this.field=i.field,this.vm=e;var r=(0,a.uniqueId)();this.id=r,this.unique="fc_"+r,this.refName="__"+this.field+r,this.key="key_"+r,this.el={},this.init(),this.childrenHandlers=[],this.parseValue=this.toParseValue(this.rule.value)}return(0,u.default)(t,[{key:"init",value:function(){}},{key:"toParseValue",value:function(t){return t}},{key:"toTrueValue",value:function(t){return t}},{key:"setTrueValue",value:function(t){this.vm.changeTrueData(this.field,t)}},{key:"getValue",value:function(){return this.vm.getTrueDataValue(this.field)}},{key:"setParseValue",value:function(t){this.setTrueValue(this.toTrueValue(t))}},{key:"watchTrueValue",value:function(t){this.vm.changeFormData(this.field,this.toParseValue(t))}},{key:"watchParseValue",value:function(t){}},{key:"mounted",value:function(){this.el=this.vm.$refs[this.refName],this.defaultValue=this.toTrueValue(this.vm.$refs["fItem"+this.refName]?this.vm.$refs["fItem"+this.refName].initialValue:(0,a.deepExtend)({},{value:this.rule.value}).value)}}]),t}();function f(t,e){var n=t.validate,i=void 0===n?[]:n,o=t.event,u=void 0===o?{}:o,s=t.col,l=void 0===s?{}:s,f=t.emit,y=void 0===f?[]:f,m=t.props,_=void 0===m?{}:m,g=t.options,b=void 0===g?[]:g,k=t.title,S=void 0===k?"":k,w=t.value,x=void 0===w?"":w,P=t.field,O=void 0===P?"":P;return t.col=v(l),t.props=p(_),t.emitEvent=c(O,y,e),t.event=(0,a.extend)(h(u),t.emitEvent),t.validate=d(i),t.options=d(b),t.title=S,t.value=x,t.field=O,(0,r.default)(t.emitEvent).length>0&&(0,a.extend)(t.on,t.emitEvent),t}function d(t){return Array.isArray(t)?t:[]}function c(t,e,n){var r=this,o={};return Array.isArray(e)?(e.forEach(function(e){(0,i.default)(this,r),o["on-"+String(e)]=o[""+String(e)]=function(){for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];(0,i.default)(this,r),n.$emit.apply(n,[(0,a.toLine)(String(t)+"-"+String(e)).replace("_","-")].concat(u))}.bind(this)}.bind(this)),o):o}function h(t){return(0,r.default)(t).forEach(function(e){var n=0===(0,a.toString)(e).indexOf("on-")?e:"on-"+String(e);n!==e&&(t[n]=t[e])}),t}function p(t){return(0,a.isUndef)(t.hidden)&&(t.hidden=!1),(0,a.isUndef)(t.visibility)&&(t.visibility=!1),t}function v(t){return(0,a.isNumeric)(t)?{span:t}:(void 0===t.span&&(t.span=24),t)}e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(n(2)),r=f(n(61)),o=f(n(0)),u=f(n(1)),a=n(4),s=f(n(62)),l=f(n(48));function f(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.default)(this,t),this.vm=e,this.handler=n,this.options=i,this.vNode=new s.default(e),this.vData=new l.default,this.cache=null,this.$tickEvent=[],this.init()}return(0,u.default)(t,[{key:"init",value:function(){}},{key:"cacheParse",value:function(){var t=this;this.cache&&"__tmp"!==this.handler.rule.type||(this.cache=this.parse());var e=[].concat((0,r.default)(this.$tickEvent));return this.$tickEvent=[],this.vm.$nextTick(function(){(0,i.default)(this,t),e.forEach(function(e){return(0,i.default)(this,t),e()}.bind(this))}.bind(this)),this.cache}},{key:"sync",value:function(t){(0,a.isFunction)(t)&&this.$tickEvent.push(t),this.clearCache(),this.vm.sync()}},{key:"clearCache",value:function(){var t=this;this.cache=null,this.handler.childrenHandlers.length>0&&this.handler.childrenHandlers.forEach(function(e){return(0,i.default)(this,t),e.render.clearCache()}.bind(this))}},{key:"parse",value:function(){var t=this,e=this.handler,n=e.type,r=e.rule,o=e.childrenHandlers,u=e.refName,s=e.key;if("__tmp"===r.type){var l=this.vm.constructor.super.compile(r.template,{}).render.call(r._vm||this.vm);return(0,a.extend)(l.data,r),l.key=s,[l]}r.ref=u;var f=this.vNode.make(n,(0,a.extend)({},r),function(){(0,i.default)(this,t);var e=[];return o.length>0&&(e=o.map(function(e){return(0,i.default)(this,t),e.render.cacheParse()}.bind(this))),e}.bind(this));return f.key=s,[f]}},{key:"inputProps",value:function(){var t=this,e=this.handler,n=e.refName,r=e.unique,o=e.key,u=e.field,s=e.rule,l=s.props,f=s.event;return this.vData.props((0,a.extend)(l,{value:this.vm.cptData[u],elementId:r})).ref(n).key(o+""+(0,a.uniqueId)()).on(f).on("input",function(e){(0,i.default)(this,t),this.onInput(e)}.bind(this))}},{key:"onInput",value:function(t){this.vm.$set(this.vm.cptData,this.handler.field,t)}}]),t}();e.default=d},function(t,e,n){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(41));e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var i=u(n(110)),r=u(n(114)),o=u(n(41));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,r.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i.default?(0,i.default)(t,e):t.__proto__=e)}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(n(3)),r=f(n(0)),o=f(n(1)),u=f(n(7)),a=f(n(8)),s=f(n(2));e.baseRule=d,e.creatorFactory=function(t){var e=this;return function(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,s.default)(this,e),new c(t,n,i,r,o)}.bind(this)},e.creatorTypeFactory=function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return function(r,o,u){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,s.default)(this,n);var f=new c(t,r,o,u,a);return(0,l.isFunction)(e)?e(f):f.props(i,e),f}.bind(this)};var l=n(4);function f(t){return t&&t.__esModule?t:{default:t}}function d(){return{event:{},validate:[],options:[],col:{},children:[],emit:[],template:null}}var c=function(t){function e(t,n,o,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,r.default)(this,e);var f=(0,u.default)(this,(e.__proto__||(0,i.default)(e)).call(this));return f.rule=(0,l.extend)({event:{},validate:[],options:[],col:{},children:[],emit:[],template:null},{type:t,title:n,field:o,value:a}),f.props({hidden:!1,visibility:!1}),(0,l.isPlainObject)(s)&&f.props(s),f}return(0,a.default)(e,t),(0,o.default)(e,[{key:"type",value:function(t){return this.props("type",t),this}},{key:"get",value:function(){return this._data}},{key:"getRule",value:function(){return(0,l.extend)(this.rule,this.get())}},{key:"setValue",value:function(t){return this.rule.value=t,this}}]),e}(f(n(48)).default);e.default=c;["event","col"].forEach(function(t){(0,s.default)(void 0,void 0),c.prototype[t]=function(e){return this.rule[t]=(0,l.extend)(this.rule[t],e),this}}.bind(void 0));["validate","options","children","emit"].forEach(function(t){(0,s.default)(void 0,void 0),c.prototype[t]=function(e){return Array.isArray(e)||(e=[e]),this.rule[t]=this.rule[t].concat(e),this}}.bind(void 0))},function(t,e,n){var i=n(35)("wks"),r=n(30),o=n(12).Symbol,u="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=u&&o[t]||(u?o:r)("Symbol."+t))}).store=i},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(12),r=n(9),o=n(38),u=n(21),a=n(16),s=function(t,e,n){var l,f,d,c=t&s.F,h=t&s.G,p=t&s.S,v=t&s.P,y=t&s.B,m=t&s.W,_=h?r:r[e]||(r[e]={}),g=_.prototype,b=h?i:p?i[e]:(i[e]||{}).prototype;for(l in h&&(n=e),n)(f=!c&&b&&void 0!==b[l])&&a(_,l)||(d=f?b[l]:n[l],_[l]=h&&"function"!=typeof b[l]?n[l]:y&&f?o(d,i):m&&b[l]==d?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):v&&"function"==typeof d?o(Function.call,d):d,v&&((_.virtual||(_.virtual={}))[l]=d,t&s.R&&g&&!g[l]&&u(g,l,d)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var i=n(22),r=n(53),o=n(39),u=Object.defineProperty;e.f=n(18)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports={default:n(70),__esModule:!0}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(72),r=n(31);t.exports=function(t){return i(r(t))}},function(t,e,n){t.exports=!n(24)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.componentCommon=e.getGlobalApi=e.formCreateStyle=e.iviewConfig=void 0;var i=f(n(40)),r=f(n(15)),o=f(n(2));e.getComponent=function(t,e,n){var i=e.type.toLowerCase(),r=void 0===l.default[i]?c():l.default[i],o=new r.handler(t,e);return o.render=new r.render(t,o,n),o.noValue=r.noValue,o},e.getUdfComponent=c,e.getConfig=function(){var t=this;return{el:null,form:{inline:!1,labelPosition:"right",labelWidth:125,showMessage:!0,autocomplete:"off"},row:{gutter:0,type:void 0,align:void 0,justify:void 0,className:void 0},upload:{beforeUpload:function(){(0,o.default)(this,t)}.bind(this),onProgress:function(e,n,i){(0,o.default)(this,t)}.bind(this),onSuccess:function(e,n,i){(0,o.default)(this,t)}.bind(this),onError:function(e,n,i){(0,o.default)(this,t)}.bind(this),onPreview:function(e){(0,o.default)(this,t)}.bind(this),onRemove:function(e,n){(0,o.default)(this,t)}.bind(this),onFormatError:function(e,n){(0,o.default)(this,t)}.bind(this),onExceededSize:function(e,n){(0,o.default)(this,t)}.bind(this),handleIcon:"ios-eye-outline",allowRemove:!0},onSubmit:function(e){(0,o.default)(this,t)}.bind(this),submitBtn:{type:"primary",size:"large",shape:void 0,long:!0,htmlType:"button",disabled:!1,icon:d.submitBtnIcon,innerText:"提交",loading:!1,show:!0},resetBtn:{type:d.resetBtnType,size:"large",shape:void 0,long:!0,htmlType:"button",disabled:!1,icon:d.resetBtnIcon,innerText:"重置",loading:!1,show:!1},mounted:function(){(0,o.default)(this,t)}.bind(this)}},e.timeStampToDate=function(t){if((0,u.isDate)(t))return t;var e=new Date(t);return"Invalid Date"===e.toString()?t:e};var u=n(4),a=f(n(5)),s=f(n(6)),l=f(n(63));function f(t){return t&&t.__esModule?t:{default:t}}var d=e.iviewConfig=function(){var t={_v:2,resetBtnType:"ghost",resetBtnIcon:"refresh",submitBtnIcon:"ios-upload",fileIcon:"document-text",fileUpIcon:"folder",imgUpIcon:"camera"};return"undefined"==typeof iview?t:iview.version&&3==iview.version.split(".")[0]?{_v:3,resetBtnType:"default",resetBtnIcon:"md-refresh",submitBtnIcon:"ios-share",fileIcon:"md-document",fileUpIcon:"ios-folder-open",imgUpIcon:"md-images"}:t}();function c(){return{handler:a.default,render:s.default,noValue:!0}}e.formCreateStyle=".form-create{padding:25px;} .fc-upload-btn,.fc-files{display: inline-block;width: 58px;height: 58px;text-align: center;line-height: 58px;border: 1px solid transparent;border-radius: 4px;overflow: hidden;background: #fff;position: relative;box-shadow: 0 1px 1px rgba(0,0,0,.2);margin-right: 4px;box-sizing: border-box;}.__fc_h{display:none;}.__fc_v{visibility:hidden;} .fc-files>.ivu-icon{vertical-align: middle;}.fc-files img{width:100%;height:100%;display:inline-block;vertical-align: top;}.fc-upload .ivu-upload{display: inline-block;}.fc-upload-btn{border: 1px dashed #dddee1;}.fc-upload .fc-upload-cover{ display: none; position: absolute; top: 0; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,.6); }.fc-upload .fc-upload-cover i{ color: #fff; font-size: 20px; cursor: pointer; margin: 0 2px; }.fc-files:hover .fc-upload-cover{ display: block; }.fc-upload .ivu-upload-list-file{ display: inline-block;float: left; }.fc-upload .ivu-upload-list{ position: absolute;left: 0; }.fc-spin-icon-load{animation: ani-fc-spin 1s linear infinite;} @-webkit-keyframes ani-fc-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes ani-fc-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}";e.getGlobalApi=function(t){var e=this,n=this,a=t.vm;return{formData:function(){return(0,o.default)(this,e),(0,r.default)(a.trueData).reduce(function(t,n){return(0,o.default)(this,e),t[n]=a.trueData[n].value,t}.bind(this),{})}.bind(this),getValue:function(n){(0,o.default)(this,e),n=(0,u.toString)(n);var i=t.handlers[n];if(void 0!==i)return i.getValue();console.error(String(n)+" 字段不存在!")}.bind(this),changeField:function(n,i){(0,o.default)(this,e),n=(0,u.toString)(n);var r=t.handlers[n];void 0===r?console.error(String(n)+" 字段不存在!"):(0,u.isFunction)(i)?i(a.getTrueData(n),function(t){(0,o.default)(this,e),this.changeField(n,t)}.bind(this)):(r.setTrueValue(i),r.render.sync())}.bind(this),removeField:function(n){(0,o.default)(this,e),t.removeField((0,u.toString)(n)),a.sync()}.bind(this),validate:function(n,i){(0,o.default)(this,e),t.getFormRef().validate(function(t){(0,o.default)(this,e),!0===t?n&&n():i&&i()}.bind(this))}.bind(this),validateField:function(n,i){(0,o.default)(this,e),t.getFormRef().validateField((0,u.toString)(n),i)}.bind(this),resetFields:function(){var e=this,n=t.handlers;(0,r.default)(a.trueData).forEach(function(t){(0,o.default)(this,e),a.$set(a.trueData[t],"value",n[t].defaultValue)}.bind(this))},destroy:function(){(0,o.default)(this,e),a.$el.parentNode.removeChild(a.$el),a.$destroy()}.bind(this),fields:function(){return(0,o.default)(this,e),t.fields()}.bind(this),append:function(n,i){(0,o.default)(this,e),t.append(n,i,!1)}.bind(this),prepend:function(n,i){(0,o.default)(this,e),t.append(n,i,!0)}.bind(this),submit:function(e,n){var i=this;this.validate(function(){(0,o.default)(this,i);var n=this.formData();(0,u.isFunction)(e)?e(n):t.options.onSubmit&&t.options.onSubmit(n)}.bind(this),function(){return(0,o.default)(this,i),n&&n()}.bind(this))},hidden:function(e){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.vm;e?Array.isArray(e)||(e=[e]):e=this.fields(),e.forEach(function(t){(0,o.default)(this,n),r.$set(r.trueData[t].rule.props,"hidden",!!i)}.bind(this))},visibility:function(e){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.vm;e?Array.isArray(e)||(e=[e]):e=this.fields(),e.forEach(function(t){(0,o.default)(this,n),r.$set(r.trueData[t].rule.props,"visibility",!!i)}.bind(this))},model:function(e){var n=this,i={};return e?Array.isArray(e)||(e=[e]):e=this.fields(),e.forEach(function(e){(0,o.default)(this,n);var r=t.handlers[e];if(!r)throw new Error(String(e)+"字段不存在");i[e]=r.vm.getTrueData(e)}.bind(this)),i},bind:function(e){var n=this,r={},u=t.vm;return e?Array.isArray(e)||(e=[e]):e=this.fields(),e.forEach(function(t){(0,o.default)(this,n),r[t]=u.trueData[t].value,(0,i.default)(r,t,{get:function(){return(0,o.default)(this,n),u.trueData[t].value}.bind(this),set:function(e){(0,o.default)(this,n),u.$set(u.trueData[t],"value",e)}.bind(this),enumerable:!0,configurable:!0})}.bind(this)),r},submitStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),a.changeButtonProps(t)}.bind(this),resetStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),a.changeResetProps(t)}.bind(this),btn:{loading:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,o.default)(this,n),a.changeButtonProps({loading:t})}.bind(this),finish:function(){this.loading(!1)},disabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,o.default)(this,n),a.changeButtonProps({disabled:t})}.bind(this)},resetBtn:{loading:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,o.default)(this,n),a.changeResetProps({loading:t})}.bind(this),finish:function(){this.loading(!1)},disabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,o.default)(this,n),a.changeResetProps({disabled:t})}.bind(this)},closeModal:function(){(0,o.default)(this,n),a.$Modal.remove()}.bind(this),set:function(t,e,i){(0,o.default)(this,n),a.$set(t,e,i)}.bind(this),reload:function(e){return(0,o.default)(this,n),t.reload(e)}.bind(this),options:function(e){(0,o.default)(this,n),(0,u.deepExtend)(t.options,e),a.sync()}.bind(this),onSuccess:function(t){this.setOption({onSubmit:t})},sync:function(e,i){if((0,o.default)(this,n),!t.handlers[e])throw new Error(String(e)+"字段不存在");t.handlers[e].render.sync(i)}.bind(this),refresh:function(){(0,o.default)(this,n),a.refresh()}.bind(this),vm:t}};e.componentCommon={data:function(){return(0,o.default)(void 0,void 0),{rules:{},cptData:{},buttonProps:{},resetProps:{},trueData:{},jsonData:{},$f:{},isShow:!0,watchs:[],unique:1,other:{}}}.bind(void 0),methods:{changeFormData:function(t,e){this.$set(this.cptData,t,e)},changeTrueData:function(t,e){this.$set(this.trueData[t],"value",e)},getTrueDataValue:function(t){return this.trueData[t].value},getTrueData:function(t){return this.trueData[t]},getFormData:function(t){return this.cptData[t]},removeFormData:function(t){delete this.cptData[t],delete this.trueData[t],delete this.jsonData[t]},changeButtonProps:function(t){this.$set(this,"buttonProps",(0,u.deepExtend)(this.buttonProps,t))},changeResetProps:function(t){this.$set(this,"resetProps",(0,u.deepExtend)(this.resetProps,t))},setField:function(t){this.$set(this.cptData,t,""),this.$set(this.trueData,t,{})},init:function(){var t=this,e=this.fComponent._type;this[e].forEach(function(n,i){(0,o.default)(this,t);var r=this.$watch(String(e)+"."+String(i)+".value",function(e){if((0,o.default)(this,t),void 0===this.trueData[n.field])return r();this.$set(this.trueData[n.field],"value",e)}.bind(this));this.watchs.push(r)}.bind(this))},unWatch:function(){var t=this;this.watchs.forEach(function(e){return(0,o.default)(this,t),e()}.bind(this)),this.watchs=[]},refresh:function(){this.unique+=1},sync:function(){var t=this;this._sync||(this._sync=(0,u.debounce)(function(){(0,o.default)(this,t),this.$nextTick(function(){(0,o.default)(this,t),this.fComponent.fRender.cacheUnique=this.unique+1,this.unique+=1}.bind(this))}.bind(this),100)),this._sync()}}}},function(t,e,n){"use strict";e.__esModule=!0;var i=o(n(3)),r=o(n(120));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,o){null===e&&(e=Function.prototype);var u=(0,r.default)(e,n);if(void 0===u){var a=(0,i.default)(e);return null===a?void 0:t(a,n,o)}if("value"in u)return u.value;var s=u.get;return void 0!==s?s.call(o):void 0}},function(t,e,n){var i=n(14),r=n(25);t.exports=n(18)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(23);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e,n){var i=n(31);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(51),r=n(36);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){t.exports=!0},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(35)("keys"),r=n(30);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(9),r=n(12),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(29)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(13),r=n(9),o=n(24);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],u={};u[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",u)}},function(t,e,n){var i=n(75);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(23);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports={default:n(76),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var i=u(n(78)),r=u(n(88)),o="function"==typeof r.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===o(i.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e,n){var i=n(22),r=n(82),o=n(36),u=n(34)("IE_PROTO"),a=function(){},s=function(){var t,e=n(54)("iframe"),i=o.length;for(e.style.display="none",n(83).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;i--;)delete s.prototype[o[i]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[u]=t):n=s(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(14).f,r=n(16),o=n(11)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){e.f=n(11)},function(t,e,n){var i=n(12),r=n(9),o=n(29),u=n(44),a=n(14).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(46),r=n(25),o=n(17),u=n(39),a=n(16),s=n(53),l=Object.getOwnPropertyDescriptor;e.f=n(18)?l:function(t,e){if(t=o(t),e=u(e,!0),s)try{return l(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(2)),r=a(n(0)),o=a(n(1));e.defVData=s;var u=n(4);function a(t){return t&&t.__esModule?t:{default:t}}function s(){return{class:{},style:{},attrs:{},props:{},domProps:{},on:{},nativeOn:{},directives:[],scopedSlots:{},slot:void 0,key:void 0,ref:void 0}}var l=function(){function t(){(0,r.default)(this,t),this.init()}return(0,o.default)(t,[{key:"class",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,u.isUndef)(t)?this:(Array.isArray(t)?t.map(function(t){(0,i.default)(this,e),this._data.class[(0,u.toString)(t)]=!0}.bind(this)):(0,u.isPlainObject)(t)?this._data.class=(0,u.extend)(this._data.class,t):this._data.class[(0,u.toString)(t)]=void 0===n||n,this)}},{key:"directives",value:function(t){return(0,u.isUndef)(t)?this:(this._data.directives=this._data.directives.call((0,u.toArray)(t)),this)}},{key:"init",value:function(){return this._data={class:{},style:{},attrs:{},props:{},domProps:{},on:{},nativeOn:{},directives:[],scopedSlots:{},slot:void 0,key:void 0,ref:void 0},this}},{key:"get",value:function(){return this._prev=this._data,this.init(),this._prev}}]),t}();e.default=l;["ref","key","slot"].forEach(function(t){(0,i.default)(void 0,void 0),l.prototype[t]=function(e){return this._data[t]=e,this}}.bind(void 0)),["scopedSlots","nativeOn","on","domProps","props","attrs","style"].forEach(function(t){(0,i.default)(void 0,void 0),l.prototype[t]=function(e,n){return(0,u.isUndef)(e)?this:((0,u.isPlainObject)(e)?this._data[t]=(0,u.extend)(this._data[t],e):this._data[t][(0,u.toString)(e)]=n,this)}}.bind(void 0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(n(50)),r=p(n(15)),o=p(n(0)),u=p(n(1)),a=p(n(2));e.margeGlobal=y,e.parseRules=function(t){var e=this,n={};return t.filter(function(t){return(0,a.default)(this,e),void 0!==t.type}.bind(this)).forEach(function(t){(0,a.default)(this,e),(0,s.isFunction)(t.getRule)&&(t=t.getRule()),t.field||(t.field=""),n[(0,s.toString)(t.field)]=t}.bind(this)),n},e.initStyle=m;var s=n(4),l=n(19),f=p(n(136)),d=p(n(137)),c=n(67),h=p(n(138));function p(t){return t&&t.__esModule?t:{default:t}}var v="form-create-style";function y(t){(0,s.isBool)(t.sumbitBtn)&&(t.sumbitBtn={show:t.sumbitBtn}),(0,s.isBool)(t.resetBtn)&&(t.resetBtn={show:t.resetBtn});var e=(0,s.deepExtend)((0,l.getConfig)(),t);return e.el=e.el?(0,s.isElement)(e.el)?e.el:document.querySelector(e.el):window.document.body,e}function m(){if(null===document.getElementById(v)){var t=document.createElement("style");t.id=v,t.innerText=l.formCreateStyle,document.getElementsByTagName("head")[0].appendChild(t)}}var _=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,t),console.log("constructor"),console.log(i),this.options=y(i),console.log(this.options),this.rules=Array.isArray(e)?e:[],this.rules.forEach(function(t,e){(0,a.default)(this,n),(0,s.isFunction)(t.getRule)&&(this.rules[e]=t.getRule())}.bind(this)),this.handlers={},this.fRender={},this.formData={},this.validate={},this.trueData={},this.fieldList=[],m()}return(0,u.default)(t,[{key:"init",value:function(t){var e=this;this.vm=t,this.createHandler(),this.fCreateApi=(0,l.getGlobalApi)(this),t.$set(t,"cptData",this.formData),t.$set(t,"trueData",this.trueData),t.$set(t,"buttonProps",this.options.submitBtn),t.$set(t,"resetProps",this.options.resetBtn),t.$set(t,"rules",this.rules),this.fRender=new f.default(this),this.$tick=(0,s.debounce)(function(n){return(0,a.default)(this,e),t.$nextTick(n)}.bind(this),100)}},{key:"setHandler",value:function(t){var e=t.rule,n=t.field;this.handlers[n]=t,!0!==t.noValue&&(this.formData[n]=t.parseValue,this.validate[n]=e.validate,this.trueData[n]={value:t.rule.value,rule:t.rule})}},{key:"notField",value:function(t){return-1===this.fieldList.indexOf(t)}},{key:"createHandler",value:function(){var t=this;this.rules.forEach(function(e){if((0,a.default)(this,t),this.notField(e.field)){var n=(0,l.getComponent)(this.vm,e,this.options);this.createChildren(n),this.setHandler(n),this.fieldList.push(n.field)}else console.error(String(e.field)+" 字段已存在")}.bind(this))}},{key:"createChildren",value:function(t){var e=this;Array.isArray(t.rule.children)&&t.rule.children.length>0&&t.rule.children.map(function(n){if((0,a.default)(this,e),(0,s.isFunction)(n.getRule)&&(n=n.getRule()),n.field=void 0===n.field?"":(0,s.toString)(n.field),this.notField(n.field)){var i=(0,l.getComponent)(this.vm,n,this.options);this.createChildren(i),t.childrenHandlers.push(i)}else console.error(String(n.field)+" 字段已存在")}.bind(this))}},{key:"create",value:function(t){var e=(new(t.extend(this.component()))).$mount();return this.options.el.appendChild(e.$el),e}},{key:"mounted",value:function(t){var e=this;this.vm=t,t.$nextTick(function(){(0,a.default)(this,e),(0,r.default)(this.handlers).map(function(n){(0,a.default)(this,e);var i=this.handlers[n];console.log(void 0!==t.cptData[n],n),void 0!==t.cptData[n]&&this.addHandlerWatch(i),i.mounted()}.bind(this)),console.log(this.options),this.options.mounted&&this.options.mounted(this.fCreateApi)}.bind(this))}},{key:"component",value:function(){return(0,d.default)(this)}},{key:"append",value:function(t,e,n){var i=this;if((0,s.isFunction)(t.getRule)&&(t=t.getRule()),-1!==(0,r.default)(this.handlers).indexOf((0,s.toString)(t.field)))throw new Error(String(t.field)+"字段已存在");var o=(0,l.getComponent)(this.vm,t,this.options);this.createChildren(o),this.vm.setField(o.field),this.fRender.setRender(o,e||"",n),this.setHandler(o),this.addHandlerWatch(o),o.render.sync(function(){(0,a.default)(this,i),o.mounted()}.bind(this))}},{key:"removeField",value:function(t){var e=this;if(void 0===this.handlers[t])throw new Error(String(t)+"字段不存在");var n=this.handlers[t].watch;delete this.handlers[t],delete this.validate[t],n&&n.forEach(function(t){return(0,a.default)(this,e),t()}.bind(this)),this.vm.removeFormData(t),this.fRender.removeRender(t),delete this.formData[t],delete this.trueData[t]}},{key:"addHandlerWatch",value:function(t){var e=this;if(!0!==t.noValue){var n=t.field,o=this.vm.$watch("cptData."+String(n),(0,s.debounce)(function(r,u){if((0,a.default)(this,e),void 0!==this.handlers[n]){var s=t.toTrueValue(r),l=(0,i.default)(s);this.vm.jsonData[n]!==l&&(this.vm.jsonData[n]=l,t.setTrueValue(s),t.watchParseValue(r))}else o()}.bind(this),50),{deep:!0}),u=this.vm.$watch("trueData."+String(n)+".value",(0,s.debounce)(function(r,o){if((0,a.default)(this,e),void 0!==r)if(void 0!==this.handlers[n]){var s=(0,i.default)(r);this.vm.jsonData[n]!==s&&(this.vm.jsonData[n]=s,t.watchTrueValue(r),this.vm.changeFormData(t.toParseValue(r)),this.vm.$nextTick(function(){return(0,a.default)(this,e),t.render.sync()}.bind(this)))}else u()}.bind(this),50),{deep:!0});t.watch=[o,u];var l=(0,s.debounce)(function(i,r){(0,a.default)(this,e),console.trace("---------------chage---------------"),void 0!==this.handlers[n]?this.$tick(function(){return(0,a.default)(this,e),t.render.sync()}.bind(this)):o()}.bind(this),100);(0,r.default)(this.vm.trueData[n].rule).map(function(i){if((0,a.default)(this,e),"value"!==i){var r=this.vm.$watch("trueData."+String(n)+".rule."+String(i),l,{deep:!0});t.watch.push(r)}}.bind(this))}}},{key:"reload",value:function(t){var e=this;return t?(this.vm.unWatch(),(0,r.default)(this.handlers).forEach(function(t){return(0,a.default)(this,e),this.removeField(t)}.bind(this)),this.vm.isShow=!1,this.constructor(t,this.options),this.init(this.vm),this.vm.init(),this.vm.$nextTick(function(){(0,a.default)(this,e),this.vm.isShow=!0,setTimeout(function(){return(0,a.default)(this,e),this.mounted(this.vm)}.bind(this))}.bind(this))):this.vm.refresh(),this.vm.$f=this.fCreateApi}},{key:"getFormRef",value:function(){return this.vm.$refs[this.fRender.refName]}},{key:"fields",value:function(){return(0,r.default)(this.formData)}}],[{key:"create",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.Vue,r=new t(e,(0,s.isElement)(n)?{el:n}:n);r.create(i);return r.fCreateApi}},{key:"install",value:function(e){console.trace("install"),e.prototype.$formCreate=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.create(n,i,e)},e.prototype.$formCreate.version="1.5.0",e.prototype.$formCreate.maker=h.default,e.component(c.formCreateName,(0,c.$FormCreate)())}}]),t}();e.default=_,_.maker=h.default},function(t,e,n){t.exports={default:n(69),__esModule:!0}},function(t,e,n){var i=n(16),r=n(17),o=n(73)(!1),u=n(34)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),s=0,l=[];for(n in a)n!=u&&i(a,n)&&l.push(n);for(;e.length>s;)i(a,n=e[s++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var i=n(33),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){t.exports=!n(18)&&!n(24)(function(){return 7!=Object.defineProperty(n(54)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(23),r=n(12).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){"use strict";var i=n(80)(!0);n(56)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var i=n(29),r=n(13),o=n(57),u=n(21),a=n(26),s=n(81),l=n(43),f=n(58),d=n(11)("iterator"),c=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,p,v,y,m){s(n,e,p);var _,g,b,k=function(t){if(!c&&t in P)return P[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",w="values"==v,x=!1,P=t.prototype,O=P[d]||P["@@iterator"]||v&&P[v],M=O||k(v),N=v?w?k("entries"):M:void 0,T="Array"==e&&P.entries||O;if(T&&(b=f(T.call(new t)))!==Object.prototype&&b.next&&(l(b,S,!0),i||"function"==typeof b[d]||u(b,d,h)),w&&O&&"values"!==O.name&&(x=!0,M=function(){return O.call(this)}),i&&!m||!c&&!x&&P[d]||u(P,d,M),a[e]=M,a[S]=h,v)if(_={values:w?M:k("values"),keys:y?M:k("keys"),entries:N},m)for(g in _)g in P||o(P,g,_[g]);else r(r.P+r.F*(c||x),e,_);return _}},function(t,e,n){t.exports=n(21)},function(t,e,n){var i=n(16),r=n(27),o=n(34)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(51),r=n(36).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(98));e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(2)),r=s(n(15)),o=s(n(0)),u=s(n(1));e.parseVData=l,e.getVNode=f;var a=n(4);function s(t){return t&&t.__esModule?t:{default:t}}function l(t){return(0,a.isString)(t)?t={domProps:{innerHTML:t}}:t&&(0,a.isFunction)(t.get)&&(t=t.get()),t}function f(t){return(0,a.isFunction)(t)?t():t||[]}var d=function(){function t(e){(0,o.default)(this,t),this.setVm(e)}return(0,u.default)(t,[{key:"setVm",value:function(t){this.vm=t,this.$h=t.$createElement}},{key:"make",value:function(t,e,n){(0,a.isString)(e)&&(e={domProps:{innerHTML:e}});var i=this.$h(t,l(e),f(n));return i.context=this.vm,i}}]),t}();e.default=d;var c={modal:"Modal",progress:"i-progress",button:"i-button",icon:"Icon",span:"span",slider:"Slider",rate:"Rate",upload:"Upload",cascader:"Cascader",colorPicker:"Color-Picker",timePicker:"Time-Picker",datePicker:"Date-Picker",switch:"i-switch",option:"i-option",select:"i-select",checkbox:"Checkbox",checkboxGroup:"Checkbox-Group",radio:"Radio",radioGroup:"Radio-Group",inputNumber:"Input-Number",input:"i-input",formItem:"Form-Item",form:"i-form",col:"i-col",row:"row",tree:"Tree"};(0,r.default)(c).forEach(function(t){(0,i.default)(void 0,void 0),d.prototype[t]=function(e,n){return this.make(c[t],e,n)}}.bind(void 0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=g(n(107)),r=g(n(117)),o=g(n(118)),u=g(n(119)),a=g(n(123)),s=g(n(124)),l=g(n(125)),f=g(n(126)),d=g(n(127)),c=g(n(130)),h=g(n(66)),p=g(n(131)),v=g(n(132)),y=g(n(133)),m=g(n(134)),_=g(n(135));function g(t){return t&&t.__esModule?t:{default:t}}var b={hidden:i.default,input:r.default,radio:o.default,checkbox:u.default,switch:a.default,select:s.default,datepicker:l.default,timepicker:f.default,inputnumber:d.default,colorpicker:c.default,upload:h.default,cascader:p.default,rate:v.default,slider:y.default,frame:m.default,tree:_.default};e.default=b},function(t,e,n){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(40));e.default=function(t,e,n){return e in t?(0,i.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports={default:n(128),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=y(n(61)),r=y(n(2)),o=y(n(3)),u=y(n(0)),a=y(n(1)),s=y(n(7)),l=y(n(20)),f=y(n(8));e.getFileName=m,e.parseValue=_;var d=y(n(5)),c=y(n(6)),h=n(4),p=n(19),v=n(10);function y(t){return t&&t.__esModule?t:{default:t}}function m(t){var e=(0,h.toString)(t).split("/"),n=e[e.length-1],i=n.indexOf(".");return-1===i?n:n.substr(0,i)}function _(t){return Array.isArray(t)?t:t?[t]:[]}var g=function(t){function e(){return(0,u.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){var t=this.rule.props;t.defaultFileList=[],t.showUploadList=!1,t.uploadType=t.uploadType?t.uploadType:"file","file"===t.uploadType&&void 0===t.handleIcon&&(t.handleIcon=!1),this.parseValue=[],this.rule.value=_(this.rule.value)}},{key:"toParseValue",value:function(t){var e=this,n=_(t);return this.parseValue.splice(0,this.parseValue.length),n.forEach(function(t){return(0,r.default)(this,e),this.push(t)}.bind(this)),this.rule.props.defaultFileList=this.parseValue,this.parseValue}},{key:"mounted",value:function(){(0,l.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"mounted",this).call(this),console.log(this.el),this.changeParseValue(this.el.fileList)}},{key:"push",value:function(t){this.parseValue.push({url:t,name:m(t)})}},{key:"toTrueValue",value:function(t){var e=this;if(!t)return[];var n=t.map(function(t){return(0,r.default)(this,e),t.url}.bind(this)).filter(function(t){return(0,r.default)(this,e),void 0!==t}.bind(this));return this.rule.props.maxLength<=1?n[0]||"":n}},{key:"changeParseValue",value:function(t){this.parseValue=t,this.vm.changeFormData(this.field,t),this.vm.getTrueData(this.field).rule.props.defaultFileList=t}},{key:"watchTrueValue",value:function(t){var n=this,i=!0;this.rule.props.defaultFileList.forEach(function(t){(0,r.default)(this,n),i=i&&(void 0===t.percentage||"finished"===t.status)}.bind(this)),i&&(0,l.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"watchTrueValue",this).call(this,t)}}]),e}(d.default),b=function(t){function e(){return(0,u.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){var t=this,e=this.handler;this.uploadOptions=(0,h.extend)((0,h.extend)({},this.options.upload),this.handler.rule.props),this.issetIcon=this.uploadOptions.allowRemove||this.uploadOptions.handleIcon,this.propsData=this.vData.props(this.uploadOptions).props("onSuccess",function(){return(0,r.default)(this,t),this.onSuccess.apply(this,arguments)}.bind(this)).ref(e.refName).key("fip"+String(e.unique)).get()}},{key:"onSuccess",value:function(t,e,n){var i=this.uploadOptions.onSuccess.call(null,t,e,n);(0,h.isUndef)(i)||(n.push({url:i,name:m(i)}),this.handler.changeParseValue(this.handler.el.fileList),this.sync())}},{key:"defaultOnHandle",value:function(t){var e=this;this.vm.$Modal.remove(),setTimeout(function(){(0,r.default)(this,e),this.vm.$Modal.info({title:"预览",render:function(n){return(0,r.default)(this,e),n("img",{attrs:{src:t},style:"width: 100%",key:"ifmd"+(0,h.uniqueId)()})}.bind(this),showCancel:!0,closable:!0,scrollable:!0})}.bind(this),301)}},{key:"onHandle",value:function(t){var e=this.uploadOptions.onHandle;if(e)return e(t);this.defaultOnHandle(t)}},{key:"parse",value:function(){var t=this,e=this.handler.unique;this.init(),console.log(this.uploadOptions),!0===this.uploadOptions.handleIcon&&(this.uploadOptions.handleIcon="ios-eye-outline");var n=this.vm.cptData[this.handler.field],o=[].concat((0,i.default)(n.map(function(n,i){return(0,r.default)(this,t),void 0===n.status||"finished"===n.status?this.makeUploadView(n.url,""+String(i)+String(e),i):n.showProgress?this.makeProgress(n,""+String(i)+String(e)):void 0}.bind(this))));return o.push(this.makeUploadBtn(e,!this.uploadOptions.maxLength||this.uploadOptions.maxLength>this.vm.cptData[this.handler.field].length)),[this.vNode.make("div",{key:"div4"+String(e),class:{"fc-upload":!0}},o)]}},{key:"makeUploadView",value:function(t,e,n){var i=this;return this.vNode.make("div",{key:"div1"+String(e),class:{"fc-files":!0}},function(){(0,r.default)(this,i);var o=[];return"image"===this.handler.rule.props.uploadType?o.push(this.vNode.make("img",{key:"img"+String(e),attrs:{src:t}})):o.push(this.vNode.icon({key:"file"+String(e),props:{type:p.iviewConfig.fileIcon,size:40}})),this.issetIcon&&o.push(this.makeIcons(t,e,n)),o}.bind(this))}},{key:"makeIcons",value:function(t,e,n){var i=this;return this.vNode.make("div",{key:"div2"+String(e),class:{"fc-upload-cover":!0}},function(){(0,r.default)(this,i);var o=[];return this.uploadOptions.handleIcon&&o.push(this.makeHandleIcon(t,e,n)),!0===this.uploadOptions.allowRemove&&o.push(this.makeRemoveIcon(t,e,n)),o}.bind(this))}},{key:"makeProgress",value:function(t,e){return this.vNode.make("div",{key:"div3"+String(e),class:{"fc-files":!0}},[this.vNode.progress({key:"upp"+String(e),props:{percent:t.percentage,hideInfo:!0}})])}},{key:"makeUploadBtn",value:function(t,e){return this.vNode.upload(this.propsData,!0===e?[this.vNode.make("div",{key:"div5"+String(t),class:{"fc-upload-btn":!0}},[this.vNode.icon({key:"upi"+String(t),props:{type:"file"===this.handler.rule.props.uploadType?p.iviewConfig.fileUpIcon:p.iviewConfig.imgUpIcon,size:20}})])]:[])}},{key:"makeRemoveIcon",value:function(t,e,n){var i=this;return this.vNode.icon({key:"upri"+String(e)+String(n),props:{type:"ios-trash-outline"},nativeOn:{click:function(){(0,r.default)(this,i),this.handler.el.fileList.splice(n,1),this.handler.changeParseValue(this.handler.el.fileList),this.sync(),this.propsData.props.onRemove&&this.propsData.props.onRemove(this.handler.el.fileList)}.bind(this)}})}},{key:"makeHandleIcon",value:function(t,e,n){var i=this;return this.vNode.icon({key:"uphi"+String(e)+String(n),props:{type:(0,h.toString)(this.uploadOptions.handleIcon)},nativeOn:{click:function(){(0,r.default)(this,i),this.onHandle(t)}.bind(this)}})}}]),e}(c.default),k={image:(0,v.creatorTypeFactory)("upload","image","uploadType"),file:(0,v.creatorTypeFactory)("upload","file","uploadType")};e.default={handler:g,render:b,maker:k,name:"upload"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formCreateName=e.$FormCreate=void 0;var i=u(n(2)),r=u(n(49)),o=n(19);function u(t){return t&&t.__esModule?t:{default:t}}var a=function(){return(0,i.default)(void 0,void 0),{name:"FormCreate",render:function(){return this.fComponent.fRender.parse(this.fComponent.vm)},props:{rule:{type:Array,required:!0,default:function(){return(0,i.default)(void 0,void 0),{}}.bind(void 0)},option:{type:Object,default:function(){return(0,i.default)(void 0,void 0),{}}.bind(void 0),required:!1},value:Object},data:o.componentCommon.data,methods:o.componentCommon.methods,created:function(){this.fComponent=new r.default(this.rule,this.option),this.fComponent._type="rule",this.fComponent.init(this)},mounted:function(){var t=this;this.fComponent.mounted(this),this.$f=this.fComponent.fCreateApi,this.$watch("rule",function(e){(0,i.default)(this,t),this.fComponent.reload(e)}.bind(this)),this.init()}}}.bind(void 0);e.$FormCreate=a,e.formCreateName="FormCreate"},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(49));"undefined"!=typeof window&&window.Vue&&window.Vue.use(i.default),t.exports.default=t.exports=i.default},function(t,e,n){var i=n(9),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,n){n(71),t.exports=n(9).Object.keys},function(t,e,n){var i=n(27),r=n(28);n(37)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(32);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(17),r=n(52),o=n(74);t.exports=function(t){return function(e,n,u){var a,s=i(e),l=r(s.length),f=o(u,l);if(t&&n!=n){for(;l>f;)if((a=s[f++])!=a)return!0}else for(;l>f;f++)if((t||f in s)&&s[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var i=n(33),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){n(77);var i=n(9).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(13);i(i.S+i.F*!n(18),"Object",{defineProperty:n(14).f})},function(t,e,n){t.exports={default:n(79),__esModule:!0}},function(t,e,n){n(55),n(84),t.exports=n(44).f("iterator")},function(t,e,n){var i=n(33),r=n(31);t.exports=function(t){return function(e,n){var o,u,a=String(r(e)),s=i(n),l=a.length;return s<0||s>=l?t?"":void 0:(o=a.charCodeAt(s))<55296||o>56319||s+1===l||(u=a.charCodeAt(s+1))<56320||u>57343?t?a.charAt(s):o:t?a.slice(s,s+2):u-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(42),r=n(25),o=n(43),u={};n(21)(u,n(11)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(u,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(14),r=n(22),o=n(28);t.exports=n(18)?Object.defineProperties:function(t,e){r(t);for(var n,u=o(e),a=u.length,s=0;a>s;)i.f(t,n=u[s++],e[n]);return t}},function(t,e,n){var i=n(12).document;t.exports=i&&i.documentElement},function(t,e,n){n(85);for(var i=n(12),r=n(21),o=n(26),u=n(11)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<a.length;s++){var l=a[s],f=i[l],d=f&&f.prototype;d&&!d[u]&&r(d,u,l),o[l]=o.Array}},function(t,e,n){"use strict";var i=n(86),r=n(87),o=n(26),u=n(17);t.exports=n(56)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(89),__esModule:!0}},function(t,e,n){n(90),n(95),n(96),n(97),t.exports=n(9).Symbol},function(t,e,n){"use strict";var i=n(12),r=n(16),o=n(18),u=n(13),a=n(57),s=n(91).KEY,l=n(24),f=n(35),d=n(43),c=n(30),h=n(11),p=n(44),v=n(45),y=n(92),m=n(93),_=n(22),g=n(23),b=n(17),k=n(39),S=n(25),w=n(42),x=n(94),P=n(47),O=n(14),M=n(28),N=P.f,T=O.f,D=x.f,V=i.Symbol,F=i.JSON,j=F&&F.stringify,C=h("_hidden"),E=h("toPrimitive"),A={}.propertyIsEnumerable,I=f("symbol-registry"),R=f("symbols"),$=f("op-symbols"),L=Object.prototype,B="function"==typeof V,q=i.QObject,H=!q||!q.prototype||!q.prototype.findChild,U=o&&l(function(){return 7!=w(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=N(L,e);i&&delete L[e],T(t,e,n),i&&t!==L&&T(L,e,i)}:T,G=function(t){var e=R[t]=w(V.prototype);return e._k=t,e},z=B&&"symbol"==typeof V.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof V},W=function(t,e,n){return t===L&&W($,e,n),_(t),e=k(e,!0),_(n),r(R,e)?(n.enumerable?(r(t,C)&&t[C][e]&&(t[C][e]=!1),n=w(n,{enumerable:S(0,!1)})):(r(t,C)||T(t,C,S(1,{})),t[C][e]=!0),U(t,e,n)):T(t,e,n)},J=function(t,e){_(t);for(var n,i=y(e=b(e)),r=0,o=i.length;o>r;)W(t,n=i[r++],e[n]);return t},K=function(t){var e=A.call(this,t=k(t,!0));return!(this===L&&r(R,t)&&!r($,t))&&(!(e||!r(this,t)||!r(R,t)||r(this,C)&&this[C][t])||e)},Y=function(t,e){if(t=b(t),e=k(e,!0),t!==L||!r(R,e)||r($,e)){var n=N(t,e);return!n||!r(R,e)||r(t,C)&&t[C][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=D(b(t)),i=[],o=0;n.length>o;)r(R,e=n[o++])||e==C||e==s||i.push(e);return i},Z=function(t){for(var e,n=t===L,i=D(n?$:b(t)),o=[],u=0;i.length>u;)!r(R,e=i[u++])||n&&!r(L,e)||o.push(R[e]);return o};B||(a((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(n){this===L&&e.call($,n),r(this,C)&&r(this[C],t)&&(this[C][t]=!1),U(this,t,S(1,n))};return o&&H&&U(L,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),P.f=Y,O.f=W,n(60).f=x.f=Q,n(46).f=K,n(59).f=Z,o&&!n(29)&&a(L,"propertyIsEnumerable",K,!0),p.f=function(t){return G(h(t))}),u(u.G+u.W+u.F*!B,{Symbol:V});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;X.length>tt;)h(X[tt++]);for(var et=M(h.store),nt=0;et.length>nt;)v(et[nt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return r(I,t+="")?I[t]:I[t]=V(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in I)if(I[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),u(u.S+u.F*!B,"Object",{create:function(t,e){return void 0===e?w(t):J(w(t),e)},defineProperty:W,defineProperties:J,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),F&&u(u.S+u.F*(!B||l(function(){var t=V();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(g(e)||void 0!==t)&&!z(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),i[1]=e,j.apply(F,i)}}),V.prototype[E]||n(21)(V.prototype,E,V.prototype.valueOf),d(V,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(t,e,n){var i=n(30)("meta"),r=n(23),o=n(16),u=n(14).f,a=0,s=Object.isExtensible||function(){return!0},l=!n(24)(function(){return s(Object.preventExtensions({}))}),f=function(t){u(t,i,{value:{i:"O"+ ++a,w:{}}})},d=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!s(t))return"F";if(!e)return"E";f(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!s(t))return!0;if(!e)return!1;f(t)}return t[i].w},onFreeze:function(t){return l&&d.NEED&&s(t)&&!o(t,i)&&f(t),t}}},function(t,e,n){var i=n(28),r=n(59),o=n(46);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var u,a=n(t),s=o.f,l=0;a.length>l;)s.call(t,u=a[l++])&&e.push(u);return e}},function(t,e,n){var i=n(32);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(17),r=n(60).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return u.slice()}}(t):r(i(t))}},function(t,e){},function(t,e,n){n(45)("asyncIterator")},function(t,e,n){n(45)("observable")},function(t,e,n){t.exports={default:n(99),__esModule:!0}},function(t,e,n){n(55),n(100),t.exports=n(9).Array.from},function(t,e,n){"use strict";var i=n(38),r=n(13),o=n(27),u=n(101),a=n(102),s=n(52),l=n(103),f=n(104);r(r.S+r.F*!n(106)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,d,c=o(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,m=0,_=f(c);if(y&&(v=i(v,p>2?arguments[2]:void 0,2)),void 0==_||h==Array&&a(_))for(n=new h(e=s(c.length));e>m;m++)l(n,m,y?v(c[m],m):c[m]);else for(d=_.call(c),n=new h;!(r=d.next()).done;m++)l(n,m,y?u(d,v,[r.value,m],!0):r.value);return n.length=m,n}})},function(t,e,n){var i=n(22);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(26),r=n(11)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){"use strict";var i=n(14),r=n(25);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(105),r=n(11)("iterator"),o=n(26);t.exports=n(9).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(32),r=n(11)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(u=i(e))&&"function"==typeof e.callee?"Arguments":u}},function(t,e,n){var i=n(11)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],u=o[i]();u.next=function(){return{done:n=!0}},o[i]=function(){return u},t(o)}catch(t){}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(64)),r=h(n(2)),o=h(n(1)),u=h(n(3)),a=h(n(0)),s=h(n(7)),l=h(n(8)),f=h(n(5)),d=h(n(6)),c=n(10);function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),e}(f.default),v=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,o.default)(e,[{key:"parse",value:function(){return[]}}]),e}(d.default),y=(0,i.default)({},"hidden",function(t,e){return(0,r.default)(void 0,void 0),(0,c.creatorFactory)("hidden")("",t,e)}.bind(void 0));e.default={handler:p,render:v,name:"hidden",maker:y}},function(t,e,n){n(109),t.exports=n(9).Object.getPrototypeOf},function(t,e,n){var i=n(27),r=n(58);n(37)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){t.exports={default:n(111),__esModule:!0}},function(t,e,n){n(112),t.exports=n(9).Object.setPrototypeOf},function(t,e,n){var i=n(13);i(i.S,"Object",{setPrototypeOf:n(113).set})},function(t,e,n){var i=n(23),r=n(22),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(38)(Function.call,n(47).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(115),__esModule:!0}},function(t,e,n){n(116);var i=n(9).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(13);i(i.S,"Object",{create:n(42)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=e.handler=void 0;var i=h(n(2)),r=h(n(3)),o=h(n(0)),u=h(n(1)),a=h(n(7)),s=h(n(8)),l=h(n(5)),f=h(n(6)),d=n(10),c=n(4);function h(t){return t&&t.__esModule?t:{default:t}}var p=e.handler=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"init",value:function(){var t=this.rule.props;t.autosize&&t.autosize.minRows&&(t.rows=t.autosize.minRows||2)}},{key:"toParseValue",value:function(t){return(0,c.toString)(t)}}]),e}(l.default),v=e.render=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){return[this.vNode.input(this.inputProps().get())]}}]),e}(f.default),y=["password","url","email","text"].reduce(function(t,e){return(0,i.default)(void 0,void 0),t[e]=(0,d.creatorTypeFactory)("input",e),t}.bind(void 0),{});y.idate=(0,d.creatorTypeFactory)("input","date"),e.default={render:v,handler:p,name:"input",maker:y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(2)),r=c(n(3)),o=c(n(0)),u=c(n(1)),a=c(n(7)),s=c(n(8)),l=c(n(5)),f=c(n(6)),d=n(4);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"toParseValue",value:function(t){var e=this;return this.rule.options.filter(function(n){return(0,i.default)(this,e),n.value===t}.bind(this)).reduce(function(t,n){return(0,i.default)(this,e),n.label}.bind(this),"")}},{key:"toTrueValue",value:function(t){var e=this;return this.rule.options.filter(function(n){return(0,i.default)(this,e),n.label===t}.bind(this)).reduce(function(t,n){return(0,i.default)(this,e),n.value}.bind(this),"")}}]),e}(l.default),p=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){var t=this,e=this.handler,n=e.unique,r=e.rule.options;return[this.vNode.radioGroup(this.inputProps().get(),function(){return(0,i.default)(this,t),r.map(function(e,r){(0,i.default)(this,t);var o=(0,d.extend)({},e);return delete o.value,this.vNode.radio({props:o,key:"ropt"+String(r)+String(n)})}.bind(this))}.bind(this))]}}]),e}(f.default);e.default={handler:h,render:p,name:"radio"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(2)),r=h(n(3)),o=h(n(0)),u=h(n(1)),a=h(n(7)),s=h(n(20)),l=h(n(8)),f=h(n(5)),d=h(n(6)),c=n(4);function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,u.default)(e,[{key:"toParseValue",value:function(t){var e=this;return t?Array.isArray(t)||(t=[t]):t=[],this.rule.options.filter(function(n){return(0,i.default)(this,e),-1!==t.indexOf(n.value)}.bind(this)).map(function(t){return(0,i.default)(this,e),t.label}.bind(this))}},{key:"toTrueValue",value:function(t){var e=this,n=this.rule.options.filter(function(n){return(0,i.default)(this,e),-1!==t.indexOf(n.label)}.bind(this)).map(function(t){return(0,i.default)(this,e),t.value}.bind(this));return 1===this.rule.options.length?void 0===n[0]?"":n[0]:n}},{key:"watchParseValue",value:function(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"watchParseValue",this).call(this,t),this.render.sync()}}]),e}(f.default),v=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){var t=this,e=this.handler,n=e.unique,r=e.rule.options,o=e.key;return[this.vNode.checkboxGroup(this.inputProps().key(o).get(),function(){return(0,i.default)(this,t),r.map(function(e,r){(0,i.default)(this,t);var o=(0,c.extend)({},e);return delete o.value,this.vNode.checkbox({props:o,key:"copt"+String(r)+String(n)})}.bind(this))}.bind(this))]}}]),e}(d.default);e.default={handler:p,render:v,name:"checkbox"}},function(t,e,n){t.exports={default:n(121),__esModule:!0}},function(t,e,n){n(122);var i=n(9).Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var i=n(17),r=n(47).f;n(37)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(2)),r=d(n(3)),o=d(n(0)),u=d(n(1)),a=d(n(7)),s=d(n(8)),l=d(n(5)),f=d(n(6));function d(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"init",value:function(){void 0===this.rule.slot&&(this.rule.slot={})}}]),e}(l.default),h=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){var t=this,e=this.handler.rule.slot;return this.propsData=this.inputProps().scopedSlots({open:function(){return(0,i.default)(this,t),e.open}.bind(this),close:function(){return(0,i.default)(this,t),e.close}.bind(this)}).get(),[this.vNode.switch(this.propsData)]}}]),e}(f.default);e.default={handler:c,render:h,name:"switch"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(2)),r=c(n(3)),o=c(n(0)),u=c(n(1)),a=c(n(7)),s=c(n(8)),l=c(n(5)),f=c(n(6)),d=n(10);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"toParseValue",value:function(t){var e=Array.isArray(t);return!0===this.rule.props.multiple?!0===e?t:[t]:!0===e?t[0]||"":t}}]),e}(l.default),p=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){var t=this,e=this.handler,n=e.unique,r=e.rule.options;return[this.vNode.select(this.inputProps().get(),function(){return(0,i.default)(this,t),r.map(function(e,r){return(0,i.default)(this,t),this.vNode.option({props:e,key:"sopt"+String(r)+String(n)})}.bind(this))}.bind(this))]}}]),e}(f.default),v={selectMultiple:(0,d.creatorTypeFactory)("select",!0,"multiple"),selectOne:(0,d.creatorTypeFactory)("select",!1,"multiple")};e.default={handler:h,render:p,name:"select",maker:v}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=v(n(2)),r=v(n(3)),o=v(n(0)),u=v(n(1)),a=v(n(7)),s=v(n(20)),l=v(n(8)),f=v(n(5)),d=v(n(6)),c=n(19),h=n(10),p=n(4);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,u.default)(e,[{key:"init",value:function(){var t=this.rule.props;t.type=t.type?(0,p.toString)(t.type).toLowerCase():"date",void 0===t.startDate&&(t.startDate=(0,c.timeStampToDate)(t.startDate))}},{key:"toParseValue",value:function(t){var e=this,n=Array.isArray(t),r=this.rule.props,o=void 0;return o=-1!==["daterange","datetimerange"].indexOf(r.type)?n?t.map(function(t){return(0,i.default)(this,e),t?(0,c.timeStampToDate)(t):""}.bind(this)):["",""]:"date"===r.type&&!0===r.multiple?(0,p.toString)(t):(o=n?t[0]||"":t)?(0,c.timeStampToDate)(o):"",console.log(o,t),o}},{key:"toTrueValue",value:function(){return this.el.publicStringValue}},{key:"mounted",value:function(){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"mounted",this).call(this),this.rule.value=this.el.publicStringValue,this.vm.changeFormData(this.field,this.toParseValue(this.el.publicStringValue))}}]),e}(f.default),m=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){return[this.vNode.datePicker(this.inputProps().key(this.handler.key).get())]}}]),e}(d.default),_=["date","dateRange","dateTime","dateTimeRange","year","month"].reduce(function(t,e){return(0,i.default)(void 0,void 0),t[e]=(0,h.creatorTypeFactory)("datePicker",e.toLowerCase()),t}.bind(void 0),{});e.default={handler:y,render:m,name:"datePicker",maker:_}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=v(n(2)),r=v(n(3)),o=v(n(0)),u=v(n(1)),a=v(n(7)),s=v(n(20)),l=v(n(8));e.getTime=m;var f=v(n(5)),d=v(n(6)),c=n(4),h=n(19),p=n(10);function v(t){return t&&t.__esModule?t:{default:t}}var y="timePicker";function m(t){return(0,c.isDate)(t)?(0,c.dateFormat)("hh:mm:ss",t):t}var _=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,u.default)(e,[{key:"init",value:function(){var t=this.rule.props;t.type||(t.type="time"),void 0===t.confirm&&(t.confirm=!0)}},{key:"toParseValue",value:function(t){var e=this,n=void 0,r=Array.isArray(t);return"timerange"===this.rule.props.type?n=r?t.map(function(t){return(0,i.default)(this,e),t?m((0,h.timeStampToDate)(t)):""}.bind(this)):["",""]:(r&&(t=t[0]),n=t?m((0,h.timeStampToDate)(t)):""),n}},{key:"mounted",value:function(){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"mounted",this).call(this),this.rule.value=this.el.publicStringValue,this.vm.changeFormData(this.field,this.toParseValue(this.el.publicStringValue))}}]),e}(f.default),g=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){return[this.vNode.timePicker(this.inputProps().key(this.handler.key).get())]}}]),e}(d.default),b={time:(0,p.creatorTypeFactory)(y,"time"),timeRange:(0,p.creatorTypeFactory)(y,"timerange")};e.default={handler:_,render:g,maker:b,name:y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(65)),r=c(n(3)),o=c(n(0)),u=c(n(1)),a=c(n(7)),s=c(n(8)),l=c(n(5)),f=c(n(6)),d=n(10);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"toParseValue",value:function(t){console.log(t);var e=parseFloat(t);return(0,i.default)(e)&&(e=0),e}}]),e}(l.default),p=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){return[this.vNode.inputNumber(this.inputProps().get())]}}]),e}(f.default),v={number:(0,d.creatorFactory)("inputNumber")};e.default={handler:h,render:p,name:"inputNumber",maker:v}},function(t,e,n){n(129),t.exports=n(9).Number.isNaN},function(t,e,n){var i=n(13);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(3)),r=c(n(0)),o=c(n(1)),u=c(n(7)),a=c(n(20)),s=c(n(8)),l=c(n(5)),f=c(n(6)),d=n(10);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){return(0,r.default)(this,e),(0,u.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"watchParseValue",value:function(t){(0,a.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"watchParseValue",this).call(this,t),this.render.sync()}}]),e}(l.default),p=function(t){function e(){return(0,r.default)(this,e),(0,u.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"parse",value:function(){return[this.vNode.colorPicker(this.inputProps().key(this.handler.key).get())]}}]),e}(f.default),v={color:(0,d.creatorFactory)("colorPicker")};e.default={handler:h,render:p,name:"colorPicker",maker:v}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(3)),r=d(n(0)),o=d(n(1)),u=d(n(7)),a=d(n(20)),s=d(n(8)),l=d(n(5)),f=d(n(6));function d(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){return(0,r.default)(this,e),(0,u.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"init",value:function(){var t=this.rule;t.props.data||(t.props.data=[]),Array.isArray(this.rule.value)||(this.rule.value=[])}},{key:"toParseValue",value:function(t){return Array.isArray(t)?t:[]}},{key:"mounted",value:function(){(0,a.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"mounted",this).call(this),this.vm.changeFormData(this.field,this.toParseValue(this.el.value))}}]),e}(l.default),h=function(t){function e(){return(0,r.default)(this,e),(0,u.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"parse",value:function(){return[this.vNode.cascader(this.inputProps().get())]}}]),e}(f.default);e.default={handler:c,render:h,name:"cascader"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(65)),r=d(n(3)),o=d(n(0)),u=d(n(1)),a=d(n(7)),s=d(n(8)),l=d(n(5)),f=d(n(6));function d(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"toParseValue",value:function(t){var e=parseFloat(t);return(0,i.default)(e)&&(e=0),e}}]),e}(l.default),h=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){return[this.vNode.rate(this.inputProps().get())]}}]),e}(f.default);e.default={handler:c,render:h,name:"rate"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(3)),r=d(n(0)),o=d(n(1)),u=d(n(7)),a=d(n(8)),s=d(n(5)),l=d(n(6)),f=n(10);function d(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){return(0,r.default)(this,e),(0,u.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,a.default)(e,t),(0,o.default)(e,[{key:"init",value:function(){var t=this.rule;t.props.min=void 0===t.props.min?0:parseFloat(t.props.min)||0}},{key:"toParseValue",value:function(t){var e=this.rule,n=Array.isArray(t),i=e.props,r=i.min;return!0===i.range?n?t:[r,parseFloat(t)||r]:n?parseFloat(t[0])||r:parseFloat(t)}}]),e}(s.default),h=function(t){function e(){return(0,r.default)(this,e),(0,u.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,a.default)(e,t),(0,o.default)(e,[{key:"parse",value:function(){return[this.vNode.slider(this.inputProps().get())]}}]),e}(l.default),p={sliderRange:(0,f.creatorTypeFactory)("slider",!0,"range")};e.default={handler:c,render:h,name:"slider",maker:p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=m(n(15)),r=m(n(2)),o=m(n(3)),u=m(n(0)),a=m(n(1)),s=m(n(7)),l=m(n(20)),f=m(n(8));e.parseRule=_;var d=m(n(5)),c=m(n(6)),h=n(4),p=m(n(66)),v=n(19),y=n(10);function m(t){return t&&t.__esModule?t:{default:t}}function _(t){var e=t.props;e.type||(e.type="input"),e.icon||(e.icon=v.iviewConfig.fileUpIcon),e.width||(e.width="500px"),e.height||(e.height="370px"),void 0===e.spin&&(e.spin=!0),e.title||(e.title="请选择"+t.title),e.maxLength||(e.maxLength=0),e.multiple=1!=e.maxLength,"file"===e.type&&void 0===e.handleIcon?e.handleIcon=!1:e.handleIcon=!0===e.handleIcon||void 0===e.handleIcon?"ios-eye-outline":e.handleIcon,void 0===e.allowRemove&&(e.allowRemove=!0)}var g=function(t){function e(){return(0,u.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){_(this.rule)}},{key:"toParseValue",value:function(t){var e=void 0,n=t,i=Array.isArray(n);return e=""===n?[]:i?n:[n],this.parseValue=e,e}},{key:"toTrueValue",value:function(t){return!0===this.rule.props.multiple?t:void 0===t[0]?"":t[0]}},{key:"watchTrueValue",value:function(t){(0,l.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"watchTrueValue",this).call(this,t),this.render.sync()}},{key:"watchParseValue",value:function(t){(0,l.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"watchParseValue",this).call(this,t),this.parseValue=t,this.render.sync()}}]),e}(d.default),b={onOpen:"on-open",onChange:"on-change",onCancel:"on-cancel",onOk:"on-ok"},k=function(t){function e(){return(0,u.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,a.default)(e,[{key:"init",value:function(){var t=this,e=this.handler.field;this.vm.$watch("cptData."+String(e),function(){(0,r.default)(this,t),this.onChange()}.bind(this),{deep:!0}),this._props=this.handler.rule.props,this.issetIcon=!1!==this._props.handleIcon||!0===this._props.allowRemove}},{key:"parse",value:function(){var t=this._props.type;return"image"===t?this.makeGroup(this.makeImage()):"file"===t?this.makeGroup(this.makeFile()):this.makeInput()}},{key:"makeInput",value:function(t){var e=this,n=this.handler.unique,i=this.inputProps().props({type:"text",value:this.handler.parseValue.toString(),icon:this._props.icon,readonly:!0,clearable:!0}).on("on-click",function(){(0,r.default)(this,e),this.showModel()}.bind(this)).key("ifit"+n).style({display:!0===t?"none":"inline-block"}).get();return[this.vNode.input(i)]}},{key:"makeGroup",value:function(t){var e=this.handler.unique,n=this.handler.field;return[this.vNode.make("div",{key:"ifgp1"+String(e),class:{"fc-upload fc-frame":!0},ref:this.handler.refName,props:{value:this.vm.cptData[n]}},t),this.makeInput(!0)]}},{key:"makeImage",value:function(){var t=this,e=this.handler.unique,n=this.handler.parseValue.map(function(n,i){return(0,r.default)(this,t),this.vNode.make("div",{key:"ifid1"+String(e)+String(i),class:{"fc-files":!0}},[this.vNode.make("img",{key:"ifim"+String(e)+String(i),attrs:{src:n}}),this.makeIcons(n,e,i)])}.bind(this));return n.push(this.makeBtn()),n}},{key:"makeFile",value:function(){var t=this,e=this.handler.unique,n=this.handler.parseValue.map(function(n,i){return(0,r.default)(this,t),this.vNode.make("div",{key:"iffd2"+String(e)+String(i),class:{"fc-files":!0}},[this.vNode.icon({key:"iff"+String(e)+String(i),props:{type:v.iviewConfig.fileIcon,size:40}}),this.makeIcons(n,e,i)])}.bind(this));return n.push(this.makeBtn()),n}},{key:"makeBtn",value:function(){var t=this,e=this.handler.rule.props;if(!(e.maxLength>0&&this.handler.parseValue.length>=e.maxLength)){var n=this.handler.unique;return this.vNode.make("div",{key:"ifbd3"+String(n),class:{"fc-upload-btn":!0},on:{click:function(){(0,r.default)(this,t),this.showModel()}.bind(this)}},[this.vNode.icon({key:"ifbi"+String(n),props:{type:this._props.icon,size:20}})])}}},{key:"makeSpin",value:function(){if(!0===this._props.spin){var t=this.handler.unique;return this.vNode.make("Spin",{props:{fix:!0},key:"ifsp"+t,class:{"fc-spin":!0}},[this.vNode.icon({props:{type:"load-c",size:18},class:{"fc-spin-icon-load":!0},key:"ifspi"+t}),this.vNode.make("div",{domProps:{innerHTML:"加载中..."},key:"ifspd"+t})])}}},{key:"makeIcons",value:function(t,e,n){var i=this;if(!0===this.issetIcon)return this.vNode.make("div",{key:"ifis"+String(e)+String(n),class:{"fc-upload-cover":!0}},function(){(0,r.default)(this,i);var o=[];return!1!==this._props.handleIcon&&o.push(this.makeHandleIcon(t,e,n)),!0===this._props.allowRemove&&o.push(this.makeRemoveIcon(t,e,n)),o}.bind(this))}},{key:"makeRemoveIcon",value:function(t,e,n){var i=this;return this.vNode.icon({key:"ifri"+String(e)+String(n),props:{type:"ios-trash-outline"},nativeOn:{click:function(){(0,r.default)(this,i),!1!==this.onRemove(t)&&(this.handler.parseValue.splice(n,1),this.sync())}.bind(this)}})}},{key:"makeHandleIcon",value:function(t,e,n){var i=this,o=this._props;return this.vNode.icon({key:"ifhi"+String(e)+String(n),props:{type:toString(o.handleIcon)},nativeOn:{click:function(){(0,r.default)(this,i),this.onHandle(t)}.bind(this)}})}},{key:"onRemove",value:function(t){var e=this.handler.rule.event["on-remove"];if(e)return e(t,this.handler.getValue())}},{key:"onHandle",value:function(t){var e=this.handler.rule.event["on-handle"];if(e)return e(t);this.defaultOnHandle(t)}},{key:"showModel",value:function(){var t=this,e=!1!==this.onOpen(),n=this._props,i=n.width,o=n.height,u=n.src,a=n.title;e&&(this.vm.$Modal.remove(),setTimeout(function(){(0,r.default)(this,t),this.vm.$Modal.confirm({title:a,render:function(){return(0,r.default)(this,t),[this.makeSpin(),this.vNode.make("iframe",{attrs:{src:u},style:{height:o,border:"0 none",width:"100%"},on:{load:function(){if((0,r.default)(this,t),!0===this._props.spin){var e=document.getElementsByClassName("fc-spin")[0];e&&e.parentNode.removeChild(e)}}.bind(this)},key:"ifmd"+(0,h.uniqueId)()})]}.bind(this),onOk:function(){return(0,r.default)(this,t),this.onOk()}.bind(this),onCancel:function(){return(0,r.default)(this,t),this.onCancel()}.bind(this),showCancel:!0,closable:!0,scrollable:!0,width:i})}.bind(this),301))}}]),e}(c.default);k.prototype.defaultOnHandle=p.default.render.prototype.defaultOnHandle,(0,i.default)(b).forEach(function(t){(0,r.default)(void 0,void 0),k.prototype[t]=function(){var e=this.handler.rule.event[b[t]];if(e)return e(this.handler.getValue())}}.bind(void 0));var S={frameInputs:["input",0],frameFiles:["file",0],frameImages:["image",0],frameInputOne:["input",1],frameFileOne:["file",1],frameImageOne:["image",1]},w=(0,i.default)(S).reduce(function(t,e){return(0,r.default)(void 0,void 0),t[e]=(0,y.creatorTypeFactory)("frame",function(t){return(0,r.default)(void 0,void 0),t.props({type:S[e][0],maxLength:S[e][1]})}.bind(void 0)),t}.bind(void 0),{});e.default={handler:g,render:k,name:"frame",maker:w}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=v(n(64)),r=v(n(15)),o=v(n(2)),u=v(n(3)),a=v(n(0)),s=v(n(1)),l=v(n(7)),f=v(n(8));e.parseRule=y,e.isMultiple=m;var d=v(n(5)),c=v(n(6)),h=n(4),p=n(10);function v(t){return t&&t.__esModule?t:{default:t}}function y(t){var e=t.props;return void 0===e.data&&(e.data=[]),void 0===e.type&&(e.type="checked"),void 0===e.multiple&&(e.multiple=!1),m(t)&&Array.isArray(t.value)&&(t.value=this.rule.value[0]||""),t.value=(0,h.toArray)(t.value),t}function m(t){return!t.props.multiple&&"selected"===t.props.type}var _=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,s.default)(e,[{key:"init",value:function(){y(this.rule),this._data={},this.data(this.rule.props.data),this._parseValue()}},{key:"_parseValue",value:function(){var t=this;this.rule.value.forEach("selected"===this.rule.props.type?function(e){return(0,o.default)(this,t),this.selected(e)}.bind(this):function(e){return(0,o.default)(this,t),this.checked(e)}.bind(this));var e=[];"selected"===this.rule.props.type?(0,r.default)(this._data).forEach(function(n){(0,o.default)(this,t);var i=this._data[n];!0===i.selected&&e.push(i.id)}.bind(this)):(0,r.default)(this._data).forEach(function(n){(0,o.default)(this,t);var i=this._data[n];!0===i.checked&&e.push(i.id)}.bind(this)),this.rule.value=e}},{key:"toParseValue",value:function(t){return t=(0,h.toArray)(t),this.choose(t),this.parseValue=t,t}},{key:"choose",value:function(t){var e=this,n=this.rule,i=this._data;"selected"===n.props.type?(0,r.default)(i).forEach(function(n){(0,o.default)(this,e),this.vm.$set(i[n],"selected",-1!==t.indexOf(i[n].id))}.bind(this)):(0,r.default)(i).forEach(function(n){(0,o.default)(this,e),this.vm.$set(i[n],"checked",-1!==t.indexOf(i[n].id))}.bind(this))}},{key:"checked",value:function(t){void 0!==this._data[t]&&this.vm.$set(this._data[t],"checked",!0)}},{key:"selected",value:function(t){void 0!==this._data[t]&&this.vm.$set(this._data[t],"selected",!0)}},{key:"toTrueValue",value:function(t){var e=t;return m(this.rule)?e[0]||"":e}},{key:"watchParseValue",value:function(t){this.choose(t)}},{key:"selectedNodeToValue",value:function(t){var e=this,n=[];return t.forEach(function(t){(0,o.default)(this,e),!0===t.selected&&n.push(t.id)}.bind(this)),n}},{key:"checkedNodeToValue",value:function(t){var e=this,n=[];return t.forEach(function(t){(0,o.default)(this,e),!0===t.checked&&n.push(t.id)}.bind(this)),n}},{key:"toValue",value:function(){return"selected"===this.rule.props.type?this.selectedNodeToValue(this.el.getSelectedNodes()):this.checkedNodeToValue(this.el.getCheckedNodes())}},{key:"data",value:function(t){var e=this;t.forEach(function(t){(0,o.default)(this,e),this._data[t.id]=t,void 0!==t.children&&Array.isArray(t.children)&&this.data(t.children)}.bind(this))}}]),e}(d.default),g="on-select-change",b="on-check-change",k=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,s.default)(e,[{key:"parse",value:function(){var t,e=this,n=this.handler,r=n.rule,u=n.refName,a=n.field,s=n.unique,l=this.vData.on(r.event).on((t={},(0,i.default)(t,g,function(t){(0,o.default)(this,e),this.vm.changeFormData(a,this.handler.toValue()),r.event[g]&&r.event[g](t)}.bind(this)),(0,i.default)(t,b,function(t){(0,o.default)(this,e),this.vm.changeFormData(a,this.handler.toValue()),r.event[b]&&r.event[b](t)}.bind(this)),t)).props(r.props).ref(u).key("fip"+String(s)).get(),f=this.inputProps().props({type:"text",value:this.handler.parseValue.toString(),disable:!0}).key("fipit"+s).style({display:"none"}).ref(String(u)+"it").get();return[this.vNode.tree(l),this.vNode.input(f)]}}]),e}(c.default),S={treeSelected:"selected",treeChecked:"checked"},w=(0,r.default)(S).reduce(function(t,e){return(0,o.default)(void 0,void 0),t[e]=(0,p.creatorTypeFactory)("tree",S[e]),t}.bind(void 0),{});e.default={handler:_,render:k,name:"tree",maker:w}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(0)),r=l(n(1)),o=l(n(2));e.getRenders=f,e.preventDefault=d;var u=n(4),a=l(n(62)),s=l(n(48));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n=this;return e.reduce(function(e,i){return(0,o.default)(this,n),e[i]=t[i].render,e}.bind(this),{})}function d(t){t.preventDefault()}var c=function(){function t(e){var n=e.vm,r=e.options,o=e.fieldList,l=e.handlers,d=e.formData,c=e.validate,h=e.fCreateApi;(0,i.default)(this,t),this.vm=n,this.options=r,this.handlers=l,this.renderSort=o,this.renders=f(l,o),this.form={model:d,rules:c,key:"form"+(0,u.uniqueId)()},this.fCreateApi=h,this.vNode=new a.default(n),this.vData=new s.default,this.unique=(0,u.uniqueId)(),this.refName="cForm"+String(this.unique),this.cacheUnique=0}return(0,r.default)(t,[{key:"parse",value:function(t){var e=this;if(this.vNode.setVm(t),t.isShow){console.log("parse----------------"),this.cacheUnique!==t.unique&&(this.renderSort.map(function(t){(0,o.default)(this,e),this.renders[t].clearCache()}.bind(this)),this.cacheUnique=t.unique);var n=this.unique,i=this.vData.props(this.options.form).props(this.form).ref(this.refName).nativeOn({submit:d}).class("form-create",!0).key(n).get(),r=this.renderSort.map(function(t){(0,o.default)(this,e);var i=this.renders[t],r=i.handler,u=r.key;if("hidden"!==r.type)return this.makeFormItem(i.handler,i.cacheParse(),"fItem"+String(u)+String(n))}.bind(this));return r.length>0&&r.push(this.makeFormBtn(n)),this.vNode.form(i,[this.vNode.row({props:this.options.row||{}},r)])}}},{key:"makeFormItem",value:function(t,e,n){var i=t.rule,r=t.unique,o=t.field,u=t.refName,a=this.vData.props({prop:o,label:i.title,labelFor:r,rules:i.validate,labelWidth:i.col.labelWidth,required:i.props.required}).key(n).ref("fItem"+u).get();return this.vNode.col({props:i.col,class:{__fc_h:!0===i.props.hidden,__fc_v:!0===i.props.visibility},key:String(n)+"col"},[this.vNode.formItem(a,e)])}},{key:"makeFormBtn",value:function(t){var e=[],n=!1!==this.vm.buttonProps&&!1!==this.vm.buttonProps.show,i=!1!==this.vm.resetProps&&!1!==this.vm.resetProps.show;return n&&e.push(this.makeSubmitBtn(t,i?19:24)),i&&e.push(this.makeResetBtn(t,4)),this.vNode.col({props:{span:24}},e)}},{key:"makeResetBtn",value:function(t,e){var n=this;return this.vNode.col({props:{span:e,push:1}},[this.vNode.button({key:"frsbtn"+String(t),props:this.vm.resetProps,on:{click:function(){(0,o.default)(this,n),this.fCreateApi.resetFields()}.bind(this)}},[this.vNode.span(this.vm.resetProps.innerText)])])}},{key:"makeSubmitBtn",value:function(t,e){var n=this;return this.vNode.col({props:{span:e}},[this.vNode.button({key:"fbtn"+String(t),props:this.vm.buttonProps,on:{click:function(){(0,o.default)(this,n),this.fCreateApi.submit()}.bind(this)}},[this.vNode.span(this.vm.buttonProps.innerText)])])}},{key:"removeRender",value:function(t){delete this.renders[t],this.renderSort.splice(this.renderSort.indexOf(t),1)}},{key:"setRender",value:function(t,e,n){this.renders[t.field]=t.render,void 0!==e&&this.changeSort(t.field,e,n)}},{key:"changeSort",value:function(t,e,n){var i=this.renderSort.indexOf((0,u.toString)(e));-1!==i?this.renderSort.splice(!1===n?i+1:i,0,t):n?this.renderSort.unshift(t):this.renderSort.push(t)}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2));e.default=function(t){var e=this;return{name:String(r.formCreateName)+"Core",data:o.componentCommon.data,render:function(){return(0,i.default)(this,e),t.fRender.parse(t.vm)}.bind(this),methods:o.componentCommon.methods,created:function(){this.fComponent=t,this.fComponent._type="rules",t.init(this)},mounted:function(){var e=this;t.mounted(this),this.$f=t.fCreateApi,this.init(),this.$watch("rules",function(t){(0,i.default)(this,e),this.fComponent.reload(t)}.bind(this))}}};var r=n(67),o=n(19)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(15)),r=s(n(2)),o=n(10),u=s(n(63)),a=n(4);function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){(0,r.default)(void 0,void 0);var t={};(0,i.default)(u.default).forEach(function(e){(0,r.default)(void 0,void 0);var n=u.default[e],i=(0,a.isUndef)(n.maker);(i||void 0===n.maker[n.name])&&(t[n.name]=(0,o.creatorFactory)(n.name)),i||(0,a.extend)(t,n.maker)}.bind(void 0));var e=(0,o.creatorFactory)("");return(0,a.extend)(t,{create:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tmp"+(0,a.uniqueId)(),n=(0,o.creatorFactory)("")("",e);return n.rule.type=t,n.col({labelWidth:1}),n},createTmp:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tmp"+(0,a.uniqueId)(),r=e("",i);return r.rule.type="__tmp",r.rule.template=t,r.rule._vm=n,r.col({labelWidth:1}),r}}),t}.bind(void 0)();e.default=l}])});