/*! form-create v1.2 | github https://github.com/xaboy/form-create | author xaboy */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var n=r(1),i=function(e,t){return function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=o();return s.type=e,s.title=r,s.field=n,s.value=i,new a(s,t)}},o=function(){return{props:{},event:{},validate:[],options:[],slot:{}}},a=function(e,t){var r=this;this.rule=e,t.forEach(function(e){r[e]=s[e]})},s={};["props","event","slot"].forEach(function(e){s[e]=function(t){return this.rule[e]=Object.assign(this.rule[e],t),this}}),["validate","options"].forEach(function(e){s[e]=function(t){return(0,n.isArray)(t)||(t=[t]),this.rule[e]=this.rule[e].concat(t),this}}),a.prototype.getRule=function(){return this.rule},t.default=i,t.make=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=[].concat,o=Object.assign,a=Object.prototype.toString,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Missing parameter";throw new Error(e)},u=function(e){return"[object Date]"===a.call(e)},l=function(e){return"[object Object]"===a.call(e)},d=function(e){return"[object Function]"===a.call(e)},c=function(e){return"[object String]"===a.call(e)},h=Array.isArray,p=function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e&&1===e.nodeType&&!l(e)},f=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var o=r[i];if((n=h(o))||l(o)){var a=void 0===t[i];n?(n=!1,a&&(t[i]=[])):a&&(t[i]={}),e(t[i],o)}else t[i]=o}return t},v=function(){var e=0;return function(){return e++}}();t.concat=i,t.assign=o,t.toString=a,t.throwIfMissing=s,t.isPlainObject=l,t.isDate=u,t.isFunction=d,t.isString=c,t.isArray=h,t.deepExtend=f,t.isElement=p,t.uniqueId=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handlerFactory=void 0;var n=r(1),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e,t){o.call(this,e,t)};return t.prototype=Object.create(o.prototype),Object.assign(t.prototype,e),t.prototype.constructor=t,t},o=function(e,t){var r=t.field,i=t.type,o=t.title,a=void 0===o?"":o,s=t.options,u=void 0===s?[]:s,l=t.props,d=void 0===l?{}:l,c=t.validate,h=void 0===c?[]:c,p=t.event,f=void 0===p?{}:p,v=t.value,m=void 0===v?"":v,g=t.slot,y=void 0===g?{}:g;r=r.toString(),this.rule={field:r,type:i,title:a,options:u,props:d,slot:y,value:(0,n.deepExtend)(Object.create(null),{value:m}).value,validate:(0,n.isArray)(h)?h:[h],event:Object.keys(f).reduce(function(e,t){return e["on-"+t]=f[t],e},{})},this.vm=e,this.unique=(0,n.uniqueId)(),this.refName=r+""+this.unique,this.el={},this.verify(),this.handle()};o.prototype={handle:function(){this.changeParseValue(this.rule.value)},verify:function(){},getField:function(){return this.rule.field},getValidate:function(){return this.rule.validate},getValue:function(){return this.parseValue},changeValue:function(e){this.rule.value=e,this.handle()},getRule:function(){return this.rule},getParseValue:function(){return this.parseValue},changeParseValue:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vm.changeFormData(this.rule.field,e),this.parseValue=e},mounted:function(){this.el=this.vm.$refs[this.refName]}},t.handlerFactory=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderFactory=void 0;var i=r(5),o=n(i),a=r(6),s=n(a),u=function(e){var t=function(e,t,r){l.call(this,e,t,r)};return t.prototype=Object.create(l.prototype),Object.assign(t.prototype,e),t.prototype.constructor=t,t},l=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.handler=t,this.options=r,this.vm=e,this.cvm=o.default.instance(e.$createElement),this.init()};l.prototype={props:s.default.instance(),init:function(){this.event=this.handler.rule.event},parse:function(){throw new Error("请实现parse方法")},inputProps:function(){var e=this,t=this.handler,r=t.refName,n=t.unique,i=t.rule,o=i.props,a=i.field;return this.props.props(Object.assign(o,{model:"formData."+a,value:this.vm.formData[a],elementId:r})).ref(r).key("fip"+n).on(this.event).on("input",function(t){e.vm.$emit("input",t),e.vm.$set(e.vm.formData,a,t)})}},t.renderFactory=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getMaker=t.timeStampToDate=t.getGlobalApi=t.createHandler=t.formCreateStyle=t.getConfig=t.getComponent=void 0;var i=r(1),o=r(9),a=n(o),s=r(10),u=n(s),l=r(11),d=n(l),c=r(12),h=n(c),p=r(13),f=n(p),v=r(14),m=n(v),g=r(15),y=n(g),k=r(16),b=n(k),_=r(17),P=n(_),O=r(18),w=n(O),F=r(19),S=n(F),j=r(20),x=n(j),D=r(21),M=n(D),V=r(22),E=n(V),I={hidden:S.default,input:f.default,radio:y.default,checkbox:u.default,switch:P.default,select:b.default,datepicker:h.default,timepicker:w.default,inputnumber:m.default,colorpicker:d.default,upload:x.default,cascader:a.default,rate:M.default,slider:E.default},A=function(e){if(void 0===I[e])throw new Error(e+" 表单类型不存在");return I[e]},R=function(e){var t=new e;return{el:null,form:{inline:!1,labelPosition:"right",labelWidth:125,showMessage:!0,autocomplete:"off"},upload:{beforeUpload:function(){},onProgress:function(e,t,r){},onSuccess:function(e,t,r){},onError:function(e,t,r){},onPreview:function(e){},onRemove:function(e,t){},onFormatError:function(e,t){},onExceededSize:function(e,t){},handleIcon:"ios-eye-outline",onHandle:function(e){t.$Modal.info({title:"查看图片",render:function(t){return t("img",{attrs:{src:e},style:"width: 100%"})}})},allowRemove:!0},onSubmit:function(e){},submitBtn:{type:"primary",size:"large",shape:void 0,long:!0,htmlType:"button",disabled:!1,icon:"ios-upload",innerText:"提交",loading:!1}}},C=function(e,t,r){var n=A(t.type),i=new n.handler(e,t);return i.render=new n.render(e,i,r),i},$=function(e){return{formData:function(){var t={};return e.fields().map(function(r){r=r.toString(),t[r]=e.handlers[r].getValue()}),t},getValue:function(t){t=t.toString();var r=e.handlers[t];if(void 0!==r)return r.getValue();console.error(t+" 字段不存在!")},changeField:function(t,r){t=t.toString();var n=e.handlers[t];void 0===n?console.error(t+" 字段不存在!"):(0,i.isFunction)(r)?r(n.getValue(),function(e){n.changeValue(e)}):n.changeValue(r)},removeField:function(t){t=t.toString(),e.removeField(t)},validate:function(t,r){e.getFormRef().validate(function(e){!0===e?t&&t():r&&r()})},validateField:function(t,r){t=t.toString(),e.getFormRef().validateField(t,r)},resetFields:function(){e.getFormRef().resetFields()},destroy:function(){e.vm.$el.remove(),e.vm.$destroy()},fields:function(){return e.fields()},append:function(t,r){e.append(t,r,!1)},prepend:function(t,r){e.append(t,r,!0)},submit:function(t){var r=this;this.validate(function(){var n=r.formData();(0,i.isFunction)(t)?t(n):e.options.onSubmit&&e.options.onSubmit(n)})},submitStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,i.deepExtend)(Object.create(null),t);e.vm.changeButtonProps(r)},btn:{loading:function(){e.vm.changeButtonProps({loading:!0})},finish:function(){e.vm.changeButtonProps({loading:!1})}}}},N=function(e){if((0,i.isDate)(e))return e;var t=new Date(e);return"Invalid Date"===t.toString()?e:t},T=function(){var e=Object.keys(I).reduce(function(e,t){return e[t]=I[t].make,e},{});return e.number=I.inputnumber.make,e.time=I.timepicker.make,e.date=I.datepicker.make,e.color=I.colorpicker.make,e};t.getComponent=A,t.getConfig=R,t.formCreateStyle=".form-create{padding-right:25px;}.fc-upload .fc-files{display: inline-block;width: 58px;height: 58px;text-align: center;line-height: 60px;border: 1px solid transparent;border-radius: 4px;overflow: hidden;background: #fff;position: relative;box-shadow: 0 1px 1px rgba(0,0,0,.2);margin-right: 4px;box-sizing: border-box;} .fc-files>.ivu-icon{transform: translateY(20%);}.fc-upload .fc-files img{width:100%;height:100%;display:block;}.fc-upload .ivu-upload{display: inline-block;}.fc-upload .ivu-upload .fc-upload-btn{ width: 58px;height: 58px;line-height: 58px;}.fc-upload .ivu-upload .fc-upload-btn i{font-size: 20px;}.fc-upload .fc-upload-cover{ display: none; position: absolute; top: 0; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,.6); }.fc-upload .fc-upload-cover i{ color: #fff; font-size: 20px; cursor: pointer; margin: 0 2px; }.fc-upload .fc-files:hover .fc-upload-cover{ display: block; }.fc-upload .ivu-upload-list-file{ display: inline-block;float: left; }.fc-upload .ivu-upload-list{ position: absolute;left: 0; }.fc-upload .ivu-upload-select .fc-upload-btn{ background: #fff;border: 1px dashed #dddee1;border-radius: 4px;text-align: center;cursor: pointer;position: relative;overflow: hidden;transition: border-color .2s ease; }",t.createHandler=C,t.getGlobalApi=$,t.timeStampToDate=N,t.getMaker=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.throwIfMissing)("缺少参数:createElement");this.$h=e},o=null,a=null;i.instance=function(e){return!1==o instanceof i&&(o=new i(e)),o},i.setVm=function(e){a=e},i.clearVm=function(){a=null},i.prototype={form:function(e,t){return this.make("i-form",e,t)},formItem:function(e,t){return this.make("form-Item",e,t)},input:function(e,t){return this.make("i-input",e,t)},inputNumber:function(e,t){return this.make("Input-Number",e,t)},radioGroup:function(e,t){return this.make("Radio-Group",e,t)},radio:function(e,t){return this.make("Radio",e,t)},checkboxGroup:function(e,t){return this.make("Checkbox-Group",e,t)},checkbox:function(e,t){return this.make("Checkbox",e,t)},select:function(e,t){return this.make("i-select",e,t)},option:function(e,t){return this.make("i-option",e,t)},switch:function(e,t){return this.make("i-switch",e,t)},datePicker:function(e,t){return this.make("Date-Picker",e,t)},timePicker:function(e,t){return this.make("Time-Picker",e,t)},colorPicker:function(e,t){return this.make("Color-Picker",e,t)},cascader:function(e,t){return this.make("Cascader",e,t)},upload:function(e,t){return this.make("Upload",e,t)},rate:function(e,t){return this.make("Rate",e,t)},slider:function(e,t){return this.make("Slider",e,t)},span:function(e,t){return this.make("span",e,t)},icon:function(e,t){return this.make("Icon",e,t)},button:function(e,t){return this.make("i-button",e,t)},progress:function(e,t){return this.make("i-progress",e,t)},modal:function(e,t){return this.make("Modal",e,t)},make:function(e,t,r){(0,n.isString)(t)&&(t={domProps:{innerHTML:t}});var i=this.$h(e,t,this.getVNode(r));return null!==a&&(i.context=a),i},getVNode:function(e){return(0,n.isFunction)(e)?e():e}},t.default=i},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(){this._data=this._initData(),this._prev=null},a=null;o.instance=function(){return!1==a instanceof o&&(a=new o),a},o.prototype={_initData:function(){return{class:{},style:{},attrs:{},props:{},domProps:{},on:{},nativeOn:{},directives:[],scopedSlots:{},slot:void 0,key:void 0,ref:void 0}},class:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:classList"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,i.isArray)(t)?t.map(function(t){e._data.class[t.toString()]=!0}):(0,i.isPlainObject)(t)?this._data.class=(0,i.assign)({},this._data.class,t):this._data.class[t.toString()]=void 0===r||r,this},style:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:style"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,i.isPlainObject)(e)?this._data.style=(0,i.assign)({},this._data.style,e):void 0!==t&&(this._data.style[e.toString()]=t),this},attrs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:attrs"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,i.isPlainObject)(e)?this._data.attrs=(0,i.assign)({},this._data.attrs,e):this._data.attrs[e.toString()]=t,this},props:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:props"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,i.isPlainObject)(e)?this._data.props=(0,i.assign)({},this._data.props,e):this._data.props[e.toString()]=t,this},domProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:domProps"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,i.isPlainObject)(e)?this._data.domProps=(0,i.assign)({},this._data.domProps,e):this._data.domProps[e.toString()]=t,this},on:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:onType"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,i.isPlainObject)(e)?this._data.on=(0,i.assign)({},this._data.on,e):this._data.on[e.toString()]=t,this},nativeOn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:onType"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,i.isPlainObject)(e)?this._data.nativeOn=(0,i.assign)({},this._data.nativeOn,e):this._data.nativeOn[e.toString()]=t,this},directives:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:directives");return this._data.directives=i.concat.call.apply(i.concat,n(this._data.directives).concat(n(e))),this},scopedSlots:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:scopedSlot"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,i.isPlainObject)(e)?this._data.scopedSlots=(0,i.assign)({},this._data.scopedSlots,e):this._data.scopedSlots[e.toString()]=t,this},slot:function(e){return this._data.slot=e,this},key:function(e){return this._data.key=e,this},ref:function(e){return this._data.ref=e,this},init:function(){this._data=this._initData()},get:function(){return this._prev=this._data,this.init(),this._prev},getPrev:function(){return this._prev}},t.default=o},function(e,t,r){"use strict";var n=r(8),i=function(e){return e&&e.__esModule?e:{default:e}}(n);"undefined"!=typeof window&&(window.formCreate=i.default,window.Vue&&(window.iview||window.iView)&&window.Vue.use(i.default)),e.exports.default=e.exports=i.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=r(4),a=r(23),s=n(a),u=r(24),l=n(u),d=r(0),c=(0,o.getMaker)(),h=function e(t,r){!this instanceof e&&throwIfMissing("formCreate is a constructor and should be called with the `new` keyword"),this.rules=Array.isArray(t)?t:[],this.handlers={},this.fRender={},this.formData={},this.validate={},this.fieldList=[],r.el=r.el?(0,i.isElement)(r.el)?r.el:document.querySelector(r.el):window.document.body,this.options=r};h.createStyle=function(){if(null===document.getElementById("form-create-style")){var e=document.createElement("style");e.id="form-create-style",e.innerText=o.formCreateStyle,document.getElementsByTagName("head")[0].appendChild(e)}},h.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.createStyle();var r=(0,i.deepExtend)((0,i.deepExtend)(Object.create(null),(0,o.getConfig)(e)),t);e.prototype.$formCreate=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,i.isElement)(n)?{el:n}:n,a=new h(t,(0,i.deepExtend)((0,i.deepExtend)(Object.create(null),r),o));a.create(e);return a.fCreateApi},e.prototype.$formCreate.version="1.2.1",e.prototype.$formCreate.maker=c},h.prototype={checkRule:function(e){return e.type=void 0===e.type?"hidden":e.type.toLowerCase(),e.field||(e.field=""),e},setHandler:function(e){var t=e.rule.field;this.handlers[t]=e,this.formData[t]=e.getParseValue(),this.validate[t]=e.getValidate()},init:function(e){var t=this;this.vm=e,this.rules.forEach(function(e,r){e instanceof d.make&&(t.rules[r]=e.getRule())}),this.rules.filter(function(e){return void 0!==e.field}).forEach(function(e){e=t.checkRule(e);var r=(0,o.createHandler)(t.vm,e,t.options);-1===t.fieldList.indexOf(r.rule.field)?(t.setHandler(r),t.fieldList.push(r.rule.field)):console.error(r.rule.field+" 字段已存在")}),this.fCreateApi=(0,o.getGlobalApi)(this),e.$set(e,"formData",this.formData),e.$set(e,"buttonProps",this.options.submitBtn),this.fRender=new s.default(this)},create:function(e){var t=e.extend(this.component()),r=(new t).$mount();return this.options.el.appendChild(r.$el),r},component:function(){return(0,l.default)(this)},append:function(e,t,r){e instanceof d.make&&(e=e.getRule());var n=(0,i.deepExtend)(Object.create(null),this.checkRule(e)),a=(0,o.createHandler)(this.vm,n,this.options);if(-1!==Object.keys(this.handlers).indexOf(a.rule.field))throw new Error(n.field+"字段已存在");this.fRender.setRender(a,t,r),this.setHandler(a),this.vm.setField(a.rule.field,a.getParseValue()),this.addHandlerWatch(a),this.vm.$nextTick(function(){a.mounted()})},removeField:function(e){if(void 0===this.handlers[e])throw new Error(e+"字段不存在");this.vm.removeFormData(e),delete this.handlers[e],delete this.validate[e],this.fRender.removeRender(e),delete this.formData[e]},addHandlerWatch:function(e){var t=this.vm.$watch("formData."+e.rule.field,function(r,n){void 0!==e?e.changeParseValue(r,!1):t()})},getFormRef:function(){return this.vm.$refs[this.fRender.refName]},fields:function(){return Object.keys(this.formData)}},t.default={install:h.install,default:h,maker:c,version:"1.2.1"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(1),a=r(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=(0,n.handlerFactory)({verify:function(){this.rule.props.data||(this.rule.props.data=[]),(0,o.isArray)(this.rule.value)||(this.rule.value=[])},getValue:function(){return this.el.value}}),l=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.cascader(this.propsData)]}}),d=(0,s.default)("cascader",["props","event","validate"]),c={handler:u,render:l,make:d};t.default=c,t.handler=u,t.render=l,t.make=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(1),a=r(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=(0,n.handlerFactory)({handle:function(){var e=this,t=[];!1===(0,o.isArray)(this.rule.value)&&(this.rule.value=[this.rule.value]),this.rule.value.forEach(function(r){e.rule.options.forEach(function(e){e.value===r&&t.push(e.label)})}),this.changeParseValue(t)},getValue:function(){var e=this,t=[];return this.parseValue.forEach(function(r){e.rule.options.forEach(function(e){e.label===r&&t.push(e.value)})}),t=1===this.rule.options.length?void 0===t[0]?"":t[0]:t}}),l=(0,i.renderFactory)({parse:function(){var e=this;this.propsData=this.inputProps().get();var t=this.handler,r=t.unique,n=t.rule.options;return[this.cvm.checkboxGroup(this.propsData,function(){return n.map(function(t,n){return e.cvm.checkbox({props:t,key:"copt"+n+r})})})]}}),d=(0,s.default)("checkbox",["options","props","event","validate"]),c={handler:u,render:l,make:d};t.default=c,t.handler=u,t.render=l,t.make=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=(0,n.handlerFactory)({}),u=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.colorPicker(this.propsData)]}}),l=(0,a.default)("colorpicker",["props","event","validate"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(1),a=r(4),s=r(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(0,n.handlerFactory)({verify:function(){this.rule.props.type=this.rule.props.type?this.rule.props.type:"date"},handle:function(){var e=this.rule.value;-1!==["daterange","datetimerange"].indexOf(this.rule.props.type)?((0,o.isArray)(e)||(e=["",""]),e=e.map(function(e){return e?(0,a.timeStampToDate)(e):""})):((0,o.isArray)(e)&&(e=e[0]),e=e?(0,a.timeStampToDate)(e):""),this.changeParseValue(e)},getValue:function(){return this.el.publicStringValue}}),d=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.datePicker(this.propsData)]}}),c=(0,u.default)("datepicker",["props","event","validate"]),h={handler:l,render:d,make:c};t.default=h,t.handler=l,t.render=d,t.make=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=(0,n.handlerFactory)({}),u=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.input(this.propsData)]}}),l=(0,a.default)("input",["props","event","validate","slot"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=(0,n.handlerFactory)({handle:function(){var e=parseFloat(this.rule.value);Number.isNaN(e)&&(e=""),this.changeParseValue(e)}}),u=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.inputNumber(this.propsData)]}}),l=(0,a.default)("inputnumber",["props","event","validate"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=(0,n.handlerFactory)({handle:function(){var e=this,t="";this.rule.options.forEach(function(r){r.value===e.rule.value&&(t=r.label)}),this.changeParseValue(t)},getValue:function(){var e=this,t="";return this.rule.options.forEach(function(r){r.label===e.parseValue&&(t=r.value)}),t}}),u=(0,i.renderFactory)({parse:function(){var e=this;this.propsData=this.inputProps().get();var t=this.handler,r=t.unique,n=t.rule.options;return[this.cvm.radioGroup(this.propsData,function(){return n.map(function(t,n){return e.cvm.radio({props:t,key:"ropt"+n+r})})})]}}),l=(0,a.default)("radio",["options","props","event","validate"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(1),a=r(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=(0,n.handlerFactory)({handle:function(){var e=(0,o.isArray)(this.rule.value),t=void 0;t=this.rule.props&&!0===this.rule.props.multiple?!0===e?this.rule.value:[this.rule.value]:!0===e?this.rule.value[0]:this.rule.value,this.changeParseValue(t)}}),l=(0,i.renderFactory)({parse:function(){var e=this;this.propsData=this.inputProps().get();var t=this.handler,r=t.unique,n=t.rule.options;return[this.cvm.select(this.propsData,function(){return n.map(function(t,n){return e.cvm.option({props:t,key:"sopt"+n+r})})})]}}),d=(0,s.default)("select",["options","props","event","validate"]),c={handler:u,render:l,make:d};t.default=c,t.handler=u,t.render=l,t.make=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=(0,n.handlerFactory)({verify:function(){void 0===this.rule.slot&&(this.rule.slot={})}}),u=(0,i.renderFactory)({parse:function(){var e=this.handler.rule.slot;return this.propsData=this.inputProps().scopedSlots({open:function(){return e.open},close:function(){return e.close}}).get(),[this.cvm.switch(this.propsData)]}}),l=(0,a.default)("switch",["slot","props","event","validate"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(1),a=r(4),s=r(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(0,n.handlerFactory)({verify:function(){this.rule.props.type=this.rule.props.type?this.rule.props.type:"time"},handle:function(){var e=this.rule.value;"timerange"===this.rule.props.type?((0,o.isArray)(e)||(e=["",""]),e=e.map(function(e){return e?(0,a.timeStampToDate)(e):""})):((0,o.isArray)(e)&&(e=e[0]),e=e?(0,a.timeStampToDate)(e):""),this.changeParseValue(e)},getValue:function(){return this.el.publicStringValue}}),d=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.timePicker(this.propsData)]}}),c=(0,u.default)("timepicker",["props","event","validate"]),h={handler:l,render:d,make:c};t.default=h,t.handler=l,t.render=d,t.make=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=(0,n.handlerFactory)({}),u=(0,i.renderFactory)({parse:function(){return[]}}),l=function(){var e=(0,a.default)("hidden",[]);return e.bind(e,"")}(),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var i=r(2),o=r(3),a=r(1),s=r(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(0,i.handlerFactory)({verify:function(){this.rule.props.defaultFileList=[],this.rule.props.showUploadList=!1,this.rule.props.uploadType=this.rule.props.uploadType?this.rule.props.uploadType:"file",this.parseValue=[]},handle:function(){var e=this,t=(0,a.isArray)(this.rule.value)?this.rule.value:this.rule.value?[this.rule.value]:[];this.parseValue.splice(0,this.parseValue.length),t.forEach(function(t){return e.push(t)}),this.rule.props.defaultFileList=this.parseValue},mounted:function(){this.el=this.vm.$refs[this.refName],this.changeParseValue(this.el.fileList)},push:function(e){this.parseValue.push({url:e,name:this.getFileName(e)}),this.changeParseValue(this.parseValue)},getValue:function(){var e=this.parseValue.map(function(e){return e.url});return this.rule.props.maxLength<=1?e[0]||"":e},changeParseValue:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vm.changeFormData(this.rule.field,e),this.parseValue=e,this.el.fileList=e},getFileName:function(e){var t=e.split("/"),r=t[t.length-1],n=r.indexOf(".");return-1===n?r:r.substr(0,n)}}),d=["beforeUpload","onProgress","onPreview","onRemove","onFormatError","onExceededSize","onError"],c=(0,o.renderFactory)({init:function(){var e=this;this.uploadOptions=Object.assign(Object.create(null),this.options.upload,this.handler.rule.props),this.issetIcon=this.uploadOptions.allowRemove||this.uploadOptions.handleIcon;var t=d.reduce(function(t,r){return t[r]=function(){for(var t,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];if(e.uploadOptions[r])return(t=e.uploadOptions[r]).call.apply(t,[null].concat(i))},t},{});this.propsData=this.props.props(this.uploadOptions).props("onSuccess",function(t,r,n){var i=e.uploadOptions.onSuccess.call(null,t,r,n);i&&(r.url=i,r.name=e.handler.getFileName(i)),e.handler.changeParseValue(e.handler.el.fileList)}).props(t).ref(this.handler.refName).key("fip"+this.handler.unique).get()},parse:function(){var e=this,t=this.handler,r=t.rule,i=t.unique,o=this.vm.formData[r.field],a=[].concat(n(o.map(function(t,r){return void 0===t.status||"finished"===t.status?e.makeUploadView(t.url,""+r+i,r):t.showProgress?e.makeProgress(t,""+r+i):void 0})));return window.vm=this.vm,a.push(this.makeUploadBtn(i,!this.uploadOptions.maxLength||this.uploadOptions.maxLength>this.vm.formData[r.field].length)),[this.cvm.make("div",{key:"div4"+i,class:{"fc-upload":!0}},a)]},makeUploadView:function(e,t,r){var n=this;return this.cvm.make("div",{key:"div1"+t,class:{"fc-files":!0}},function(){var i=[];return"image"===n.uploadOptions.uploadType?i.push(n.cvm.make("img",{key:"img"+t,attrs:{src:e}})):i.push(n.cvm.icon({key:"file"+t,props:{type:"document-text",size:40}})),n.issetIcon&&i.push(n.makeIcons(e,t,r)),i})},makeIcons:function(e,t,r){var n=this;return this.cvm.make("div",{key:"div2"+t,class:{"fc-upload-cover":!0}},function(){var i=[];return n.uploadOptions.handleIcon&&i.push(n.makeHandleIcon(e,t,r)),!0===n.uploadOptions.allowRemove&&i.push(n.makeRemoveIcon(e,t,r)),i})},makeProgress:function(e,t){return this.cvm.make("div",{key:"div3"+t,class:{"fc-files":!0}},[this.cvm.progress({key:"upp"+t,props:{percent:e.percentage,hideInfo:!0}})])},makeUploadBtn:function(e,t){return this.cvm.upload(this.propsData,!0===t?[this.cvm.make("div",{key:"div5"+e,class:{"fc-upload-btn":!0}},[this.cvm.icon({key:"upi"+e,props:{type:"camera",size:20}})])]:[])},makeRemoveIcon:function(e,t,r){var n=this;return this.cvm.icon({key:"upri"+t,props:{type:"ios-trash-outline"},nativeOn:{click:function(){n.handler.el.fileList.splice(r,1)}}})},makeHandleIcon:function(e,t,r){var n=this;return this.cvm.icon({key:"uphi"+t,props:{type:this.uploadOptions.handleIcon.toString()},nativeOn:{click:function(){n.uploadOptions.onHandle(e)}}})}}),h=(0,u.default)("upload",["props","validate"]),p={handler:l,render:c,make:h};t.default=p,t.handler=l,t.render=c,t.make=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=(0,n.handlerFactory)({handle:function(){var e=parseFloat(this.rule.value);Number.isNaN(e)&&(e=0),this.changeParseValue(e)}}),u=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.rate(this.propsData)]}}),l=(0,a.default)("rate",["props","event","validate"]),d={handler:s,render:u,make:l};t.default=d,t.handler=s,t.render=u,t.make=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make=t.render=t.handler=void 0;var n=r(2),i=r(3),o=r(1),a=r(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=(0,n.handlerFactory)({verify:function(){this.rule.props.min=void 0===this.rule.props.min?0:parseFloat(this.rule.props.min)},handle:function(){var e=(0,o.isArray)(this.rule.value),t=this.rule.props.min,r=void 0;r=!0===this.rule.props.range?e?this.rule.value:[t,parseFloat(this.rule.value)||t]:e?parseFloat(this.rule.value[0])||t:parseFloat(this.rule.value),this.changeParseValue(r)}}),l=(0,i.renderFactory)({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.slider(this.propsData)]}}),d=(0,s.default)("slider",["props","event","validate"]),c={handler:u,render:l,make:d};t.default=c,t.handler=u,t.render=l,t.make=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),o=n(i),a=r(6),s=n(a),u=r(1),l=function(e){var t=e.vm,r=e.options,n=e.fieldList,i=e.handlers,a=e.formData,l=e.validate,d=e.fCreateApi;this.vm=t,this.options=r,this.handlers=i,this.renderSort=n,this.renders=this.renderSort.reduce(function(e,t){return e[t]=i[t].render,e},{}),this.form={model:a,rules:l},this.fCreateApi=d,this.cvm=o.default.instance(t.$createElement),this.props=s.default.instance(),this.unique=(0,u.uniqueId)(),this.refName="cForm"+this.unique};l.prototype={parse:function(e){var t=this;o.default.setVm(e);var r=this.unique,n=this.props.props(Object.assign({},this.options.form,this.form)).ref(this.refName).class("form-create",!0).key(r).get(),i=this.renderSort.map(function(e){var n=t.renders[e],i=n.handler,o=i.key;if("hidden"!==i.rule.type)return t.makeFormItem(n.handler,n.parse(),"fItem"+o+r)});return!1!==this.options.submitBtn&&i.push(this.makeSubmitBtn(r)),this.cvm.form(n,i)},makeFormItem:function(e,t){var r=e.rule,n=e.refName,i=e.unique,o=this.props.props({prop:r.field,label:r.title,labelFor:n,rules:r.validate}).key(i).get();return this.cvm.formItem(o,t)},makeSubmitBtn:function(e){var t=this;return this.cvm.button({key:"fbtn"+e,props:this.vm.buttonProps,on:{click:function(){t.fCreateApi.submit()}}},[this.cvm.span(this.options.submitBtn.innerText)])},removeRender:function(e){delete this.renders[e],this.renderSort.splice(this.renderSort.indexOf(e),1)},setRender:function(e,t,r){this.renders[e.rule.field]=e.render,void 0!==t&&this.changeSort(e.rule.field,t,r)},changeSort:function(e,t,r){var n=this.renderSort.indexOf(t.toString());-1!==n?this.renderSort.splice(!1===r?n+1:n,0,e):r?this.renderSort.unshift(e):this.renderSort.push(e)}},t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return{name:"form-create",data:function(){return{formData:{},buttonProps:{}}},render:function(){return e.fRender.parse(e.vm)},created:function(){e.init(this)},methods:{changeFormData:function(e,t){this.$set(this.formData,e,t)},removeFormData:function(e){this.$delete(this.formData,e)},changeButtonProps:function(e){this.$set(this,"buttonProps",Object.assign(this.buttonProps,e))},setField:function(e,t){this.$set(this.formData,e,t)}},mounted:function(){Object.keys(this.formData).map(function(t){e.addHandlerWatch(e.handlers[t]),e.handlers[t].mounted()})}}};t.default=n}])});