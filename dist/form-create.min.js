/*! formBuilder v1.1.0 | github https://github.com/xaboy/form-builder.git */
!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=[].concat,o=Object.assign,a=Object.prototype.toString,s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Missing parameter";throw new Error(t)},u=function(t){return"[object Date]"===a.call(t)},l=function(t){return"[object Object]"===a.call(t)},c=function(t){return"[object Function]"===a.call(t)},p=function(t){return"[object String]"===a.call(t)},h=Array.isArray,d=function(t){return"object"===(void 0===t?"undefined":i(t))&&null!==t&&1===t.nodeType&&!l(t)},f=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!1;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];if((i=h(o))||l(o)){var a=void 0===e[r];i?(i=!1,a&&(e[r]=[])):a&&(e[r]={}),t(e[r],o)}else e[r]=o}return e};e.concat=r,e.assign=o,e.toString=a,e.throwIfMissing=s,e.isPlainObject=l,e.isDate=u,e.isFunction=c,e.isString=p,e.isArray=h,e.deepExtend=f,e.isElement=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getRender=e.uploadRender=e.colorpickerRender=e.timepickerRender=e.datepickerRender=e.switchRender=e.selectRender=e.checkboxRender=e.radioRender=e.inputnumberRender=e.inputRender=e.hiddenRender=e.formRender=void 0;var o=n(4),a=i(o),s=n(5),u=i(s),l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.handler=e,this.options=n,this.vm=t,this.cvm=a.default.instance(t.$createElement),this.init()};l.prototype={props:u.default.instance(),init:function(){this.event=this.handler.rule.event},parse:function(){throw new Error("请实现parse方法")},inputProps:function(){var t=this,e=this.handler.rule,n=e.props,i=e.field;return this.props.props(Object.assign(n,{model:"formData."+i,value:this.vm.formData[i],elementId:i})).ref(i).on(this.event).on("input",function(e){t.vm.$emit("input",e),t.vm.$set(t.vm.formData,i,e)})}};var c=function(t){var e=function(t,e,n){l.call(this,t,e,n)};return e.prototype=Object.create(l.prototype),Object.assign(e.prototype,t),e.prototype.constructor=e,e},p=c({parse:function(){return[]}}),h=c({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.input(this.propsData)]}}),d=c({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.inputNumber(this.propsData)]}}),f=c({parse:function(){var t=this;this.propsData=this.inputProps().get();var e=this.handler.rule.options;return[this.cvm.radioGroup(this.propsData,function(){return e.map(function(e){return t.cvm.radio({props:e})})})]}}),v=c({parse:function(){var t=this;this.propsData=this.inputProps().get();var e=this.handler.rule.options;return[this.cvm.checkboxGroup(this.propsData,function(){return e.map(function(e){return t.cvm.checkbox({props:e})})})]}}),m=c({parse:function(){var t=this;this.propsData=this.inputProps().get();var e=this.handler.rule.options;return[this.cvm.select(this.propsData,function(){return e.map(function(e){return t.cvm.option({props:e})})})]}}),g=c({parse:function(){var t=this.handler.rule.slot;return this.propsData=this.inputProps().scopedSlots({open:function(){return t.open},close:function(){return t.close}}).get(),[this.cvm.switch(this.propsData)]}}),y=c({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.datePicker(this.propsData)]}}),b=c({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.timePicker(this.propsData)]}}),k=c({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.colorPicker(this.propsData)]}}),P=c({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.cascader(this.propsData)]}}),w=c({init:function(){var t=this,e=this.handler.getField();this.uploadOptions=Object.assign(Object.create(null),this.options.upload,this.handler.rule.props),this.issetIcon=this.uploadOptions.allowRemove||this.uploadOptions.handleIcon,this.propsData=this.props.props(this.uploadOptions).props("onSuccess",function(n,i,r){var o=t.uploadOptions.onSuccess.call(null,n,i,r);setTimeout(function(){t.vm.formData[e].status="normal",o&&t.handler.push(o)},300)}).props("beforeUpload",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.beforeUpload).call.apply(e,[null].concat(i))}).props("onProgress",function(){for(var n,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return t.vm.formData[e].status=r[1],(n=t.uploadOptions.onProgress).call.apply(n,[null].concat(r))}).props("onPreview",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.onPreview).call.apply(e,[null].concat(i))}).props("onRemove",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.onRemove).call.apply(e,[null].concat(i))}).props("onFormatError",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.onFormatError).call.apply(e,[null].concat(i))}).props("onExceededSize",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.onExceededSize).call.apply(e,[null].concat(i))}).props("onError",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.onError).call.apply(e,[null].concat(i))}).ref(e).get()},parse:function(){var t=this,e=this.handler.rule,n=this.vm.formData[e.field],i=[].concat(r(n.files.map(function(e){return t.makeUploadView(e)})));return!0===n.status.showProgress&&i.push(this.makeProgress(n.status)),(!this.uploadOptions.maxLength||this.uploadOptions.maxLength>this.vm.formData[e.field].files.length)&&i.push(this.makeUploadBtn()),[this.cvm.make("div",{class:{"fc-upload":!0}},i)]},makeUploadView:function(t){var e=this;return this.cvm.make("div",{class:{"fc-files":!0}},function(){var n=[];return"image"===e.uploadOptions.uploadType?n.push(e.cvm.make("img",{attrs:{src:t}})):n.push(e.cvm.icon({props:{type:"document-text",size:40}})),e.issetIcon&&n.push(e.makeIcons(t)),n})},makeIcons:function(t){var e=this;return this.cvm.make("div",{class:{"fc-upload-cover":!0}},function(){var n=[];return e.uploadOptions.handleIcon&&n.push(e.makeHandleIcon(t)),!0===e.uploadOptions.allowRemove&&n.push(e.makeRemoveIcon(t)),n})},makeProgress:function(t){return this.cvm.make("div",{class:{"fc-files":!0}},[this.cvm.progress({props:{percent:t.percentage,hideInfo:!0}})])},makeUploadBtn:function(){return this.cvm.upload(this.propsData,[this.cvm.make("div",{class:{"fc-upload-btn":!0}},[this.cvm.icon({props:{type:"camera",size:20}})])])},makeRemoveIcon:function(t){var e=this;return this.cvm.icon({props:{type:"ios-trash-outline"},nativeOn:{click:function(){e.options.upload.onRemove(t,function(){var n=e.handler.getParseValue(),i=n.files;i.splice(i.indexOf(t),1)})}}})},makeHandleIcon:function(t){var e=this;return this.cvm.icon({props:{type:this.uploadOptions.handleIcon.toString()},nativeOn:{click:function(){e.uploadOptions.onHandle(t)}}})}}),O={hidden:p,input:h,radio:f,checkbox:v,switch:g,select:m,datepicker:y,timepicker:b,inputnumber:d,colorpicker:k,upload:w,cascader:P},_=function(t){return O[t]},D=function(t){var e=t.vm,n=t.options,i=t.handlers,r=t.formData,o=t.validate,s=t.fCreateApi;this.vm=e,this.options=n,this.handlers=i,this.renders=Object.keys(i).reduce(function(t,e){return t[e]=i[e].render,t},{}),this.form={model:r,rules:o},this.fCreateApi=s,this.cvm=a.default.instance(e.$createElement),this.props=u.default.instance()};D.prototype={parse:function(){var t=this,e=this.props.props(Object.assign(this.options.form,this.form)).ref("cForm").get();return this.cvm.form(e,function(){var e=Object.keys(t.renders).map(function(e){var n=t.renders[e],i=n.handler.rule,r=i.title;if("hidden"!==i.type)return t.makeFormItem(e,r,n.parse())});return!1!==t.options.submitBtn&&e.push(t.makeSubmitBtn()),e})},makeFormItem:function(t,e,n){var i=this.props.props({prop:t,label:e,labelFor:t}).get();return this.cvm.formItem(i,n)},makeSubmitBtn:function(){var t=this;return this.cvm.button({props:this.vm.buttonProps,on:{click:function(){t.fCreateApi.submit()}}},[this.cvm.span(this.options.submitBtn.innerText)])},remove:function(t){delete this.renders[t]}},e.formRender=D,e.hiddenRender=p,e.inputRender=h,e.inputnumberRender=d,e.radioRender=f,e.checkboxRender=v,e.selectRender=m,e.switchRender=g,e.datepickerRender=y,e.timepickerRender=b,e.colorpickerRender=k,e.uploadRender=w,e.getRender=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=function(t){return t&&t.__esModule?t:{default:t}}(i);"undefined"!=typeof window&&(window.formCreate=r.default,window.Vue&&(window.iview||window.iView)&&window.Vue.use(r.default)),e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(6),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s={el:null,form:{inline:!1,labelPosition:"right",labelWidth:125,showMessage:!0,autocomplete:"off"},upload:{beforeUpload:function(){},onProgress:function(t,e,n){},onSuccess:function(t,e,n){},onError:function(t,e,n){},onPreview:function(t){},onRemove:function(t,e){e()},onFormatError:function(t,e){},onExceededSize:function(t,e){},handleIcon:"ios-eye-outline",onHandle:function(t){},allowRemove:!0},onSubmit:function(t){},submitBtn:{type:"primary",size:"large",shape:void 0,long:!0,htmlType:"button",disabled:!1,icon:"ios-upload",innerText:"提交",loading:!1}},u=function t(e,n){!this instanceof t&&throwIfMissing("formCreateComponent is a constructor and should be called with the `new` keyword"),this.rules=Array.isArray(e)?e:[],this.handlers={},this.fRender={},this.formData={},this.validate={},n.el=n.el?(0,r.isElement)(n.el)?n.el:document.querySelector(n.el):window.document.body,this.options=n};u.createStyle=function(){if(null===document.getElementById("form-create-style")){var t=document.createElement("style");t.id="form-create-style",t.innerText=".fc-upload .fc-files{display: inline-block;width: 58px;height: 58px;text-align: center;line-height: 60px;border: 1px solid transparent;border-radius: 4px;overflow: hidden;background: #fff;position: relative;box-shadow: 0 1px 1px rgba(0,0,0,.2);margin-right: 4px;box-sizing: border-box;} .fc-files>.ivu-icon{transform: translateY(20%);}.fc-upload .fc-files img{width:100%;height:100%;display:block;}.fc-upload .ivu-upload{display: inline-block;}.fc-upload .ivu-upload .fc-upload-btn{ width: 58px;height: 58px;line-height: 58px;}.fc-upload .ivu-upload .fc-upload-btn i{font-size: 20px;}.fc-upload .fc-upload-cover{ display: none; position: absolute; top: 0; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,.6); }.fc-upload .fc-upload-cover i{ color: #fff; font-size: 20px; cursor: pointer; margin: 0 2px; }.fc-upload .fc-files:hover .fc-upload-cover{ display: block; }.fc-upload .ivu-upload-list-file{ display: inline-block;float: left; }.fc-upload .ivu-upload-list{ position: absolute;left: 0; }.fc-upload .ivu-upload-select .fc-upload-btn{ background: #fff;border: 1px dashed #dddee1;border-radius: 4px;text-align: center;cursor: pointer;position: relative;overflow: hidden;transition: border-color .2s ease; }",document.getElementsByTagName("head")[0].appendChild(t)}},u.install=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.createStyle();var n=(0,r.deepExtend)((0,r.deepExtend)(Object.create(null),s),e);t.prototype.$formCreate=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.isElement)(i)&&(i={el:i});var o=new u(e,(0,r.deepExtend)(n,i));return o.mount(t),o.fCreateApi}},u.prototype={init:function(t){var e=this;this.vm=t,this.rules.filter(function(t){return void 0!==t.field}).map(function(t){t.type=void 0===t.type?"input":t.type.toLowerCase();var n=(0,a.default)(e.vm,t,e.options);e.handlers[t.field]=n,e.formData[t.field]=n.getParseValue(),e.validate[t.field]=n.getValidate()}),this.fCreateApi=this.api()},mount:function(t){var e=t.extend(this.component()),n=(new e).$mount();return this.options.el.appendChild(n.$el),n},component:function(){var t=this;return{name:"form-create",data:function(){return{formData:{},buttonProps:{}}},render:function(){return t.fRender.parse()},created:function(){t.init(this),this.$set(this,"formData",t.formData),this.$set(this,"buttonProps",t.options.submitBtn),t.fRender=new i.formRender(t)},methods:{changeFormData:function(t,e){this.$set(this.formData,t,e)},removeFormData:function(t){this.$delete(this.formData,t)},changeButtonProps:function(t){this.$set(this,"buttonProps",Object.assign(this.buttonProps,t))}},mounted:function(){Object.keys(this.formData).map(function(e){var n=t.vm.$watch("formData."+e,function(i,r){void 0!==t.handlers[e]?t.handlers[e].changeParseValue(i,!1):n()})})}}},api:function(){var t=this,e=this;return{formData:function(){var e={};return t.fields().map(function(n){e[n]=t.handlers[n].getValue()||""}),e},getValue:function(e){var n=t.handlers[e];if(void 0!==n)return n.getValue()||"";console.error(e+" 字段不存在!")},changeField:function(e,n){var i=t.handlers[e];void 0===i?console.error(e+" 字段不存在!"):i.changeValue(n)},removeField:function(e){void 0===t.handlers[e]?console.error(e+" 字段不存在!"):(t.vm.removeFormData(e),delete t.handlers[e],delete t.validate[e],t.fRender.remove(e),delete t.formData[e])},validate:function(e,n){t.vm.$refs.cForm.validate(function(t){!0===t?e():n()})},validateField:function(e,n){t.vm.$refs.cForm.validateField(e,n)},resetFields:function(){t.vm.$refs.cForm.resetFields()},remove:function(){t.vm.$el.remove(),t.vm.$destroy()},fields:function(){return t.fields()},submit:function(t){var n=this;this.validate(function(){var i=n.formData();(0,r.isFunction)(t)?t(i):e.options.onSubmit&&e.options.onSubmit(i)})},submitStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.vm.changeButtonProps(e)}}},fields:function(){return Object.keys(this.formData)}},e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:createElement");this.$h=t},o=null;r.instance=function(t){return 0==o instanceof r&&(o=new r(t)),o},r.prototype={form:function(t,e){return this.make("i-form",t,e)},formItem:function(t,e){return this.make("form-Item",t,e)},input:function(t,e){return this.make("i-input",t,e)},inputNumber:function(t,e){return this.make("Input-Number",t,e)},radioGroup:function(t,e){return this.make("Radio-Group",t,e)},radio:function(t,e){return this.make("Radio",t,e)},checkboxGroup:function(t,e){return this.make("Checkbox-Group",t,e)},checkbox:function(t,e){return this.make("Checkbox",t,e)},select:function(t,e){return this.make("i-select",t,e)},option:function(t,e){return this.make("i-option",t,e)},switch:function(t,e){return this.make("i-switch",t,e)},datePicker:function(t,e){return this.make("Date-Picker",t,e)},timePicker:function(t,e){return this.make("Time-Picker",t,e)},colorPicker:function(t,e){return this.make("Color-Picker",t,e)},cascader:function(t,e){return this.make("Cascader",t,e)},upload:function(t,e){return this.make("Upload",t,e)},span:function(t,e){return this.make("span",t,e)},icon:function(t,e){return this.make("Icon",t,e)},button:function(t,e){return this.make("i-button",t,e)},progress:function(t,e){return this.make("i-progress",t,e)},modal:function(t,e){return this.make("Modal",t,e)},make:function(t,e,n){return(0,i.isString)(e)&&(e={domProps:{innerHTML:e}}),this.$h(t,e,this.getVNode(n))},getVNode:function(t){return(0,i.isFunction)(t)?t():t}},e.default=r},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){this._data=this._initData(),this._prev=null},a=null;o.instance=function(){return 0==a instanceof o&&(a=new o),a},o.prototype={_initData:function(){return{class:{},style:{},attrs:{},props:{},domProps:{},on:{},nativeOn:{},directives:[],scopedSlots:{},slot:void 0,key:void 0,ref:void 0}},class:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:classList"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,r.isArray)(e)?e.map(function(e){t._data.class[e.toString()]=!0}):(0,r.isPlainObject)(e)?this._data.class=(0,r.assign)({},this._data.class,e):this._data.class[e.toString()]=void 0===n||n,this},style:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:style"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,r.isPlainObject)(t)?this._data.style=(0,r.assign)({},this._data.style,t):void 0!==e&&(this._data.style[t.toString()]=e),this},attrs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:attrs"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,r.isPlainObject)(t)?this._data.attrs=(0,r.assign)({},this._data.attrs,t):this._data.attrs[t.toString()]=e,this},props:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:props"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,r.isPlainObject)(t)?this._data.props=(0,r.assign)({},this._data.props,t):this._data.props[t.toString()]=e,this},domProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:domProps"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,r.isPlainObject)(t)?this._data.domProps=(0,r.assign)({},this._data.domProps,t):this._data.domProps[t.toString()]=e,this},on:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:onType"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,r.isPlainObject)(t)?this._data.on=(0,r.assign)({},this._data.on,t):this._data.on[t.toString()]=e,this},nativeOn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:onType"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,r.isPlainObject)(t)?this._data.nativeOn=(0,r.assign)({},this._data.nativeOn,t):this._data.nativeOn[t.toString()]=e,this},directives:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:directives");return this._data.directives=r.concat.call.apply(r.concat,i(this._data.directives).concat(i(t))),this},scopedSlots:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:scopedSlot"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,r.isPlainObject)(t)?this._data.scopedSlots=(0,r.assign)({},this._data.scopedSlots,t):this._data.scopedSlots[t.toString()]=e,this},slot:function(t){return this._data.slot=t,this},key:function(t){return this._data.key=t,this},ref:function(t){return this._data.ref=t,this},init:function(){this._data=this._initData()},get:function(){return this._prev=this._data,this.init(),this._prev},getPrev:function(){return this._prev}},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(1),o=function(t,e){var n=e.field,r=e.type,o=e.title,a=void 0===o?"":o,s=e.options,u=void 0===s?[]:s,l=e.props,c=void 0===l?{}:l,p=e.validate,h=void 0===p?[]:p,d=e.event,f=void 0===d?{}:d,v=e.value,m=void 0===v?"":v,g=e.slot,y=void 0===g?{}:g;this.rule={field:n,type:r,title:a,options:u,props:c,slot:y,value:m,validate:(0,i.isArray)(h)?h:[h],event:Object.keys(f).reduce(function(t,e){return t["on-"+e]=f[e],t},{})},this.vm=t,this.verify(),this.handle()};o.prototype={el:function(){return this._el||(this._el=this.vm.$refs[this.rule.field]),this._el||{}},handle:function(){this.changeParseValue(this.rule.value)},verify:function(){},getField:function(){return this.rule.field},getValidate:function(){return this.rule.validate},getValue:function(){return this.parseValue},changeValue:function(t){this.rule.value=t,this.handle()},getRule:function(){return this.rule},getParseValue:function(){return this.parseValue},changeParseValue:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vm.changeFormData(this.rule.field,t),this.parseValue=t}};var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(t,e){o.call(this,t,e)};return e.prototype=Object.create(o.prototype),Object.assign(e.prototype,t),e.prototype.constructor=e,e},s=a(),u=a({handle:function(){var t=this,e=void 0;(0,i.isArray)(this.rule.value)?(e=[],this.rule.value.forEach(function(n){t.rule.options.forEach(function(t){t.value===n&&e.push(t.label)})})):this.rule.options.forEach(function(n){n.value===t.rule.value&&(e=n.label)}),this.changeParseValue(e)},getValue:function(){var t=this,e="";return(0,i.isArray)(this.parseValue)?(e=[],this.parseValue.forEach(function(n){t.rule.options.forEach(function(t){t.label===n&&e.push(t.value)})}),e=1===this.rule.options.length?e[0]||"":e):this.rule.options.forEach(function(n){n.label===t.parseValue&&(e=n.value)}),e}}),l=a({handle:function(){var t=this.rule.props&&!0===this.rule.props.multiple&&!(0,i.isArray)(this.rule.value)?[this.rule.value]:this.rule.value;this.changeParseValue(t)}}),c=a({verify:function(){this.rule.props.type=this.rule.props.type?this.rule.props.type:"datepicker"===this.rule.type?"date":"time"},handle:function(){var t=this,e=this.rule.value;-1!==["daterange","datetimerange","timerange"].indexOf(this.rule.props.type)?((0,i.isArray)(e)||(e=["",""]),e=e.map(function(e){return e?t.timeStampToDate(e):""})):((0,i.isArray)(e)&&(e=e[0]),e=e?this.timeStampToDate(e):""),this.changeParseValue(e)},getValue:function(){return this.el().publicStringValue},timeStampToDate:function(t){if((0,i.isDate)(t))return t;var e=new Date(t);return"Invalid Date"===e.toString()?t:e},dateToTimeStamp:function(t){var e=Date.parse(t);return Number.isNaN(e)?t:e}}),p=a({handle:function(){var t=parseFloat(this.rule.value);Number.isNaN(t)&&(t=""),this.changeParseValue(t)}}),h=a({verify:function(){this.rule.props.defaultFileList=[],this.rule.props.showUploadList=!1,this.rule.props.uploadType=this.rule.props.uploadType?this.rule.props.uploadType:"file"},handle:function(){var t=(0,i.isArray)(this.rule.value)?this.rule.value:this.rule.value?[this.rule.value]:[];this.changeParseValue({files:t,status:"normal"})},push:function(t){this.parseValue.files.push(t),this.changeParseValue(this.parseValue)},getValue:function(){return this.rule.props.maxLength<=1?this.parseValue.files[0]||"":this.parseValue.files}}),d=a({verify:function(){void 0===this.rule.slot&&(this.rule.slot={})}}),f=a({verify:function(){this.rule.props.data||(this.rule.props.data=[]),(0,i.isArray)(this.rule.value)||(this.rule.value=[])},getValue:function(){return this.el().value}}),v={hidden:s,input:s,radio:u,checkbox:u,switch:d,select:l,datepicker:c,timepicker:c,inputnumber:p,colorpicker:s,upload:h,cascader:f},m=function(t,e,n){var i=v[e.type],o=(0,r.getRender)(e.type);if(void 0===i||void 0===o)throw new Error(e.type+" 表单类型不存在");var a=new i(t,e);return a.render=new o(t,a,n),a};e.default=m}]);