/*! form-create v1.1 | github https://github.com/xaboy/form-builder.git */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=[].concat,o=Object.assign,s=Object.prototype.toString,a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Missing parameter";throw new Error(t)},u=function(t){return"[object Date]"===s.call(t)},l=function(t){return"[object Object]"===s.call(t)},c=function(t){return"[object Function]"===s.call(t)},p=function(t){return"[object String]"===s.call(t)},d=Array.isArray,h=function(t){return"object"===(void 0===t?"undefined":i(t))&&null!==t&&1===t.nodeType&&!l(t)},f=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!1;for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];if((i=d(o))||l(o)){var s=void 0===e[r];i?(i=!1,s&&(e[r]=[])):s&&(e[r]={}),t(e[r],o)}else e[r]=o}return e},v=function(){var t=0;return function(){return t++}}();e.concat=r,e.assign=o,e.toString=s,e.throwIfMissing=a,e.isPlainObject=l,e.isDate=u,e.isFunction=c,e.isString=p,e.isArray=d,e.deepExtend=f,e.isElement=h,e.uniqueId=v},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getRender=e.uploadRender=e.colorpickerRender=e.timepickerRender=e.datepickerRender=e.switchRender=e.selectRender=e.checkboxRender=e.radioRender=e.inputnumberRender=e.inputRender=e.hiddenRender=e.formRender=void 0;var o=n(2),s=i(o),a=n(5),u=i(a),l=n(0),c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.handler=e,this.options=n,this.vm=t,this.cvm=s.default.instance(t.$createElement),this.init()};c.prototype={props:u.default.instance(),init:function(){this.event=this.handler.rule.event},parse:function(){throw new Error("请实现parse方法")},inputProps:function(){var t=this,e=this.handler,n=e.refName,i=e.unique,r=e.rule,o=r.props,s=r.field;return this.props.props(Object.assign(o,{model:"formData."+s,value:this.vm.formData[s],elementId:n})).ref(n).key("fip"+i).on(this.event).on("input",function(e){t.vm.$emit("input",e),t.vm.$set(t.vm.formData,s,e)})}};var p=function(t){var e=function(t,e,n){c.call(this,t,e,n)};return e.prototype=Object.create(c.prototype),Object.assign(e.prototype,t),e.prototype.constructor=e,e},d=p({parse:function(){return[]}}),h=p({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.input(this.propsData)]}}),f=p({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.inputNumber(this.propsData)]}}),v=p({parse:function(){var t=this;this.propsData=this.inputProps().get();var e=this.handler,n=e.unique,i=e.rule.options;return[this.cvm.radioGroup(this.propsData,function(){return i.map(function(e,i){return t.cvm.radio({props:e,key:"ropt"+i+n})})})]}}),m=p({parse:function(){var t=this;this.propsData=this.inputProps().get();var e=this.handler,n=e.unique,i=e.rule.options;return[this.cvm.checkboxGroup(this.propsData,function(){return i.map(function(e,i){return t.cvm.checkbox({props:e,key:"copt"+i+n})})})]}}),g=p({parse:function(){var t=this;this.propsData=this.inputProps().get();var e=this.handler,n=e.unique,i=e.rule.options;return[this.cvm.select(this.propsData,function(){return i.map(function(e,i){return t.cvm.option({props:e,key:"sopt"+i+n})})})]}}),y=p({parse:function(){var t=this.handler.rule.slot;return this.propsData=this.inputProps().scopedSlots({open:function(){return t.open},close:function(){return t.close}}).get(),[this.cvm.switch(this.propsData)]}}),b=p({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.datePicker(this.propsData)]}}),k=p({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.timePicker(this.propsData)]}}),w=p({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.colorPicker(this.propsData)]}}),P=p({parse:function(){return this.propsData=this.inputProps().get(),[this.cvm.cascader(this.propsData)]}}),O=p({init:function(){var t=this,e=this.handler.getField();this.uploadOptions=Object.assign(Object.create(null),this.options.upload,this.handler.rule.props),this.issetIcon=this.uploadOptions.allowRemove||this.uploadOptions.handleIcon,this.propsData=this.props.props(this.uploadOptions).props("onSuccess",function(n,i,r){var o=t.uploadOptions.onSuccess.call(null,n,i,r);setTimeout(function(){t.vm.formData[e].status="normal",o&&t.handler.push(o)},300)}).props("beforeUpload",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.beforeUpload).call.apply(e,[null].concat(i))}).props("onProgress",function(){for(var n,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return t.vm.formData[e].status=r[1],(n=t.uploadOptions.onProgress).call.apply(n,[null].concat(r))}).props("onPreview",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.onPreview).call.apply(e,[null].concat(i))}).props("onRemove",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.onRemove).call.apply(e,[null].concat(i))}).props("onFormatError",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.onFormatError).call.apply(e,[null].concat(i))}).props("onExceededSize",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.onExceededSize).call.apply(e,[null].concat(i))}).props("onError",function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.uploadOptions.onError).call.apply(e,[null].concat(i))}).ref(this.handler.refName).key("fip"+this.handler.unique).get()},parse:function(){var t=this,e=this.handler,n=e.rule,i=e.unique,o=this.vm.formData[n.field],s=[].concat(r(o.files.map(function(e,n){return t.makeUploadView(e,""+n+i)})));return!0===o.status.showProgress&&s.push(this.makeProgress(o.status,i)),(!this.uploadOptions.maxLength||this.uploadOptions.maxLength>this.vm.formData[n.field].files.length)&&s.push(this.makeUploadBtn(i)),[this.cvm.make("div",{key:"div4"+i,class:{"fc-upload":!0}},s)]},makeUploadView:function(t,e){var n=this;return this.cvm.make("div",{key:"div1"+e,class:{"fc-files":!0}},function(){var i=[];return"image"===n.uploadOptions.uploadType?i.push(n.cvm.make("img",{key:"img"+e,attrs:{src:t}})):i.push(n.cvm.icon({key:"file"+e,props:{type:"document-text",size:40}})),n.issetIcon&&i.push(n.makeIcons(t,e)),i})},makeIcons:function(t,e){var n=this;return this.cvm.make("div",{key:"div2"+e,class:{"fc-upload-cover":!0}},function(){var i=[];return n.uploadOptions.handleIcon&&i.push(n.makeHandleIcon(t,e)),!0===n.uploadOptions.allowRemove&&i.push(n.makeRemoveIcon(t,e)),i})},makeProgress:function(t,e){return this.cvm.make("div",{key:"div3"+e,class:{"fc-files":!0}},[this.cvm.progress({key:"upp"+e,props:{percent:t.percentage,hideInfo:!0}})])},makeUploadBtn:function(t){return this.cvm.upload(this.propsData,[this.cvm.make("div",{key:"div5"+t,class:{"fc-upload-btn":!0}},[this.cvm.icon({key:"upi"+t,props:{type:"camera",size:20}})])])},makeRemoveIcon:function(t,e){var n=this;return this.cvm.icon({key:"upri"+e,props:{type:"ios-trash-outline"},nativeOn:{click:function(){var e=n.handler.getParseValue(),i=e.files;i.splice(i.indexOf(t),1)}}})},makeHandleIcon:function(t,e){var n=this;return this.cvm.icon({key:"uphi"+e,props:{type:this.uploadOptions.handleIcon.toString()},nativeOn:{click:function(){n.uploadOptions.onHandle(t)}}})}}),x={hidden:d,input:h,radio:v,checkbox:m,switch:y,select:g,datepicker:b,timepicker:k,inputnumber:f,colorpicker:w,upload:O,cascader:P},S=function(t){return x[t]},_=function(t){var e=t.vm,n=t.options,i=t.fieldList,r=t.handlers,o=t.formData,a=t.validate,c=t.fCreateApi;this.vm=e,this.options=n,this.handlers=r,this.renderSort=i,this.renders=this.renderSort.reduce(function(t,e){return t[e]=r[e].render,t},{}),this.form={model:o,rules:a},this.fCreateApi=c,this.cvm=s.default.instance(e.$createElement),this.props=u.default.instance(),this.unique=(0,l.uniqueId)(),this.refName="cForm"+this.unique};_.prototype={parse:function(){var t=this,e=this.unique,n=this.props.props(Object.assign({},this.options.form,this.form)).ref(this.refName).key(e).get(),i=this.renderSort.map(function(n){var i=t.renders[n],r=i.handler,o=r.key;if("hidden"!==r.rule.type)return t.makeFormItem(i.handler,i.parse(),"fItem"+o+e)});return!1!==this.options.submitBtn&&i.push(this.makeSubmitBtn(e)),this.cvm.form(n,i)},makeFormItem:function(t,e){var n=t.rule,i=t.refName,r=t.unique,o=this.props.props({prop:n.field,label:n.title,labelFor:i,rules:n.validate}).key(r).get();return this.cvm.formItem(o,e)},makeSubmitBtn:function(t){var e=this;return this.cvm.button({key:"fbtn"+t,props:this.vm.buttonProps,on:{click:function(){e.fCreateApi.submit()}}},[this.cvm.span(this.options.submitBtn.innerText)])},removeRender:function(t){delete this.renders[t],this.renderSort.splice(this.renderSort.indexOf(t),1)},setRender:function(t,e,n){this.renders[t.rule.field]=t.render,void 0!==e&&this.changeSort(t.rule.field,e,n)},changeSort:function(t,e,n){var i=this.renderSort.indexOf(e.toString());-1!==i?this.renderSort.splice(!1===n?i+1:i,0,t):n?this.renderSort.unshift(t):this.renderSort.push(t)}},e.formRender=_,e.hiddenRender=d,e.inputRender=h,e.inputnumberRender=f,e.radioRender=v,e.checkboxRender=m,e.selectRender=g,e.switchRender=y,e.datepickerRender=b,e.timepickerRender=k,e.colorpickerRender=w,e.uploadRender=O,e.getRender=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.throwIfMissing)("缺少参数:createElement");this.$h=t},o=null,s=null;r.instance=function(t){return!1==o instanceof r&&(o=new r(t)),o},r.setVm=function(t){s=t},r.clearVm=function(){s=null},r.prototype={form:function(t,e){return this.make("i-form",t,e)},formItem:function(t,e){return this.make("form-Item",t,e)},input:function(t,e){return this.make("i-input",t,e)},inputNumber:function(t,e){return this.make("Input-Number",t,e)},radioGroup:function(t,e){return this.make("Radio-Group",t,e)},radio:function(t,e){return this.make("Radio",t,e)},checkboxGroup:function(t,e){return this.make("Checkbox-Group",t,e)},checkbox:function(t,e){return this.make("Checkbox",t,e)},select:function(t,e){return this.make("i-select",t,e)},option:function(t,e){return this.make("i-option",t,e)},switch:function(t,e){return this.make("i-switch",t,e)},datePicker:function(t,e){return this.make("Date-Picker",t,e)},timePicker:function(t,e){return this.make("Time-Picker",t,e)},colorPicker:function(t,e){return this.make("Color-Picker",t,e)},cascader:function(t,e){return this.make("Cascader",t,e)},upload:function(t,e){return this.make("Upload",t,e)},span:function(t,e){return this.make("span",t,e)},icon:function(t,e){return this.make("Icon",t,e)},button:function(t,e){return this.make("i-button",t,e)},progress:function(t,e){return this.make("i-progress",t,e)},modal:function(t,e){return this.make("Modal",t,e)},make:function(t,e,n){(0,i.isString)(e)&&(e={domProps:{innerHTML:e}});var r=this.$h(t,e,this.getVNode(n));return null!==s&&(r.context=s),r},getVNode:function(t){return(0,i.isFunction)(t)?t():t}},e.default=r},function(t,e,n){"use strict";var i=n(4),r=function(t){return t&&t.__esModule?t:{default:t}}(i);"undefined"!=typeof window&&(window.formCreate=r.default,window.Vue&&(window.iview||window.iView)&&window.Vue.use(r.default)),t.exports.default=t.exports=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0),s=n(6),a=i(s),u=n(2),l=i(u),c={el:null,form:{inline:!1,labelPosition:"right",labelWidth:125,showMessage:!0,autocomplete:"off"},upload:{beforeUpload:function(){},onProgress:function(t,e,n){},onSuccess:function(t,e,n){},onError:function(t,e,n){},onPreview:function(t){},onRemove:function(t,e){},onFormatError:function(t,e){},onExceededSize:function(t,e){},handleIcon:"ios-eye-outline",onHandle:function(t){p.$Modal.info({title:"查看图片",render:function(e){return e("img",{attrs:{src:t},style:"width: 100%"})}})},allowRemove:!0},onSubmit:function(t){},submitBtn:{type:"primary",size:"large",shape:void 0,long:!0,htmlType:"button",disabled:!1,icon:"ios-upload",innerText:"提交",loading:!1}},p=void 0,d=function t(e,n){!this instanceof t&&throwIfMissing("formCreateComponent is a constructor and should be called with the `new` keyword"),this.rules=Array.isArray(e)?e:[],this.handlers={},this.fRender={},this.formData={},this.validate={},this.fieldList=[],n.el=n.el?(0,o.isElement)(n.el)?n.el:document.querySelector(n.el):window.document.body,this.options=n};d.createStyle=function(){if(null===document.getElementById("form-create-style")){var t=document.createElement("style");t.id="form-create-style",t.innerText=".fc-upload .fc-files{display: inline-block;width: 58px;height: 58px;text-align: center;line-height: 60px;border: 1px solid transparent;border-radius: 4px;overflow: hidden;background: #fff;position: relative;box-shadow: 0 1px 1px rgba(0,0,0,.2);margin-right: 4px;box-sizing: border-box;} .fc-files>.ivu-icon{transform: translateY(20%);}.fc-upload .fc-files img{width:100%;height:100%;display:block;}.fc-upload .ivu-upload{display: inline-block;}.fc-upload .ivu-upload .fc-upload-btn{ width: 58px;height: 58px;line-height: 58px;}.fc-upload .ivu-upload .fc-upload-btn i{font-size: 20px;}.fc-upload .fc-upload-cover{ display: none; position: absolute; top: 0; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,.6); }.fc-upload .fc-upload-cover i{ color: #fff; font-size: 20px; cursor: pointer; margin: 0 2px; }.fc-upload .fc-files:hover .fc-upload-cover{ display: block; }.fc-upload .ivu-upload-list-file{ display: inline-block;float: left; }.fc-upload .ivu-upload-list{ position: absolute;left: 0; }.fc-upload .ivu-upload-select .fc-upload-btn{ background: #fff;border: 1px dashed #dddee1;border-radius: 4px;text-align: center;cursor: pointer;position: relative;overflow: hidden;transition: border-color .2s ease; }",document.getElementsByTagName("head")[0].appendChild(t)}},d.install=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p=new t,d.createStyle();var n=(0,o.deepExtend)((0,o.deepExtend)(Object.create(null),c),e);t.prototype.$formCreate=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.isElement)(i)&&(i={el:i});var r=new d(e,(0,o.deepExtend)((0,o.deepExtend)(Object.create(null),n),i));r.mount(t);return r.fCreateApi},t.prototype.$formCreate.version="1.1.5"},d.prototype={checkRule:function(t){return t.type=void 0===t.type?"input":t.type.toLowerCase(),t.field||(t.field=""),t},setHandler:function(t){var e=t.rule.field;this.handlers[e]=t,this.formData[e]=t.getParseValue(),this.validate[e]=t.getValidate()},init:function(t){var e=this;this.vm=t,this.rules.filter(function(t){return void 0!==t.field}).map(function(t){t=e.checkRule(t);var n=(0,a.default)(e.vm,t,e.options);e.setHandler(n),e.fieldList.push(n.rule.field)}),this.fCreateApi=this.api()},mount:function(t){var e=t.extend(this.component()),n=(new e).$mount();return this.options.el.appendChild(n.$el),n},component:function(){var t=this;return{name:"form-create",data:function(){return{formData:{},buttonProps:{}}},render:function(){return l.default.setVm(t.vm),t.fRender.parse()},created:function(){t.init(this),this.$set(this,"formData",t.formData),this.$set(this,"buttonProps",t.options.submitBtn),t.fRender=new r.formRender(t)},methods:{changeFormData:function(t,e){this.$set(this.formData,t,e)},removeFormData:function(t){this.$delete(this.formData,t)},changeButtonProps:function(t){this.$set(this,"buttonProps",Object.assign(this.buttonProps,t))},setField:function(t,e){this.$set(this.formData,t,e)}},mounted:function(){Object.keys(this.formData).map(function(e){t.addHandlerWatch(t.handlers[e])})}}},append:function(t,e,n){var i=(0,o.deepExtend)(Object.create(null),this.checkRule(t)),r=(0,a.default)(this.vm,i,this.options);if(-1!==Object.keys(this.handlers).indexOf(r.rule.field))throw new Error(i.field+"字段已存在");this.fRender.setRender(r,e,n),this.setHandler(r),this.vm.setField(r.rule.field,r.getParseValue()),this.addHandlerWatch(r)},removeField:function(t){if(void 0===this.handlers[t])throw new Error(t+"字段不存在");this.vm.removeFormData(t),delete this.handlers[t],delete this.validate[t],this.fRender.removeRender(t),delete this.formData[t]},addHandlerWatch:function(t){var e=this.vm.$watch("formData."+t.rule.field,function(n,i){void 0!==t?t.changeParseValue(n,!1):e()})},getFormRef:function(){return this.vm.$refs[this.fRender.refName]},api:function(){var t=this,e=this;return{formData:function(){var e={};return t.fields().map(function(n){n=n.toString(),e[n]=t.handlers[n].getValue()}),e},getValue:function(e){e=e.toString();var n=t.handlers[e];if(void 0!==n)return n.getValue();console.error(e+" 字段不存在!")},changeField:function(e,n){e=e.toString();var i=t.handlers[e];void 0===i?console.error(e+" 字段不存在!"):i.changeValue(n)},removeField:function(t){t=t.toString(),e.removeField(t)},validate:function(t,n){e.getFormRef().validate(function(e){!0===e?t&&t():n&&n()})},validateField:function(t,n){t=t.toString(),e.getFormRef().validateField(t,n)},resetFields:function(){e.getFormRef().resetFields()},destroy:function(){t.vm.$el.remove(),t.vm.$destroy()},fields:function(){return t.fields()},append:function(t,n){e.append(t,n,!1)},prepend:function(t,n){e.append(t,n,!0)},submit:function(t){var n=this;this.validate(function(){var i=n.formData();(0,o.isFunction)(t)?t(i):e.options.onSubmit&&e.options.onSubmit(i)})},submitStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,o.deepExtend)(Object.create(null),e);t.vm.changeButtonProps(n)},btn:{loading:function(){t.vm.changeButtonProps({loading:!0})},finish:function(){t.vm.changeButtonProps({loading:!1})}}}},fields:function(){return Object.keys(this.formData)}},e.default={install:d.install,default:d}},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){this._data=this._initData(),this._prev=null},s=null;o.instance=function(){return!1==s instanceof o&&(s=new o),s},o.prototype={_initData:function(){return{class:{},style:{},attrs:{},props:{},domProps:{},on:{},nativeOn:{},directives:[],scopedSlots:{},slot:void 0,key:void 0,ref:void 0}},class:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:classList"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,r.isArray)(e)?e.map(function(e){t._data.class[e.toString()]=!0}):(0,r.isPlainObject)(e)?this._data.class=(0,r.assign)({},this._data.class,e):this._data.class[e.toString()]=void 0===n||n,this},style:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:style"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,r.isPlainObject)(t)?this._data.style=(0,r.assign)({},this._data.style,t):void 0!==e&&(this._data.style[t.toString()]=e),this},attrs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:attrs"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,r.isPlainObject)(t)?this._data.attrs=(0,r.assign)({},this._data.attrs,t):this._data.attrs[t.toString()]=e,this},props:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:props"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,r.isPlainObject)(t)?this._data.props=(0,r.assign)({},this._data.props,t):this._data.props[t.toString()]=e,this},domProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:domProps"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,r.isPlainObject)(t)?this._data.domProps=(0,r.assign)({},this._data.domProps,t):this._data.domProps[t.toString()]=e,this},on:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:onType"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,r.isPlainObject)(t)?this._data.on=(0,r.assign)({},this._data.on,t):this._data.on[t.toString()]=e,this},nativeOn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:onType"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,r.isPlainObject)(t)?this._data.nativeOn=(0,r.assign)({},this._data.nativeOn,t):this._data.nativeOn[t.toString()]=e,this},directives:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:directives");return this._data.directives=r.concat.call.apply(r.concat,i(this._data.directives).concat(i(t))),this},scopedSlots:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.throwIfMissing)("缺少参数:scopedSlot"),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return(0,r.isPlainObject)(t)?this._data.scopedSlots=(0,r.assign)({},this._data.scopedSlots,t):this._data.scopedSlots[t.toString()]=e,this},slot:function(t){return this._data.slot=t,this},key:function(t){return this._data.key=t,this},ref:function(t){return this._data.ref=t,this},init:function(){this._data=this._initData()},get:function(){return this._prev=this._data,this.init(),this._prev},getPrev:function(){return this._prev}},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(1),o=function(t,e){var n=e.field,r=e.type,o=e.title,s=void 0===o?"":o,a=e.options,u=void 0===a?[]:a,l=e.props,c=void 0===l?{}:l,p=e.validate,d=void 0===p?[]:p,h=e.event,f=void 0===h?{}:h,v=e.value,m=void 0===v?"":v,g=e.slot,y=void 0===g?{}:g;n=n.toString(),this.rule={field:n,type:r,title:s,options:u,props:c,slot:y,value:(0,i.deepExtend)(Object.create(null),{value:m}).value,validate:(0,i.isArray)(d)?d:[d],event:Object.keys(f).reduce(function(t,e){return t["on-"+e]=f[e],t},{})},this.vm=t,this.unique=(0,i.uniqueId)(),this.verify(),this.handle(),this.refName=n+""+this.unique};o.prototype={el:function(){return this._el||(this._el=this.vm.$refs[this.refName]),this._el||{}},handle:function(){this.changeParseValue(this.rule.value)},verify:function(){},getField:function(){return this.rule.field},getValidate:function(){return this.rule.validate},getValue:function(){return this.parseValue},changeValue:function(t){this.rule.value=t,this.handle()},getRule:function(){return this.rule},getParseValue:function(){return this.parseValue},changeParseValue:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vm.changeFormData(this.rule.field,t),this.parseValue=t}};var s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(t,e){o.call(this,t,e)};return e.prototype=Object.create(o.prototype),Object.assign(e.prototype,t),e.prototype.constructor=e,e},a=s(),u=s({handle:function(){var t=this,e=void 0;(0,i.isArray)(this.rule.value)?(e=[],this.rule.value.forEach(function(n){t.rule.options.forEach(function(t){t.value===n&&e.push(t.label)})})):this.rule.options.forEach(function(n){n.value===t.rule.value&&(e=n.label)}),this.changeParseValue(e)},getValue:function(){var t=this,e="";return(0,i.isArray)(this.parseValue)?(e=[],this.parseValue.forEach(function(n){t.rule.options.forEach(function(t){t.label===n&&e.push(t.value)})}),e=1===this.rule.options.length?e[0]||"":e):this.rule.options.forEach(function(n){n.label===t.parseValue&&(e=n.value)}),e}}),l=s({handle:function(){var t=(0,i.isArray)(this.rule.value);this.rule.props&&!0===this.rule.props.multiple?this.changeParseValue(!0===t?this.rule.value:[this.rule.value]):this.changeParseValue(!0===t?this.rule.value[0]:this.rule.value)}}),c=s({verify:function(){this.rule.props.type=this.rule.props.type?this.rule.props.type:"datepicker"===this.rule.type?"date":"time"},handle:function(){var t=this,e=this.rule.value;-1!==["daterange","datetimerange","timerange"].indexOf(this.rule.props.type)?((0,i.isArray)(e)||(e=["",""]),e=e.map(function(e){return e?t.timeStampToDate(e):""})):((0,i.isArray)(e)&&(e=e[0]),e=e?this.timeStampToDate(e):""),this.changeParseValue(e)},getValue:function(){return this.el().publicStringValue},timeStampToDate:function(t){if((0,i.isDate)(t))return t;var e=new Date(t);return"Invalid Date"===e.toString()?t:e},dateToTimeStamp:function(t){var e=Date.parse(t);return Number.isNaN(e)?t:e}}),p=s({handle:function(){var t=parseFloat(this.rule.value);Number.isNaN(t)&&(t=""),this.changeParseValue(t)}}),d=s({verify:function(){this.rule.props.defaultFileList=[],this.rule.props.showUploadList=!1,this.rule.props.uploadType=this.rule.props.uploadType?this.rule.props.uploadType:"file"},handle:function(){var t=(0,i.isArray)(this.rule.value)?this.rule.value:this.rule.value?[this.rule.value]:[];this.changeParseValue({files:t,status:"normal"})},push:function(t){this.parseValue.files.push(t),this.changeParseValue(this.parseValue)},getValue:function(){return this.rule.props.maxLength<=1?this.parseValue.files[0]||"":this.parseValue.files}}),h=s({verify:function(){void 0===this.rule.slot&&(this.rule.slot={})}}),f=s({verify:function(){this.rule.props.data||(this.rule.props.data=[]),(0,i.isArray)(this.rule.value)||(this.rule.value=[])},getValue:function(){return this.el().value}}),v={hidden:a,input:a,radio:u,checkbox:u,switch:h,select:l,datepicker:c,timepicker:c,inputnumber:p,colorpicker:a,upload:d,cascader:f},m=function(t,e,n){var i=v[e.type],o=(0,r.getRender)(e.type);if(void 0===i||void 0===o)throw new Error(e.type+" 表单类型不存在");var s=new i(t,e);return s.render=new o(t,s,n),s};e.default=m}])});