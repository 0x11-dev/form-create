/*!
 * @form-create/core v0.0.1
 * (c) 2018-2019 xaboy
 * Github https://github.com/xaboy/form-create
 * Released under the MIT License.
 */
import e from"@vue/babel-helper-vue-jsx-merge-props";import t from"vue";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,r,n){t.set(e,r,n)}function f(e,r){t.delete(e,r)}function d(e){return Array.isArray(e)&&e.length>0}var v=Object.prototype.toString;function p(e){return null==e}function m(e){return null==e?"":"object"===r(e)?JSON.stringify(e,null,2):String(e)}function y(e,t){for(var r in t)h(e,r,t[r]);return e}function b(e,t){return v.call(e)==="[object "+t+"]"}function _(e){return b(e,"Object")}function k(e){return b(e,"Function")}function g(e){return b(e,"String")}function $(e){return b(e,"Boolean")}function C(e){return"object"===r(e)&&null!==e&&1===e.nodeType&&!_(e)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!1;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if((r=Array.isArray(i))||_(i)){var o=void 0===e[n];r?(r=!1,o&&h(e,n,[])):o&&h(e,n,{}),w(e[n],i)}else h(e,n,i)}return e}var O=0;function A(){return++O}function D(e){return"\ngithub:https://github.com/xaboy/form-create\ndocument:http://www.form-create.com"+(e||"")}var P="FormCreate";function j(e,t){return{name:P,props:{rule:{type:Array,required:!0,default:function(){return{}}},option:{type:Object,default:function(){return{}},required:!1},value:Object},data:function(){return{formData:void 0,buttonProps:void 0,resetProps:void 0,$f:void 0,isShow:!0,unique:1}},components:t,render:function(){return this.formCreate.render()},methods:{_buttonProps:function(e){this.$set(this,"buttonProps",w(this.buttonProps,e))},_resetProps:function(e){this.$set(this,"resetProps",w(this.resetProps,e))},_refresh:function(){this.unique+=1}},watch:{option:"_refresh",rule:function(e){this.formCreate.handle.reloadRule(e)}},beforeCreate:function(){var t=this.$options.propsData,r=t.rule,n=t.option;this.formCreate=new e(r,n),this.formCreate.beforeCreate(this)},created:function(){this.formCreate.created(),this.$f=this.formCreate.api(),this.$emit("input",this.$f)},mounted:function(){this.formCreate.mounted(),this.$emit("input",this.$f)},beforeDestroy:function(){this.formCreate.handle.reloadRule([]),this.formCreate.handle.$render.clearCacheAll()}}}var E=function(){function e(){n(this,e),this.init()}return o(e,[{key:"class",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p(e)?this:(Array.isArray(e)?e.forEach(function(e){h(t._data.class,m(e),!0)}):_(e)?h(this._data,"class",y(this._data.class,e)):h(this._data.class,m(e),void 0===r||r),this)}},{key:"directives",value:function(e){return p(e)?this:(h(this._data,"directives",this._data.directives.concat((t=e,Array.isArray(t)?t:p(t)?[]:[t]))),this);var t}},{key:"init",value:function(){return this._data={class:{},style:{},attrs:{},props:{},domProps:{},on:{},nativeOn:{},directives:[],scopedSlots:{},slot:void 0,key:void 0,ref:void 0},this}},{key:"get",value:function(){var e=this,t=Object.keys(this._data).reduce(function(t,r){var n=e._data[r];return void 0===n?t:Array.isArray(n)&&!n.length?t:Object.keys(n).length?(t[r]=n,t):t},{});return this.init(),t}}]),e}();function S(e){return function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new R(e,t,r,n,i)}}function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return function(n,i,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=new R(e,n,i,o,a);return k(t)?t(s):s.props(r,t),s}}["ref","key","slot"].forEach(function(e){E.prototype[e]=function(t){return h(this._data,e,t),this}}),["scopedSlots","nativeOn","on","domProps","props","attrs","style"].forEach(function(e){E.prototype[e]=function(t,r){return p(t)?this:(_(t)?h(this._data,e,y(this._data[e],t)):h(this._data[e],m(t),r),this)}});var R=function(e){function t(e,r,i,o){var a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return n(this,t),y((a=c(this,s(t).call(this)))._data,{validate:[],options:[],col:{},children:[],emit:[],template:void 0,emitPrefix:void 0}),y(a._data,{type:e,title:r,field:i,value:o}),_(u)&&a.props(u),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,E),o(t,[{key:"type",value:function(e){return this.props("type",e),this}},{key:"getRule",value:function(){return this._data}},{key:"event",value:function(){return this.on.apply(this,arguments),this}}]),t}();["emitPrefix","className","defaultSlot","value","name","title"].forEach(function(e){R.prototype[e]=function(t){return h(this._data,e,t),this}});["col"].forEach(function(e){R.prototype[e]=function(t){return h(this._data,e,y(this._data[e],t)),this}});function V(){var e={},t=S("");return y(e,{create:function(e,r,n){var i=t("",r);return i._data.type=e,i._data.title=n,i},createTmp:function(e,r,n,i){var o=t("",n);return o._data.type="template",o._data.template=e,o._data.title=i,o._data.vm=r,o}}),e.template=e.createTmp,e.parse=L,e}function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(g(e)&&(e=JSON.parse(e)),e instanceof R)return t?e:e.getRule();if(_(e)){var r=function(e){var t=new R;return Object.keys(e).forEach(function(r){t._data[r]=e[r]}),t}(e);return t?r:r.getRule()}if(Array.isArray(e)){var n=e.map(function(e){return L(e,t)});return Object.defineProperty(n,"find",{value:F,enumerable:!1,configurable:!1}),n}return e}function F(e){var t=[];for(var r in this){var n=this[r]instanceof R?this[r].rule:this[r];if(n.field===e)return this[r];d(n.children)&&(t=t.concat(n.children))}if(t.length>0)return F.call(t,e)}["validate","options","children","emit"].forEach(function(e){R.prototype[e]=function(t){return Array.isArray(t)||(t=[t]),h(this._data,e,this._data[e].concat(t)),this}});var x,T,q,B=function(){function e(t){n(this,e),t&&this.setVm(t)}return o(e,[{key:"setVm",value:function(e){this.vm=e,this.$h=e.$createElement}},{key:"make",value:function(e,t,r){var n,i=this.$h(e,function(e){return g(e)?e={domProps:{innerHTML:e}}:e&&k(e.get)&&(e=e.get()),e}(t),k(n=r)?n():n||[]);return i.context=this.vm,i}}],[{key:"use",value:function(t){Object.keys(t).forEach(function(r){e.prototype[r]=function(e,n){return this.make(t[r],e,n)}})}}]),e}(),I=function(){function e(t,r,i){n(this,e),this.rule=r,this.vData=new E,this.vNode=new B,this.id=i,this.watch=[],this.type=m(r.type),this.isDef=!0,this.el=void 0,r.field?this.field=r.field:(this.field="_def_"+A(),this.isDef=!1),this.name=r.name,this.unique="fc_"+i,this.key="key_"+i,this.refName="__"+this.field+this.id,this.formItemRefName="fi"+this.refName,this.update(t),this.init()}return o(e,[{key:"update",value:function(e){this.$handle=e,this.$render=e.$render,this.vm=e.vm,this.options=e.options,this.vNode.setVm(this.vm),this.deleted=!1}},{key:"init",value:function(){}},{key:"toFormValue",value:function(e){return e}},{key:"toValue",value:function(e){return e}}]),e}(),G=(x=function(e){return e()},T=1,q=null,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];null!==q&&clearTimeout(q),q=setTimeout(function(){return x.apply(void 0,t)},T)}),J=function(){function e(t){n(this,e),this.$handle=t,this.fc=t.fc,this.vm=t.vm,this.options=t.options,this.form=t.$form,this.vNode=new B(this.vm),this.vData=new E,this.cache={},this.renderList={}}return o(e,[{key:"clearCache",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.cache[e.id]){this.cacheStatus(e)&&this.$handle.refresh();var r=this.cache[e.id].parent;this.cache[e.id]=null,r&&t&&this.clearCache(r,t)}}},{key:"clearCacheAll",value:function(){this.cache={}}},{key:"setCache",value:function(e,t,r){this.cache[e.id]={vnode:t,use:!1,parent:r}}},{key:"cacheStatus",value:function(e){return this.cache[e.id]&&(!0===this.cache[e.id].use||this.cache[e.id].parent)}},{key:"getCache",value:function(e){var t=this.cache[e.id];return t.use=!0,t.vnode}},{key:"initOrgChildren",value:function(){var e=this.$handle.parsers;this.orgChildren=Object.keys(e).reduce(function(t,r){var n=e[r].rule.children;return t[r]=d(n)?l(n):[],t},{})}},{key:"run",value:function(){var e=this;if(this.vm.isShow){this.form.beforeRender();var t=this.$handle.sortList.map(function(t){var r=e.$handle.parsers[t];if("hidden"!==r.type)return e.renderParser(r)}).filter(function(e){return void 0!==e});return this.form.render(t)}}},{key:"setGlobalConfig",value:function(e){this.options.global&&(this.options.global["*"]&&this.toData(e,this.options.global["*"]),this.options.global[e.type]&&this.toData(e,this.options.global[e.type]))}},{key:"renderTemplate",value:function(e){var t=this,r=e.id,n=e.rule,i=e.key;if(void 0===W.compile)return console.error("使用的 Vue 版本不支持 compile"+D()),[];this.renderList[r]||(p(n.vm)&&(n.vm=new W),this.renderList[r]=W.compile(n.template)),function(e){var t=e.rule;if(!t.vm.$props)return;var r=Object.keys(t.vm.$props);r.forEach(function(e){void 0!==t.props[e]&&(t.vm.$props[e]=t.props[e])}),-1!==r.indexOf("value")&&(t.vm.$props.value=e.rule.value)}(e),n.vm.$off("input"),n.vm.$on("input",function(r){t.onInput(e,r)});var o=this.renderList[r].render.call(n.vm);return void 0===o.data&&(o.data={}),o.key=i,o}},{key:"renderParser",value:function(e,t){if(e.vData.get(),this.setGlobalConfig(e),!this.cache[e.id]||"template"===e.type){var r,n=e.type,i=e.rule,o=this.form;if("template"===n&&i.template){if(r=this.renderTemplate(e),t)return this.setCache(e,r,t),r}else if(this.$handle.isNoVal(e)){if(r=this.vNode.make(n,this.inputVData(e),this.renderChildren(e)),t)return this.setCache(e,r,t),r}else{var a=this.renderChildren(e);r=e.render?e.render(a):this.defaultRender(e,a)}var s=o.container(r,e);return this.setCache(e,s,t),s}return this.getCache(e)}},{key:"toData",value:function(e,t){return Object.keys(e.vData._data).forEach(function(r){void 0!==t[r]&&e.vData[r](t[r])}),e.vData}},{key:"parserToData",value:function(e){return this.toData(e,e.rule)}},{key:"inputVData",value:function(e,t){var r=this,n=e.refName,i=e.key,o=e.rule;this.parserToData(e);var a=e.vData.ref(n).key("fc_item"+i);return t||a.on("input",function(t){r.onInput(e,t)}).props("value",this.$handle.getFormData(e)),p(o.props.size)&&a.props("size",this.$handle.options.form.size),a}},{key:"onInput",value:function(e,t){this.$handle.onInput(e,t)}},{key:"renderChildren",value:function(e){var t=this,r=e.rule.children,n=this.orgChildren[e.id];return d(r)?(this.orgChildren[e.id].forEach(function(e){-1===r.indexOf(e)&&!g(e)&&e.__fc__&&t.$handle.removeField(e.__fc__)}),r.map(function(r){return g(r)?r:r.__fc__?t.renderParser(r.__fc__,e):void G(function(){return t.$handle.reloadRule()})})):(n.forEach(function(e){!g(e)&&e.__fc__&&t.$handle.removeField(e.__fc__)}),this.orgChildren[e.id]=[],[])}},{key:"defaultRender",value:function(e,t){return this.vNode[e.type]?this.vNode[e.type](this.inputVData(e),t):this.vNode.make(e.type,this.inputVData(e),t)}}]),e}();var z=function(){function e(t){n(this,e);var r=t.vm,i=t.rules,o=t.options;this.vm=r,this.fc=t,this.id=A(),this.options=o,this.validate={},this.formData={},this.fCreateApi=void 0,this.__init(i),this.$form=new t.drive.formRender(this,this.id),this.$render=new J(this),this.loadRule(this.rules,!1),this.$render.initOrgChildren(),this.$form.init()}return o(e,[{key:"__init",value:function(e){this.fieldList={},this.trueData={},this.parsers={},this.customData={},this.sortList=[],this.rules=e,this.origin=l(this.rules)}},{key:"loadRule",value:function(e,t){var r=this;e.map(function(e){if(!t||!g(e)){if(!e.type)return console.error("未定义生成规则的 type 字段"+D());var n;if(e.__fc__){if((n=e.__fc__).vm!==r.vm&&!n.deleted)return console.error("".concat(e.type,"规则正在其他的 <form-create> 中使用")+D());n.update(r)}else n=r.createParser(r.parseRule(e));var i=n.rule.children,o=n.rule;return r.notField(n.field)?(r.setParser(n),e.__fc__||function(e,t){Object.defineProperties(e,{__field__:{value:t.field,enumerable:!1,configurable:!1},__fc__:{value:t,enumerable:!1,configurable:!1}})}(e,n),d(i)&&r.loadRule(i,!0),t||r.sortList.push(n.id),r.isNoVal(n)||Object.defineProperty(n.rule,"value",{get:function(){return n.toValue(r.getFormData(n))},set:function(e){r.isChange(n,e)&&(r.$render.clearCache(n,!0),r.setFormData(n,n.toFormValue(e)))}}),n):console.error("".concat(o.field," 字段已存在")+D())}}).filter(function(e){return e}).forEach(function(t){t.root=e})}},{key:"createParser",value:function(e){var t=this.id+""+A(),r=this.fc.parsers,n=m(e.type).toLocaleLowerCase();return new(r[n]?r[n]:I)(this,e,t)}},{key:"parseRule",value:function(e){var t={validate:[],col:{},emit:[],props:{},on:{},options:[],title:"",value:"",field:"",name:"",className:""},r=function(e){return k(e.getRule)?e.getRule():e}(e);Object.keys(t).forEach(function(e){p(r[e])&&h(r,e,t[e])});var n,i={options:(n=r.options,Array.isArray(n)?n:[])};return i.on=function(e,t){Object.keys(t).length>0&&y(e,t);return e}(r.on,this.parseEmit(r)),Object.keys(i).forEach(function(e){h(r,e,i[e])}),r}},{key:"parseEmit",value:function(e){var t=this,r={},n=e.emit,i=e.emitPrefix,o=e.field;return Array.isArray(n)?(n.forEach(function(e){var n,a,s=(n="".concat(i||o,"-").concat(e),a=n.replace(/([A-Z])/g,"-$1").toLowerCase(),0===a.indexOf("-")&&(a=a.substr(1)),a).replace("_","-");r[e]=function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(e=t.vm).$emit.apply(e,[s].concat(n))}}),r):r}},{key:"run",value:function(){return this.vm.unique>0?this.$render.run():(this.vm.unique=1,[])}},{key:"setParser",value:function(e){var t=e.id,r=e.field,n=e.name,i=e.rule;this.parsers[t]||(this.parsers[t]=e,this.isNoVal(e)?n&&h(this.customData,n,e):(this.fieldList[r]=e,h(this.formData,r,e.toFormValue(i.value)),h(this.validate,r,i.validate||[]),h(this.trueData,r,e)))}},{key:"notField",value:function(e){return void 0===this.parsers[e]}},{key:"isChange",value:function(e,t){return JSON.stringify(e.rule.value)!==JSON.stringify(t)}},{key:"onInput",value:function(e,t){!this.isNoVal(e)&&this.isChange(e,e.toValue(t))&&(this.$render.clearCache(e),this.setFormData(e,t))}},{key:"getParser",value:function(e){return this.fieldList[e]?this.fieldList[e]:this.customData[e]?this.customData[e]:this.parsers[e]?this.parsers[e]:void 0}},{key:"created",value:function(){var e=this.vm;e.$set(e,"buttonProps",this.options.submitBtn),e.$set(e,"resetProps",this.options.resetBtn),e.$set(e,"formData",this.formData),void 0===this.fCreateApi&&(this.fCreateApi=this.fc.drive.getGlobalApi(this)),this.fCreateApi.rule=this.rules,this.fCreateApi.config=this.options}},{key:"addParserWitch",value:function(e){var t=this,r=this.vm;Object.keys(e.rule).forEach(function(n){-1===["field","type","value","vm","template","name","config","children"].indexOf(n)&&void 0!==e.rule[n]&&e.watch.push(r.$watch(function(){return e.rule[n]},function(r,n){void 0!==n&&t.$render.clearCache(e)},{deep:!0,immediate:!0}))}),e.watch.push(r.$watch(function(){return e.rule.children},function(r,n){void 0!==n&&t.$render.clearCache(e,!0)}))}},{key:"mountedParser",value:function(){var e=this,t=this.vm;Object.keys(this.parsers).forEach(function(r){var n=e.parsers[r];0===n.watch.length&&e.addParserWitch(n),n.el=t.$refs[n.refName]||{},void 0===n.defaultValue&&(n.defaultValue=w({},{value:n.rule.value}).value),n.mounted&&n.mounted()})}},{key:"mounted",value:function(){var e=this.options.mounted;this.mountedParser(),e&&e(this.fCreateApi),this.fc.$emit("mounted",this.fCreateApi)}},{key:"reload",value:function(){var e=this.options.onReload;this.mountedParser(),e&&e(this.fCreateApi),this.fc.$emit("reload",this.fCreateApi)}},{key:"removeField",value:function(e){var t=e.id,r=e.field,n=this.sortList.indexOf(t);!function(e){e.watch.forEach(function(e){return e()}),e.watch=[],e.deleted=!0,Object.defineProperty(e.rule,"value",{value:y({},{value:e.rule.value}).value})}(e),f(this.parsers,t),f(this.validate,r),-1!==n&&this.sortList.splice(n,1),f(this.formData,r),f(this.customData,r),f(this.fieldList,r),f(this.trueData,r)}},{key:"refresh",value:function(){this.vm._refresh()}},{key:"reloadRule",value:function(e){var t=this,r=this.vm;if(!e)return this.reloadRule(this.rules);this.origin.length||this.fCreateApi.refresh(),this.origin=l(e);var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}({},this.parsers);this.__init(e),this.loadRule(e,!1),Object.keys(n).filter(function(e){return void 0===t.parsers[e]}).forEach(function(e){return t.removeField(n[e])}),this.$render.initOrgChildren(),this.created(),r.$nextTick(function(){t.reload()}),r.$f=this.fCreateApi,this.$render.clearCacheAll(),this.refresh()}},{key:"setFormData",value:function(e,t){this.formData[e.field]=t}},{key:"getFormData",value:function(e){return this.formData[e.field]}},{key:"fields",value:function(){return Object.keys(this.formData)}},{key:"isNoVal",value:function(e){return!e.isDef}}]),e}();var W="undefined"!=typeof window&&window.Vue?window.Vue:t;var H=function(){function e(t){n(this,e),this.$handle=t,this.vm=t.vm,this.drive=this.$handle.fc.drive,this.options=t.options,this.vNode=new B(this.vm),this.vData=new E,this.unique=t.id}return o(e,[{key:"init",value:function(){this.$render=this.$handle.$render}},{key:"getGetCol",value:function(e){var t=e.rule.col||{},r={},n={};return this.options.global?(this.options.global["*"]&&(r=this.options.global["*"].col||{}),this.options.global[e.type]&&(n=this.options.global[e.type].col||{}),t=w(w(w({},r),n),t)):t}},{key:"beforeRender",value:function(){}},{key:"render",value:function(){}}]),e}();console.log("-----------------------------"),console.log("-----------------------------");export default function(t){var r={},i={},a=V(),s=t.getConfig();function u(e,t){e=m(e),i[e.toLocaleLowerCase()]=t,v.maker[e]=S(e)}function c(e,t){var n=(e=m(e)).toLocaleLowerCase();return"form-create"===n||"formcreate"===n?W.extend(j(v,r)):void 0===t?r[m(e)]:void(r[m(e)]=t)}function l(e,t){$(t.sumbitBtn)&&(t.sumbitBtn={show:t.sumbitBtn}),$(t.resetBtn)&&(t.resetBtn={show:t.resetBtn});var r=w(e,t);return h(r,"el",r.el?C(r.el)?r.el:document.querySelector(r.el):window.document.body),r}function f(e){y(e,{version:t.version,ui:t.ui,maker:a,component:c,setParser:u,$formCreate:function(){return j(e,r)}})}function d(t,r){var n=new W({data:function(){return{rule:t,option:C(r)?{el:r}:r}},render:function(){return(0,arguments[0])("form-create",e([{ref:"fc"},{props:this.$data}]))}});return n.$mount(),n}var v=function(){function e(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.fCreateApi=void 0,this.drive=t,this.parsers=i,this.vm=void 0,this.rules=Array.isArray(r)?r:[],this.options=l(w({},s),o)}return o(e,[{key:"beforeCreate",value:function(e){this.vm=e,this.handle=new z(this)}},{key:"created",value:function(){this.handle.created()}},{key:"api",value:function(){return this.handle.fCreateApi}},{key:"render",value:function(){return this.handle.run()}},{key:"mounted",value:function(){this.handle.mounted()}},{key:"$emit",value:function(e){for(var t,r,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this.$parent&&(t=this.$parent).$emit.apply(t,["fc:".concat(e)].concat(i)),(r=this.vm).$emit.apply(r,[e].concat(i))}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=d(e,t),i=n.$refs.fc.formCreate;return i.parent=r,i.options.el.appendChild(n.$el),i.handle.fCreateApi}},{key:"install",value:function(t){var n=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.create(t,r,this)};f(n),t.prototype.$formCreate=n,t.component(P,t.extend(j(e,r))),W=t}},{key:"init",value:function(e){var t=d(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=t.$refs.fc.formCreate;return{mount:function(e){return e&&C(e)&&(r.options.el=e),r.options.el.appendChild(t.$el),r.handle.fCreateApi},remove:function(){r.options.el.removeChild(t.$el)},$f:r.handle.fCreateApi}}}]),e}();return f(v),t.components.forEach(function(e){v.component(e.name,e)}),t.parsers.forEach(function(e){var t=e.name,r=e.parser;v.setParser(t,r)}),Object.keys(t.makers).forEach(function(e){v.maker[e]=t.makers[e]}),{FormCreate:v,install:function(e,t){!0!==e._installedFormCreate&&(e._installedFormCreate=!0,t&&_(t)&&l(s,t),e.use(v))}}}export{H as BaseForm,I as BaseParser,R as Creator,z as Handle,J as Render,E as VData,B as VNode,W as Vue,S as creatorFactory,N as creatorTypeFactory,V as makerFactory};
//# sourceMappingURL=form-create.core.min.js.map
